import{u as ee,r as i,j as e,L as se}from"./index-DZFJU_ZF.js";const ae="_container_1lwqx_1",te="_header_1lwqx_6",ne="_title_1lwqx_12",ie="_subtitle_1lwqx_19",ce="_uploadSection_1lwqx_25",oe="_uploadContent_1lwqx_34",le="_emptyStateHero_1lwqx_39",re="_savingsIllustration_1lwqx_44",de="_pulse_1lwqx_1",pe="_emptyStateTitle_1lwqx_57",xe="_emptyStateSubtitle_1lwqx_64",he="_unlockBenefits_1lwqx_70",me="_unlockItem_1lwqx_79",ue="_previewSection_1lwqx_94",_e="_blurredPreview_1lwqx_98",ye="_previewCard_1lwqx_104",we="_previewMetric_1lwqx_116",ge="_previewLabel_1lwqx_122",je="_previewValue_1lwqx_129",ve="_previewOverlay_1lwqx_135",Ne="_uploadIcon_1lwqx_155",Se="_uploadBenefits_1lwqx_173",fe="_calendarPreview_1lwqx_189",qe="_calendarTitle_1lwqx_196",Te="_deadlinesList_1lwqx_210",Ce="_deadlineCard_1lwqx_216",Ie="_now_1lwqx_227",ke="_soon_1lwqx_231",be="_plan_1lwqx_235",De="_deadlineDate_1lwqx_239",Be="_deadlineInfo_1lwqx_246",Me="_deadlineImpact_1lwqx_259",Ae="_dropzone_1lwqx_265",Le="_hasFile_1lwqx_285",Pe="_fileInput_1lwqx_308",ze="_filePreview_1lwqx_315",He="_fileName_1lwqx_327",Re="_removeFile_1lwqx_333",Fe="_analyzeButton_1lwqx_348",$e="_dashboard_1lwqx_372",We="_taxSummary_1lwqx_378",Oe="_summaryMain_1lwqx_385",Ve="_summaryCard_1lwqx_391",Ee="_summaryLabel_1lwqx_401",Ue="_summaryValue_1lwqx_409",Ye="_summarySubtext_1lwqx_416",Ge="_incomeBreakdown_1lwqx_421",Je="_breakdownBars_1lwqx_435",Ke="_breakdownItem_1lwqx_441",Qe="_twoColumn_1lwqx_448",Xe="_sectionSubtitle_1lwqx_455",Ze="_calendarSection_1lwqx_461",es="_noInsights_1lwqx_468",ss="_metricsGrid_1lwqx_475",as="_metricCard_1lwqx_482",ts="_metricLabel_1lwqx_491",ns="_metricValue_1lwqx_499",is="_sectionTitle_1lwqx_505",cs="_insightsSection_1lwqx_512",os="_insightsList_1lwqx_516",ls="_insightCard_1lwqx_521",rs="_insightContent_1lwqx_533",ds="_insightAction_1lwqx_537",ps="_insightImpact_1lwqx_544",xs="_insightCta_1lwqx_550",hs="_opportunity_1lwqx_566",ms="_warning_1lwqx_570",us="_info_1lwqx_574",_s="_insightHeader_1lwqx_578",ys="_insightType_1lwqx_585",ws="_insightSeverity_1lwqx_592",gs="_impact_1lwqx_615",js="_scenarioSection_1lwqx_623",vs="_scenarioHeader_1lwqx_630",Ns="_newScenarioButton_1lwqx_637",Ss="_scenarioBuilder_1lwqx_652",fs="_scenarioTypes_1lwqx_659",qs="_scenarioType_1lwqx_659",Ts="_scenarioTypeText_1lwqx_681",Cs="_scenarioTypeName_1lwqx_686",Is="_scenarioTypeDesc_1lwqx_690",ks="_active_1lwqx_695",bs="_scenarioIcon_1lwqx_710",Ds="_scenarioInputs_1lwqx_714",Bs="_scenarioActions_1lwqx_745",Ms="_cancelButton_1lwqx_751",As="_runButton_1lwqx_761",Ls="_scenarioResults_1lwqx_777",Ps="_resultsTitle_1lwqx_783",zs="_scenarioMetric_1lwqx_790",Hs="_scenarioResult_1lwqx_777",Rs="_scenarioResultHeader_1lwqx_800",Fs="_scenarioName_1lwqx_807",$s="_scenarioTypeLabel_1lwqx_813",Ws="_scenarioMetrics_1lwqx_822",Os="_label_1lwqx_828",Vs="_value_1lwqx_835",Es="_positive_1lwqx_841",Us="_negative_1lwqx_845",Ys="_docTypeSelector_1lwqx_897",Gs="_docTypeGrid_1lwqx_908",Js="_docTypeButton_1lwqx_914",Ks="_docTypeIcon_1lwqx_937",Qs="_docTypeName_1lwqx_941",Xs="_docTypeDesc_1lwqx_947",Zs="_fileDocType_1lwqx_952",ea="_uploadedDocsList_1lwqx_959",sa="_uploadedDoc_1lwqx_959",aa="_uploadedDocIcon_1lwqx_983",ta="_uploadedDocInfo_1lwqx_987",na="_uploadedDocName_1lwqx_992",ia="_uploadedDocType_1lwqx_1002",ca="_uploadedDocStatus_1lwqx_1007",oa="_completed_1lwqx_1013",la="_processing_1lwqx_1018",ra="_failed_1lwqx_1023",da="_rightColumn_1lwqx_1029",pa="_taxChatSection_1lwqx_1036",xa="_chatHeader_1lwqx_1045",ha="_chatMessages_1lwqx_1070",ma="_chatEmpty_1lwqx_1079",ua="_chatSuggestions_1lwqx_1094",_a="_chatMessage_1lwqx_1070",ya="_user_1lwqx_1123",wa="_assistant_1lwqx_1129",ga="_typingIndicator_1lwqx_1135",ja="_chatInputArea_1lwqx_1140",va="_chatInput_1lwqx_1140",Na="_chatSendButton_1lwqx_1166",Sa="_strategiesSection_1lwqx_1306",fa="_strategiesHeader_1lwqx_1312",qa="_totalSavings_1lwqx_1327",Ta="_savingsLabel_1lwqx_1337",Ca="_savingsValue_1lwqx_1344",Ia="_summaryBox_1lwqx_1350",ka="_strategiesList_1lwqx_1371",ba="_strategyCard_1lwqx_1377",Da="_high_1lwqx_1391",Ba="_medium_1lwqx_1395",Ma="_low_1lwqx_1399",Aa="_strategyHeader_1lwqx_1403",La="_priorityBadge_1lwqx_1412",Pa="_strategySavings_1lwqx_1434",za="_strategyTitle_1lwqx_1440",Ha="_strategyDetails_1lwqx_1447",Ra="_strategySection_1lwqx_1453",Fa="_paycheckSection_1lwqx_1470",$a="_paycheckCard_1lwqx_1476",Wa="_paycheckInfo_1lwqx_1483",Oa="_paycheckImpact_1lwqx_1496",Va="_dataPromptCard_1lwqx_1514",Ea="_promptIcon_1lwqx_1525",Ua="_promptTitle_1lwqx_1542",Ya="_promptDesc_1lwqx_1549",Ga="_promptBenefits_1lwqx_1557",s={container:ae,header:te,title:ne,subtitle:ie,uploadSection:ce,uploadContent:oe,emptyStateHero:le,savingsIllustration:re,pulse:de,emptyStateTitle:pe,emptyStateSubtitle:xe,unlockBenefits:he,unlockItem:me,previewSection:ue,blurredPreview:_e,previewCard:ye,previewMetric:we,previewLabel:ge,previewValue:je,previewOverlay:ve,uploadIcon:Ne,uploadBenefits:Se,calendarPreview:fe,calendarTitle:qe,deadlinesList:Te,deadlineCard:Ce,now:Ie,soon:ke,plan:be,deadlineDate:De,deadlineInfo:Be,deadlineImpact:Me,dropzone:Ae,hasFile:Le,fileInput:Pe,filePreview:ze,fileName:He,removeFile:Re,analyzeButton:Fe,dashboard:$e,taxSummary:We,summaryMain:Oe,summaryCard:Ve,summaryLabel:Ee,summaryValue:Ue,summarySubtext:Ye,incomeBreakdown:Ge,breakdownBars:Je,breakdownItem:Ke,twoColumn:Qe,sectionSubtitle:Xe,calendarSection:Ze,noInsights:es,metricsGrid:ss,metricCard:as,metricLabel:ts,metricValue:ns,sectionTitle:is,insightsSection:cs,insightsList:os,insightCard:ls,insightContent:rs,insightAction:ds,insightImpact:ps,insightCta:xs,opportunity:hs,warning:ms,info:us,insightHeader:_s,insightType:ys,insightSeverity:ws,impact:gs,scenarioSection:js,scenarioHeader:vs,newScenarioButton:Ns,scenarioBuilder:Ss,scenarioTypes:fs,scenarioType:qs,scenarioTypeText:Ts,scenarioTypeName:Cs,scenarioTypeDesc:Is,active:ks,scenarioIcon:bs,scenarioInputs:Ds,scenarioActions:Bs,cancelButton:Ms,runButton:As,scenarioResults:Ls,resultsTitle:Ps,scenarioMetric:zs,scenarioResult:Hs,scenarioResultHeader:Rs,scenarioName:Fs,scenarioTypeLabel:$s,scenarioMetrics:Ws,label:Os,value:Vs,positive:Es,negative:Us,docTypeSelector:Ys,docTypeGrid:Gs,docTypeButton:Js,docTypeIcon:Ks,docTypeName:Qs,docTypeDesc:Xs,fileDocType:Zs,uploadedDocsList:ea,uploadedDoc:sa,uploadedDocIcon:aa,uploadedDocInfo:ta,uploadedDocName:na,uploadedDocType:ia,uploadedDocStatus:ca,completed:oa,processing:la,failed:ra,rightColumn:da,taxChatSection:pa,chatHeader:xa,chatMessages:ha,chatEmpty:ma,chatSuggestions:ua,chatMessage:_a,user:ya,assistant:wa,typingIndicator:ga,chatInputArea:ja,chatInput:va,chatSendButton:Na,strategiesSection:Sa,strategiesHeader:fa,totalSavings:qa,savingsLabel:Ta,savingsValue:Ca,summaryBox:Ia,strategiesList:ka,strategyCard:ba,high:Da,medium:Ba,low:Ma,strategyHeader:Aa,priorityBadge:La,strategySavings:Pa,strategyTitle:za,strategyDetails:Ha,strategySection:Ra,paycheckSection:Fa,paycheckCard:$a,paycheckInfo:Wa,paycheckImpact:Oa,dataPromptCard:Va,promptIcon:Ea,promptTitle:Ua,promptDesc:Ya,promptBenefits:Ga},I=[{id:"1040",name:"Form 1040",description:"Federal tax return",icon:"ðŸ“‹"},{id:"w2",name:"W-2",description:"Wage statement",icon:"ðŸ’¼"},{id:"1099",name:"1099",description:"Income statement",icon:"ðŸ“„"},{id:"paystub",name:"Paystub",description:"Pay statement",icon:"ðŸ’µ"}];function Ka(){const{showError:k,showSuccess:v}=ee(),[r,u]=i.useState(null),[h,b]=i.useState("1040"),[D,B]=i.useState(!1),[n,M]=i.useState(null),[A,L]=i.useState([]),[P,N]=i.useState(!1),[p,S]=i.useState(""),[c,d]=i.useState({}),[z,H]=i.useState(!1),[R,U]=i.useState([]),[f,_]=i.useState([]),[y,m]=i.useState(""),[w,F]=i.useState(!1),q=i.useRef(null),$=[{date:"Dec 31",title:"Tax-Loss Harvesting Deadline",description:"Last day to realize losses to offset gains",impact:"Save up to $3,200 in taxes",urgency:"now"},{date:"Jan 15",title:"Q4 Estimated Payment Due",description:"Final quarterly estimated tax payment",impact:"Avoid underpayment penalty",urgency:"soon"},{date:"Apr 15",title:"IRA Contribution Deadline",description:"Last day for prior-year IRA contributions",impact:"Up to $7,000 tax deduction",urgency:"plan"},{date:"Apr 15",title:"Tax Filing Deadline",description:"File return or extension by this date",impact:"Avoid late filing penalties",urgency:"plan"}];i.useEffect(()=>{W(),Y(),O()},[]),i.useEffect(()=>{q.current&&q.current.scrollIntoView({behavior:"smooth"})},[f]);const W=async()=>{try{const a=await fetch("/api/tax-intel/current",{credentials:"include"});if(a.ok){const t=await a.json();t.taxData&&M(t.taxData)}}catch(a){console.error("Failed to load tax data:",a)}},Y=async()=>{try{const a=await fetch("/api/tax-intel/scenarios",{credentials:"include"});if(a.ok){const t=await a.json();L(t.scenarios||[])}}catch(a){console.error("Failed to load scenarios:",a)}},O=async()=>{try{const a=await fetch("/api/tax-intel/documents",{credentials:"include"});if(a.ok){const t=await a.json();U(t.documents||[])}}catch(a){console.error("Failed to load documents:",a)}},G=a=>{a.target.files?.[0]&&u(a.target.files[0])},J=a=>{a.preventDefault(),a.dataTransfer.files?.[0]&&u(a.dataTransfer.files[0])},K=async()=>{if(r){B(!0);try{const a=new FormData;a.append("document",r),a.append("documentType",h),a.append("documentYear",String(new Date().getFullYear()-1)),console.log("Uploading file:",r.name,r.size,r.type);const t=await fetch("/api/tax-intel/upload",{method:"POST",credentials:"include",body:a});if(!t.ok){const j=await t.json();throw new Error(j.message||"Upload failed")}const l=await t.json(),x=Object.keys(l.extractedData?.extractedLines||{}).length;v(`${r.name} uploaded! Extracted ${x} data points. Now analyzing...`),await O();const g=await fetch("/api/tax-intel/analyze",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({documentId:l.documentId,documentType:h})});if(g.ok){const j=await g.json();M(j.taxData);const E=j.taxData?.totalPotentialSavings||0;E>0?v(`Analysis complete! Found ${o(E)} in potential tax savings.`):v("Analysis complete! Your personalized tax strategies are ready.")}else k("AI analysis failed, but your data was extracted. Try refreshing."),await W();u(null),b("1040")}catch(a){console.error("Upload error:",a);const t=a instanceof Error?a.message:"Failed to upload document";k(t)}finally{B(!1)}}},V=async()=>{if(!y.trim()||w)return;const a={role:"user",content:y.trim(),timestamp:new Date};_(t=>[...t,a]),m(""),F(!0);try{const t=await fetch("/api/tax-intel/query",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({question:a.content})});if(t.ok){const x={role:"assistant",content:(await t.json()).answer,timestamp:new Date};_(g=>[...g,x])}else{const l={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};_(x=>[...x,l])}}catch(t){console.error("Chat error:",t);const l={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};_(x=>[...x,l])}finally{F(!1)}},Q=a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),V())},T=a=>{const t=I.find(l=>l.id===a);return t?t.name:a},X=async()=>{if(p){H(!0);try{const a=await fetch("/api/tax-intel/run-scenario",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({scenarioType:p,inputs:c})});if(a.ok){const t=await a.json();L(l=>[t.scenario,...l]),N(!1),S(""),d({})}}catch(a){console.error("Scenario error:",a)}finally{H(!1)}}},o=a=>a==null?"â€”":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a),C=a=>a==null?"â€”":`${a.toFixed(1)}%`,Z=[{id:"gain_realization",name:"Realize Gains",icon:"ðŸ“ˆ",description:"See tax on selling positions"},{id:"charitable_giving",name:"Charitable Gift",icon:"ðŸŽ",description:"Calculate donation deduction"},{id:"retirement_contribution",name:"Boost 401k/IRA",icon:"ðŸ’°",description:"See tax savings from contributions"},{id:"roth_conversion",name:"Roth Conversion",icon:"ðŸ”„",description:"Model conversion tax impact"}];return e.jsxs("div",{className:s.container,children:[e.jsx("div",{className:s.header,children:e.jsxs("div",{className:s.headerContent,children:[e.jsx("h1",{className:s.title,children:"Tax Command Center"}),e.jsx("p",{className:s.subtitle,children:"See exactly how much you can saveâ€”and when to act"})]})}),e.jsxs("div",{className:s.uploadSection,children:[e.jsxs("div",{className:s.uploadContent,children:[e.jsxs("div",{className:s.emptyStateHero,children:[e.jsx("div",{className:s.savingsIllustration,children:e.jsxs("svg",{viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"40",cy:"40",r:"38",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"}),e.jsx("circle",{cx:"40",cy:"40",r:"28",stroke:"currentColor",strokeWidth:"2",opacity:"0.5"}),e.jsx("path",{d:"M40 20v40M50 26h-15a7 7 0 100 14h10a7 7 0 110 14H30",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"}),e.jsx("circle",{cx:"40",cy:"40",r:"5",fill:"currentColor",opacity:"0.3"})]})}),e.jsx("h2",{className:s.emptyStateTitle,children:"Unlock Your Tax Savings Potential"}),e.jsx("p",{className:s.emptyStateSubtitle,children:"Upload any tax document to see exactly how much you could save"}),e.jsxs("div",{className:s.unlockBenefits,children:[e.jsxs("div",{className:s.unlockItem,children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Your effective vs marginal tax rate"})]}),e.jsxs("div",{className:s.unlockItem,children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Personalized savings opportunities"})]}),e.jsxs("div",{className:s.unlockItem,children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Deadline calendar for tax moves"})]})]})]}),e.jsx("div",{className:s.previewSection,children:e.jsxs("div",{className:s.dataPromptCard,children:[e.jsx("div",{className:s.promptIcon,children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"}),e.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),e.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),e.jsx("h3",{className:s.promptTitle,children:"Your Tax Data Needed"}),e.jsx("p",{className:s.promptDesc,children:"Upload your tax documents to see your actual effective rate, potential savings, and personalized strategies."}),e.jsxs("div",{className:s.promptBenefits,children:[e.jsx("span",{children:"Your effective tax rate"}),e.jsx("span",{children:"Your potential savings"}),e.jsx("span",{children:"Strategies for your situation"})]})]})}),e.jsxs("div",{className:s.docTypeSelector,children:[e.jsx("h4",{children:"Select Document Type"}),e.jsx("div",{className:s.docTypeGrid,children:I.map(a=>e.jsxs("button",{className:`${s.docTypeButton} ${h===a.id?s.active:""}`,onClick:()=>b(a.id),children:[e.jsx("span",{className:s.docTypeIcon,children:a.icon}),e.jsx("span",{className:s.docTypeName,children:a.name}),e.jsx("span",{className:s.docTypeDesc,children:a.description})]},a.id))})]}),e.jsx("div",{className:`${s.dropzone} ${r?s.hasFile:""}`,onDrop:J,onDragOver:a=>a.preventDefault(),children:r?e.jsxs("div",{className:s.filePreview,children:[e.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"})]}),e.jsx("span",{className:s.fileName,children:r.name}),e.jsxs("span",{className:s.fileDocType,children:["Uploading as: ",T(h)]}),e.jsx("button",{className:s.removeFile,onClick:()=>u(null),children:"Remove"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:s.uploadIcon,children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),e.jsx("h3",{children:"Upload Your Tax Documents"}),e.jsxs("p",{children:["Drop your ",T(h)," here or click to browse"]}),e.jsxs("div",{className:s.uploadBenefits,children:[e.jsx("span",{children:"1040s"}),e.jsx("span",{children:"W-2s"}),e.jsx("span",{children:"1099s"}),e.jsx("span",{children:"Paystubs"})]}),e.jsx("input",{type:"file",accept:".pdf",onChange:G,className:s.fileInput})]})}),r&&e.jsx("button",{className:s.analyzeButton,onClick:K,disabled:D,children:D?e.jsxs(e.Fragment,{children:[e.jsx(se,{size:"small"}),e.jsx("span",{style:{marginLeft:"0.5rem"},children:"Analyzing..."})]}):"Upload & Analyze"}),R.length>0&&e.jsxs("div",{className:s.uploadedDocsList,children:[e.jsx("h4",{children:"Your Documents"}),R.map(a=>e.jsxs("div",{className:s.uploadedDoc,children:[e.jsx("span",{className:s.uploadedDocIcon,children:I.find(t=>t.id===a.documentType)?.icon||"ðŸ“„"}),e.jsxs("div",{className:s.uploadedDocInfo,children:[e.jsx("span",{className:s.uploadedDocName,children:a.fileName}),e.jsx("span",{className:s.uploadedDocType,children:T(a.documentType)})]}),e.jsx("span",{className:`${s.uploadedDocStatus} ${s[a.status]}`,children:a.status==="completed"?"Analyzed":a.status==="processing"?"Processing...":"Failed"})]},a.id))]})]}),e.jsxs("div",{className:s.rightColumn,children:[e.jsxs("div",{className:s.taxChatSection,children:[e.jsxs("div",{className:s.chatHeader,children:[e.jsxs("h3",{children:[e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),"Tax Assistant"]}),e.jsx("p",{children:"Ask questions about your uploaded documents"})]}),e.jsxs("div",{className:s.chatMessages,children:[f.length===0?e.jsxs("div",{className:s.chatEmpty,children:[e.jsx("p",{children:"Upload your tax documents and ask me anything!"}),e.jsxs("div",{className:s.chatSuggestions,children:[e.jsx("button",{onClick:()=>m("What was my total income last year?"),children:"What was my total income?"}),e.jsx("button",{onClick:()=>m("How can I reduce my tax burden?"),children:"How can I reduce taxes?"}),e.jsx("button",{onClick:()=>m("What deductions did I take?"),children:"What deductions did I take?"})]})]}):e.jsxs(e.Fragment,{children:[f.map((a,t)=>e.jsx("div",{className:`${s.chatMessage} ${s[a.role]}`,children:e.jsx("div",{className:s.chatMessageContent,children:a.content})},t)),e.jsx("div",{ref:q})]}),w&&e.jsx("div",{className:`${s.chatMessage} ${s.assistant}`,children:e.jsx("div",{className:s.chatMessageContent,children:e.jsx("span",{className:s.typingIndicator,children:"Thinking..."})})})]}),e.jsxs("div",{className:s.chatInputArea,children:[e.jsx("input",{type:"text",value:y,onChange:a=>m(a.target.value),onKeyPress:Q,placeholder:"Ask about your taxes...",className:s.chatInput,disabled:w}),e.jsx("button",{className:s.chatSendButton,onClick:V,disabled:!y.trim()||w,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),e.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]})]}),e.jsxs("div",{className:s.calendarPreview,children:[e.jsxs("h3",{className:s.calendarTitle,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Tax Deadlines"]}),e.jsx("div",{className:s.deadlinesList,children:$.slice(0,3).map((a,t)=>e.jsxs("div",{className:`${s.deadlineCard} ${s[a.urgency]}`,children:[e.jsx("div",{className:s.deadlineDate,children:a.date}),e.jsxs("div",{className:s.deadlineInfo,children:[e.jsx("h4",{children:a.title}),e.jsx("span",{className:s.deadlineImpact,children:a.impact})]})]},t))})]})]})]}),n&&e.jsxs("div",{className:s.dashboard,children:[e.jsxs("div",{className:s.taxSummary,children:[e.jsxs("div",{className:s.summaryMain,children:[e.jsxs("div",{className:s.summaryCard,children:[e.jsx("span",{className:s.summaryLabel,children:"You Paid"}),e.jsx("span",{className:s.summaryValue,children:o(n.totalFederalTax)}),e.jsx("span",{className:s.summarySubtext,children:"in federal taxes"})]}),e.jsxs("div",{className:s.summaryCard,children:[e.jsx("span",{className:s.summaryLabel,children:"Effective Rate"}),e.jsx("span",{className:s.summaryValue,children:C(n.effectiveTaxRate)}),e.jsx("span",{className:s.summarySubtext,children:"of total income"})]}),e.jsxs("div",{className:s.summaryCard,children:[e.jsx("span",{className:s.summaryLabel,children:"Next Dollar Rate"}),e.jsx("span",{className:s.summaryValue,children:C(n.marginalTaxBracket)}),e.jsx("span",{className:s.summarySubtext,children:"marginal bracket"})]})]}),n.incomeBreakdown&&e.jsxs("div",{className:s.incomeBreakdown,children:[e.jsx("h4",{children:"Income Sources"}),e.jsxs("div",{className:s.breakdownBars,children:[(n.incomeBreakdown.wages??0)>0&&e.jsxs("div",{className:s.breakdownItem,children:[e.jsx("span",{children:"Wages"}),e.jsx("span",{children:o(n.incomeBreakdown.wages)})]}),(n.incomeBreakdown.capitalGains??0)>0&&e.jsxs("div",{className:s.breakdownItem,children:[e.jsx("span",{children:"Capital Gains"}),e.jsx("span",{children:o(n.incomeBreakdown.capitalGains)})]}),(n.incomeBreakdown.dividends??0)>0&&e.jsxs("div",{className:s.breakdownItem,children:[e.jsx("span",{children:"Dividends"}),e.jsx("span",{children:o(n.incomeBreakdown.dividends)})]}),(n.incomeBreakdown.business??0)>0&&e.jsxs("div",{className:s.breakdownItem,children:[e.jsx("span",{children:"Business Income"}),e.jsx("span",{children:o(n.incomeBreakdown.business)})]})]})]})]}),e.jsxs("div",{className:s.twoColumn,children:[e.jsxs("div",{className:s.insightsSection,children:[e.jsx("h3",{className:s.sectionTitle,children:"Money Opportunities"}),e.jsx("p",{className:s.sectionSubtitle,children:"Actions ranked by potential savings"}),n.insights&&n.insights.length>0?e.jsx("div",{className:s.insightsList,children:n.insights.map((a,t)=>e.jsxs("div",{className:`${s.insightCard} ${s[a.severity]}`,children:[e.jsxs("div",{className:s.insightContent,children:[e.jsx("h4",{children:a.title}),e.jsx("p",{children:a.description})]}),e.jsxs("div",{className:s.insightAction,children:[a.potentialImpact&&e.jsxs("span",{className:s.insightImpact,children:["Save ",o(a.potentialImpact)]}),e.jsx("button",{className:s.insightCta,children:a.action||"See Strategy"})]})]},t))}):e.jsx("div",{className:s.noInsights,children:e.jsx("p",{children:"We're analyzing your return for optimization opportunities..."})})]}),e.jsxs("div",{className:s.calendarSection,children:[e.jsx("h3",{className:s.sectionTitle,children:"Tax Timing Calendar"}),e.jsx("p",{className:s.sectionSubtitle,children:"Upcoming deadlines & decision windows"}),e.jsx("div",{className:s.deadlinesList,children:$.map((a,t)=>e.jsxs("div",{className:`${s.deadlineCard} ${s[a.urgency]}`,children:[e.jsx("div",{className:s.deadlineDate,children:a.date}),e.jsxs("div",{className:s.deadlineInfo,children:[e.jsx("h4",{children:a.title}),e.jsx("span",{className:s.deadlineImpact,children:a.impact})]})]},t))})]})]}),n.taxStrategies&&n.taxStrategies.length>0&&e.jsxs("div",{className:s.strategiesSection,children:[e.jsxs("div",{className:s.strategiesHeader,children:[e.jsxs("h3",{className:s.sectionTitle,children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),"Your Tax-Saving Playbook"]}),n.totalPotentialSavings&&n.totalPotentialSavings>0&&e.jsxs("div",{className:s.totalSavings,children:[e.jsx("span",{className:s.savingsLabel,children:"Total Potential Savings"}),e.jsx("span",{className:s.savingsValue,children:o(n.totalPotentialSavings)})]})]}),n.summaryRecommendation&&e.jsxs("div",{className:s.summaryBox,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 16v-4"}),e.jsx("path",{d:"M12 8h.01"})]}),e.jsx("p",{children:n.summaryRecommendation})]}),e.jsx("div",{className:s.strategiesList,children:n.taxStrategies.map((a,t)=>e.jsxs("div",{className:`${s.strategyCard} ${s[a.priority]}`,children:[e.jsxs("div",{className:s.strategyHeader,children:[e.jsx("span",{className:`${s.priorityBadge} ${s[a.priority]}`,children:a.priority==="high"?"High Impact":a.priority==="medium"?"Medium Impact":"Consider"}),a.potentialSavings>0&&e.jsxs("span",{className:s.strategySavings,children:["Save ",o(a.potentialSavings)]})]}),e.jsx("h4",{className:s.strategyTitle,children:a.strategy}),e.jsxs("div",{className:s.strategyDetails,children:[e.jsxs("div",{className:s.strategySection,children:[e.jsx("strong",{children:"Current Situation:"}),e.jsx("p",{children:a.currentSituation})]}),e.jsxs("div",{className:s.strategySection,children:[e.jsx("strong",{children:"Recommendation:"}),e.jsx("p",{children:a.recommendation})]}),e.jsxs("div",{className:s.strategySection,children:[e.jsx("strong",{children:"How to Implement:"}),e.jsx("p",{children:a.howToImplement})]})]})]},t))})]}),n.paycheckOptimization&&e.jsxs("div",{className:s.paycheckSection,children:[e.jsxs("h3",{className:s.sectionTitle,children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),"Paycheck Optimization"]}),e.jsxs("div",{className:s.paycheckCard,children:[e.jsxs("div",{className:s.paycheckInfo,children:[e.jsx("p",{children:e.jsx("strong",{children:"Current Withholding Analysis:"})}),e.jsx("p",{children:n.paycheckOptimization.currentWithholding})]}),e.jsxs("div",{className:s.paycheckInfo,children:[e.jsx("p",{children:e.jsx("strong",{children:"Suggested W-4 Changes:"})}),e.jsx("p",{children:n.paycheckOptimization.suggestedW4Changes})]}),n.paycheckOptimization.monthlyImpact!==0&&e.jsxs("div",{className:s.paycheckImpact,children:[e.jsx("span",{children:"Estimated Monthly Impact:"}),e.jsxs("span",{className:n.paycheckOptimization.monthlyImpact>0?s.positive:s.negative,children:[n.paycheckOptimization.monthlyImpact>0?"+":"",o(n.paycheckOptimization.monthlyImpact),"/month"]})]})]})]}),e.jsxs("div",{className:s.scenarioSection,children:[e.jsxs("div",{className:s.scenarioHeader,children:[e.jsxs("div",{children:[e.jsx("h3",{className:s.sectionTitle,children:"What-If Calculator"}),e.jsx("p",{className:s.sectionSubtitle,children:"Model decisions before you make them"})]}),!P&&e.jsx("button",{className:s.newScenarioButton,onClick:()=>N(!0),children:"+ Run New Scenario"})]}),P&&e.jsxs("div",{className:s.scenarioBuilder,children:[e.jsx("div",{className:s.scenarioTypes,children:Z.map(a=>e.jsxs("button",{className:`${s.scenarioType} ${p===a.id?s.active:""}`,onClick:()=>S(a.id),children:[e.jsx("span",{className:s.scenarioIcon,children:a.icon}),e.jsxs("div",{className:s.scenarioTypeText,children:[e.jsx("span",{className:s.scenarioTypeName,children:a.name}),e.jsx("span",{className:s.scenarioTypeDesc,children:a.description})]})]},a.id))}),p==="gain_realization"&&e.jsxs("div",{className:s.scenarioInputs,children:[e.jsxs("label",{children:["Gain Amount",e.jsx("input",{type:"number",placeholder:"50000",value:c.gainAmount||"",onChange:a=>d({...c,gainAmount:a.target.value})})]}),e.jsxs("label",{children:["Holding Period",e.jsxs("select",{value:c.holdingPeriod||"",onChange:a=>d({...c,holdingPeriod:a.target.value}),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"short",children:"Short-term (< 1 year)"}),e.jsx("option",{value:"long",children:"Long-term (> 1 year)"})]})]})]}),p==="charitable_giving"&&e.jsxs("div",{className:s.scenarioInputs,children:[e.jsxs("label",{children:["Donation Amount",e.jsx("input",{type:"number",placeholder:"10000",value:c.donationAmount||"",onChange:a=>d({...c,donationAmount:a.target.value})})]}),e.jsxs("label",{children:["Donation Type",e.jsxs("select",{value:c.donationType||"",onChange:a=>d({...c,donationType:a.target.value}),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"appreciated_stock",children:"Appreciated Stock"}),e.jsx("option",{value:"daf",children:"Donor-Advised Fund"})]})]})]}),p==="retirement_contribution"&&e.jsxs("div",{className:s.scenarioInputs,children:[e.jsxs("label",{children:["Contribution Amount",e.jsx("input",{type:"number",placeholder:"23000",value:c.contributionAmount||"",onChange:a=>d({...c,contributionAmount:a.target.value})})]}),e.jsxs("label",{children:["Account Type",e.jsxs("select",{value:c.accountType||"",onChange:a=>d({...c,accountType:a.target.value}),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"401k",children:"Traditional 401(k)"}),e.jsx("option",{value:"ira",children:"Traditional IRA"}),e.jsx("option",{value:"roth_401k",children:"Roth 401(k)"}),e.jsx("option",{value:"roth_ira",children:"Roth IRA"})]})]})]}),p==="roth_conversion"&&e.jsx("div",{className:s.scenarioInputs,children:e.jsxs("label",{children:["Conversion Amount",e.jsx("input",{type:"number",placeholder:"50000",value:c.conversionAmount||"",onChange:a=>d({...c,conversionAmount:a.target.value})})]})}),e.jsxs("div",{className:s.scenarioActions,children:[e.jsx("button",{className:s.cancelButton,onClick:()=>{N(!1),S(""),d({})},children:"Cancel"}),e.jsx("button",{className:s.runButton,onClick:X,disabled:!p||z,children:z?"Calculating...":"Calculate Tax Impact"})]})]}),A.length>0&&e.jsxs("div",{className:s.scenarioResults,children:[e.jsx("h4",{className:s.resultsTitle,children:"Your Scenarios"}),A.map(a=>e.jsxs("div",{className:s.scenarioResult,children:[e.jsx("div",{className:s.scenarioResultHeader,children:e.jsx("span",{className:s.scenarioName,children:a.name})}),a.results&&e.jsxs("div",{className:s.scenarioMetrics,children:[e.jsxs("div",{className:s.scenarioMetric,children:[e.jsx("span",{className:s.label,children:"New Tax Bill"}),e.jsx("span",{className:s.value,children:o(a.results.newTax)})]}),e.jsxs("div",{className:s.scenarioMetric,children:[e.jsx("span",{className:s.label,children:"Change"}),e.jsxs("span",{className:`${s.value} ${a.results.taxDelta>0?s.negative:s.positive}`,children:[a.results.taxDelta>0?"+":"",o(a.results.taxDelta)]})]}),e.jsxs("div",{className:s.scenarioMetric,children:[e.jsx("span",{className:s.label,children:"New Rate"}),e.jsx("span",{className:s.value,children:C(a.results.effectiveRate)})]})]})]},a.id))]})]})]})]})}export{Ka as default};
