import{u as ee,r as i,j as e,L as se}from"./index-Bh30mIGX.js";const ne="_container_57ryn_1",ae="_header_57ryn_6",te="_title_57ryn_12",ie="_subtitle_57ryn_19",ce="_uploadSection_57ryn_25",re="_uploadContent_57ryn_34",oe="_emptyStateHero_57ryn_39",le="_savingsIllustration_57ryn_44",de="_pulse_57ryn_1",he="_emptyStateTitle_57ryn_57",pe="_emptyStateSubtitle_57ryn_64",me="_unlockBenefits_57ryn_70",ue="_unlockItem_57ryn_79",ye="_previewSection_57ryn_94",_e="_blurredPreview_57ryn_98",xe="_previewCard_57ryn_104",ve="_previewMetric_57ryn_116",je="_previewLabel_57ryn_122",ge="_previewValue_57ryn_129",Ne="_previewOverlay_57ryn_135",Se="_uploadIcon_57ryn_155",we="_uploadBenefits_57ryn_173",fe="_calendarPreview_57ryn_189",Te="_calendarTitle_57ryn_196",be="_deadlinesList_57ryn_210",ke="_deadlineCard_57ryn_216",Ce="_now_57ryn_227",Ie="_soon_57ryn_231",De="_plan_57ryn_235",Be="_deadlineDate_57ryn_239",Me="_deadlineInfo_57ryn_246",Ae="_deadlineImpact_57ryn_259",Le="_dropzone_57ryn_265",Pe="_hasFile_57ryn_285",Re="_fileInput_57ryn_308",He="_filePreview_57ryn_315",ze="_fileName_57ryn_327",Fe="_removeFile_57ryn_333",$e="_analyzeButton_57ryn_348",We="_dashboard_57ryn_372",Oe="_taxSummary_57ryn_378",Ve="_summaryMain_57ryn_385",Ee="_summaryCard_57ryn_391",Ue="_summaryLabel_57ryn_401",Ge="_summaryValue_57ryn_409",Ye="_summarySubtext_57ryn_416",qe="_incomeBreakdown_57ryn_421",Je="_breakdownBars_57ryn_435",Xe="_breakdownItem_57ryn_441",Ke="_twoColumn_57ryn_448",Qe="_sectionSubtitle_57ryn_455",Ze="_calendarSection_57ryn_461",es="_noInsights_57ryn_468",ss="_metricsGrid_57ryn_475",ns="_metricCard_57ryn_482",as="_metricLabel_57ryn_491",ts="_metricValue_57ryn_499",is="_sectionTitle_57ryn_505",cs="_insightsSection_57ryn_512",rs="_insightsList_57ryn_516",os="_insightCard_57ryn_521",ls="_insightContent_57ryn_533",ds="_insightAction_57ryn_537",hs="_insightImpact_57ryn_544",ps="_insightCta_57ryn_550",ms="_opportunity_57ryn_566",us="_warning_57ryn_570",ys="_info_57ryn_574",_s="_insightHeader_57ryn_578",xs="_insightType_57ryn_585",vs="_insightSeverity_57ryn_592",js="_impact_57ryn_615",gs="_scenarioSection_57ryn_623",Ns="_scenarioHeader_57ryn_630",Ss="_newScenarioButton_57ryn_637",ws="_scenarioBuilder_57ryn_652",fs="_scenarioTypes_57ryn_659",Ts="_scenarioType_57ryn_659",bs="_scenarioTypeText_57ryn_681",ks="_scenarioTypeName_57ryn_686",Cs="_scenarioTypeDesc_57ryn_690",Is="_active_57ryn_695",Ds="_scenarioIcon_57ryn_710",Bs="_scenarioInputs_57ryn_714",Ms="_scenarioActions_57ryn_745",As="_cancelButton_57ryn_751",Ls="_runButton_57ryn_761",Ps="_scenarioResults_57ryn_777",Rs="_resultsTitle_57ryn_783",Hs="_scenarioMetric_57ryn_790",zs="_scenarioResult_57ryn_777",Fs="_scenarioResultHeader_57ryn_800",$s="_scenarioName_57ryn_807",Ws="_scenarioTypeLabel_57ryn_813",Os="_scenarioMetrics_57ryn_822",Vs="_label_57ryn_828",Es="_value_57ryn_835",Us="_positive_57ryn_841",Gs="_negative_57ryn_845",Ys="_docTypeSelector_57ryn_897",qs="_docTypeGrid_57ryn_908",Js="_docTypeButton_57ryn_914",Xs="_docTypeIcon_57ryn_937",Ks="_docTypeName_57ryn_941",Qs="_docTypeDesc_57ryn_947",Zs="_fileDocType_57ryn_952",en="_uploadedDocsList_57ryn_959",sn="_uploadedDoc_57ryn_959",nn="_uploadedDocIcon_57ryn_983",an="_uploadedDocInfo_57ryn_987",tn="_uploadedDocName_57ryn_992",cn="_uploadedDocType_57ryn_1002",rn="_uploadedDocStatus_57ryn_1007",on="_completed_57ryn_1013",ln="_processing_57ryn_1018",dn="_failed_57ryn_1023",hn="_rightColumn_57ryn_1029",pn="_taxChatSection_57ryn_1036",mn="_chatHeader_57ryn_1045",un="_chatMessages_57ryn_1070",yn="_chatEmpty_57ryn_1079",_n="_chatSuggestions_57ryn_1094",xn="_chatMessage_57ryn_1070",vn="_user_57ryn_1123",jn="_assistant_57ryn_1129",gn="_typingIndicator_57ryn_1135",Nn="_chatInputArea_57ryn_1140",Sn="_chatInput_57ryn_1140",wn="_chatSendButton_57ryn_1166",fn="_strategiesSection_57ryn_1306",Tn="_strategiesHeader_57ryn_1312",bn="_totalSavings_57ryn_1327",kn="_savingsLabel_57ryn_1337",Cn="_savingsValue_57ryn_1344",In="_summaryBox_57ryn_1350",Dn="_strategiesList_57ryn_1371",Bn="_strategyCard_57ryn_1377",Mn="_high_57ryn_1391",An="_medium_57ryn_1395",Ln="_low_57ryn_1399",Pn="_strategyHeader_57ryn_1403",Rn="_priorityBadge_57ryn_1412",Hn="_strategySavings_57ryn_1434",zn="_strategyTitle_57ryn_1440",Fn="_strategyDetails_57ryn_1447",$n="_strategySection_57ryn_1453",Wn="_paycheckSection_57ryn_1470",On="_paycheckCard_57ryn_1476",Vn="_paycheckInfo_57ryn_1483",En="_paycheckImpact_57ryn_1496",s={container:ne,header:ae,title:te,subtitle:ie,uploadSection:ce,uploadContent:re,emptyStateHero:oe,savingsIllustration:le,pulse:de,emptyStateTitle:he,emptyStateSubtitle:pe,unlockBenefits:me,unlockItem:ue,previewSection:ye,blurredPreview:_e,previewCard:xe,previewMetric:ve,previewLabel:je,previewValue:ge,previewOverlay:Ne,uploadIcon:Se,uploadBenefits:we,calendarPreview:fe,calendarTitle:Te,deadlinesList:be,deadlineCard:ke,now:Ce,soon:Ie,plan:De,deadlineDate:Be,deadlineInfo:Me,deadlineImpact:Ae,dropzone:Le,hasFile:Pe,fileInput:Re,filePreview:He,fileName:ze,removeFile:Fe,analyzeButton:$e,dashboard:We,taxSummary:Oe,summaryMain:Ve,summaryCard:Ee,summaryLabel:Ue,summaryValue:Ge,summarySubtext:Ye,incomeBreakdown:qe,breakdownBars:Je,breakdownItem:Xe,twoColumn:Ke,sectionSubtitle:Qe,calendarSection:Ze,noInsights:es,metricsGrid:ss,metricCard:ns,metricLabel:as,metricValue:ts,sectionTitle:is,insightsSection:cs,insightsList:rs,insightCard:os,insightContent:ls,insightAction:ds,insightImpact:hs,insightCta:ps,opportunity:ms,warning:us,info:ys,insightHeader:_s,insightType:xs,insightSeverity:vs,impact:js,scenarioSection:gs,scenarioHeader:Ns,newScenarioButton:Ss,scenarioBuilder:ws,scenarioTypes:fs,scenarioType:Ts,scenarioTypeText:bs,scenarioTypeName:ks,scenarioTypeDesc:Cs,active:Is,scenarioIcon:Ds,scenarioInputs:Bs,scenarioActions:Ms,cancelButton:As,runButton:Ls,scenarioResults:Ps,resultsTitle:Rs,scenarioMetric:Hs,scenarioResult:zs,scenarioResultHeader:Fs,scenarioName:$s,scenarioTypeLabel:Ws,scenarioMetrics:Os,label:Vs,value:Es,positive:Us,negative:Gs,docTypeSelector:Ys,docTypeGrid:qs,docTypeButton:Js,docTypeIcon:Xs,docTypeName:Ks,docTypeDesc:Qs,fileDocType:Zs,uploadedDocsList:en,uploadedDoc:sn,uploadedDocIcon:nn,uploadedDocInfo:an,uploadedDocName:tn,uploadedDocType:cn,uploadedDocStatus:rn,completed:on,processing:ln,failed:dn,rightColumn:hn,taxChatSection:pn,chatHeader:mn,chatMessages:un,chatEmpty:yn,chatSuggestions:_n,chatMessage:xn,user:vn,assistant:jn,typingIndicator:gn,chatInputArea:Nn,chatInput:Sn,chatSendButton:wn,strategiesSection:fn,strategiesHeader:Tn,totalSavings:bn,savingsLabel:kn,savingsValue:Cn,summaryBox:In,strategiesList:Dn,strategyCard:Bn,high:Mn,medium:An,low:Ln,strategyHeader:Pn,priorityBadge:Rn,strategySavings:Hn,strategyTitle:zn,strategyDetails:Fn,strategySection:$n,paycheckSection:Wn,paycheckCard:On,paycheckInfo:Vn,paycheckImpact:En},C=[{id:"1040",name:"Form 1040",description:"Federal tax return",icon:"ðŸ“‹"},{id:"w2",name:"W-2",description:"Wage statement",icon:"ðŸ’¼"},{id:"1099",name:"1099",description:"Income statement",icon:"ðŸ“„"},{id:"paystub",name:"Paystub",description:"Pay statement",icon:"ðŸ’µ"}];function Gn(){const{showError:I,showSuccess:N}=ee(),[l,y]=i.useState(null),[m,D]=i.useState("1040"),[B,M]=i.useState(!1),[t,A]=i.useState(null),[L,P]=i.useState([]),[R,S]=i.useState(!1),[h,w]=i.useState(""),[c,d]=i.useState({}),[H,z]=i.useState(!1),[F,G]=i.useState([]),[f,_]=i.useState([]),[x,u]=i.useState(""),[v,$]=i.useState(!1),T=i.useRef(null),W=[{date:"Dec 31",title:"Tax-Loss Harvesting Deadline",description:"Last day to realize losses to offset gains",impact:"Save up to $3,200 in taxes",urgency:"now"},{date:"Jan 15",title:"Q4 Estimated Payment Due",description:"Final quarterly estimated tax payment",impact:"Avoid underpayment penalty",urgency:"soon"},{date:"Apr 15",title:"IRA Contribution Deadline",description:"Last day for prior-year IRA contributions",impact:"Up to $7,000 tax deduction",urgency:"plan"},{date:"Apr 15",title:"Tax Filing Deadline",description:"File return or extension by this date",impact:"Avoid late filing penalties",urgency:"plan"}];i.useEffect(()=>{O(),Y(),V()},[]),i.useEffect(()=>{T.current&&T.current.scrollIntoView({behavior:"smooth"})},[f]);const O=async()=>{try{const n=await fetch("/api/tax-intel/current",{credentials:"include"});if(n.ok){const a=await n.json();a.taxData&&A(a.taxData)}}catch(n){console.error("Failed to load tax data:",n)}},Y=async()=>{try{const n=await fetch("/api/tax-intel/scenarios",{credentials:"include"});if(n.ok){const a=await n.json();P(a.scenarios||[])}}catch(n){console.error("Failed to load scenarios:",n)}},V=async()=>{try{const n=await fetch("/api/tax-intel/documents",{credentials:"include"});if(n.ok){const a=await n.json();G(a.documents||[])}}catch(n){console.error("Failed to load documents:",n)}},q=n=>{n.target.files?.[0]&&y(n.target.files[0])},J=n=>{n.preventDefault(),n.dataTransfer.files?.[0]&&y(n.dataTransfer.files[0])},X=async()=>{if(l){M(!0);try{const n=new FormData;n.append("document",l),n.append("documentType",m),n.append("documentYear",String(new Date().getFullYear()-1)),console.log("Uploading file:",l.name,l.size,l.type);const a=await fetch("/api/tax-intel/upload",{method:"POST",credentials:"include",body:n});if(!a.ok){const g=await a.json();throw new Error(g.message||"Upload failed")}const o=await a.json(),p=Object.keys(o.extractedData?.extractedLines||{}).length;N(`${l.name} uploaded! Extracted ${p} data points. Now analyzing...`),await V();const j=await fetch("/api/tax-intel/analyze",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({documentId:o.documentId,documentType:m})});if(j.ok){const g=await j.json();A(g.taxData);const U=g.taxData?.totalPotentialSavings||0;U>0?N(`Analysis complete! Found ${r(U)} in potential tax savings.`):N("Analysis complete! Your personalized tax strategies are ready.")}else I("AI analysis failed, but your data was extracted. Try refreshing."),await O();y(null),D("1040")}catch(n){console.error("Upload error:",n);const a=n instanceof Error?n.message:"Failed to upload document";I(a)}finally{M(!1)}}},E=async()=>{if(!x.trim()||v)return;const n={role:"user",content:x.trim(),timestamp:new Date};_(a=>[...a,n]),u(""),$(!0);try{const a=await fetch("/api/tax-intel/query",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({question:n.content})});if(a.ok){const p={role:"assistant",content:(await a.json()).answer,timestamp:new Date};_(j=>[...j,p])}else{const o={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};_(p=>[...p,o])}}catch(a){console.error("Chat error:",a);const o={role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};_(p=>[...p,o])}finally{$(!1)}},K=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),E())},b=n=>{const a=C.find(o=>o.id===n);return a?a.name:n},Q=async()=>{if(h){z(!0);try{const n=await fetch("/api/tax-intel/run-scenario",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({scenarioType:h,inputs:c})});if(n.ok){const a=await n.json();P(o=>[a.scenario,...o]),S(!1),w(""),d({})}}catch(n){console.error("Scenario error:",n)}finally{z(!1)}}},r=n=>n==null?"â€”":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),k=n=>n==null?"â€”":`${n.toFixed(1)}%`,Z=[{id:"gain_realization",name:"Realize Gains",icon:"ðŸ“ˆ",description:"See tax on selling positions"},{id:"charitable_giving",name:"Charitable Gift",icon:"ðŸŽ",description:"Calculate donation deduction"},{id:"retirement_contribution",name:"Boost 401k/IRA",icon:"ðŸ’°",description:"See tax savings from contributions"},{id:"roth_conversion",name:"Roth Conversion",icon:"ðŸ”„",description:"Model conversion tax impact"}];return e.jsxs("div",{className:s.container,children:[e.jsx("div",{className:s.header,children:e.jsxs("div",{className:s.headerContent,children:[e.jsx("h1",{className:s.title,children:"Tax Command Center"}),e.jsx("p",{className:s.subtitle,children:"See exactly how much you can saveâ€”and when to act"})]})}),e.jsxs("div",{className:s.uploadSection,children:[e.jsxs("div",{className:s.uploadContent,children:[e.jsxs("div",{className:s.emptyStateHero,children:[e.jsx("div",{className:s.savingsIllustration,children:e.jsxs("svg",{viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("circle",{cx:"40",cy:"40",r:"38",stroke:"currentColor",strokeWidth:"2",opacity:"0.3"}),e.jsx("circle",{cx:"40",cy:"40",r:"28",stroke:"currentColor",strokeWidth:"2",opacity:"0.5"}),e.jsx("path",{d:"M40 20v40M50 26h-15a7 7 0 100 14h10a7 7 0 110 14H30",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round"}),e.jsx("circle",{cx:"40",cy:"40",r:"5",fill:"currentColor",opacity:"0.3"})]})}),e.jsx("h2",{className:s.emptyStateTitle,children:"Unlock Your Tax Savings Potential"}),e.jsx("p",{className:s.emptyStateSubtitle,children:"Upload any tax document to see exactly how much you could save"}),e.jsxs("div",{className:s.unlockBenefits,children:[e.jsxs("div",{className:s.unlockItem,children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Your effective vs marginal tax rate"})]}),e.jsxs("div",{className:s.unlockItem,children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"$X,XXX in potential savings opportunities"})]}),e.jsxs("div",{className:s.unlockItem,children:[e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}),e.jsx("span",{children:"Deadline calendar for tax moves"})]})]})]}),e.jsx("div",{className:s.previewSection,children:e.jsxs("div",{className:s.blurredPreview,children:[e.jsxs("div",{className:s.previewCard,children:[e.jsxs("div",{className:s.previewMetric,children:[e.jsx("span",{className:s.previewLabel,children:"Effective Rate"}),e.jsx("span",{className:s.previewValue,children:"22.4%"})]}),e.jsxs("div",{className:s.previewMetric,children:[e.jsx("span",{className:s.previewLabel,children:"Potential Savings"}),e.jsx("span",{className:s.previewValue,children:"$8,240"})]}),e.jsxs("div",{className:s.previewMetric,children:[e.jsx("span",{className:s.previewLabel,children:"Tax Strategies"}),e.jsx("span",{className:s.previewValue,children:"5 Found"})]})]}),e.jsx("div",{className:s.previewOverlay,children:e.jsx("span",{children:"Upload to reveal your numbers"})})]})}),e.jsxs("div",{className:s.docTypeSelector,children:[e.jsx("h4",{children:"Select Document Type"}),e.jsx("div",{className:s.docTypeGrid,children:C.map(n=>e.jsxs("button",{className:`${s.docTypeButton} ${m===n.id?s.active:""}`,onClick:()=>D(n.id),children:[e.jsx("span",{className:s.docTypeIcon,children:n.icon}),e.jsx("span",{className:s.docTypeName,children:n.name}),e.jsx("span",{className:s.docTypeDesc,children:n.description})]},n.id))})]}),e.jsx("div",{className:`${s.dropzone} ${l?s.hasFile:""}`,onDrop:J,onDragOver:n=>n.preventDefault(),children:l?e.jsxs("div",{className:s.filePreview,children:[e.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("polyline",{points:"14 2 14 8 20 8"})]}),e.jsx("span",{className:s.fileName,children:l.name}),e.jsxs("span",{className:s.fileDocType,children:["Uploading as: ",b(m)]}),e.jsx("button",{className:s.removeFile,onClick:()=>y(null),children:"Remove"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:s.uploadIcon,children:e.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}),e.jsx("h3",{children:"Upload Your Tax Documents"}),e.jsxs("p",{children:["Drop your ",b(m)," here or click to browse"]}),e.jsxs("div",{className:s.uploadBenefits,children:[e.jsx("span",{children:"1040s"}),e.jsx("span",{children:"W-2s"}),e.jsx("span",{children:"1099s"}),e.jsx("span",{children:"Paystubs"})]}),e.jsx("input",{type:"file",accept:".pdf",onChange:q,className:s.fileInput})]})}),l&&e.jsx("button",{className:s.analyzeButton,onClick:X,disabled:B,children:B?e.jsxs(e.Fragment,{children:[e.jsx(se,{size:"small"}),e.jsx("span",{style:{marginLeft:"0.5rem"},children:"Analyzing..."})]}):"Upload & Analyze"}),F.length>0&&e.jsxs("div",{className:s.uploadedDocsList,children:[e.jsx("h4",{children:"Your Documents"}),F.map(n=>e.jsxs("div",{className:s.uploadedDoc,children:[e.jsx("span",{className:s.uploadedDocIcon,children:C.find(a=>a.id===n.documentType)?.icon||"ðŸ“„"}),e.jsxs("div",{className:s.uploadedDocInfo,children:[e.jsx("span",{className:s.uploadedDocName,children:n.fileName}),e.jsx("span",{className:s.uploadedDocType,children:b(n.documentType)})]}),e.jsx("span",{className:`${s.uploadedDocStatus} ${s[n.status]}`,children:n.status==="completed"?"Analyzed":n.status==="processing"?"Processing...":"Failed"})]},n.id))]})]}),e.jsxs("div",{className:s.rightColumn,children:[e.jsxs("div",{className:s.taxChatSection,children:[e.jsxs("div",{className:s.chatHeader,children:[e.jsxs("h3",{children:[e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),"Tax Assistant"]}),e.jsx("p",{children:"Ask questions about your uploaded documents"})]}),e.jsxs("div",{className:s.chatMessages,children:[f.length===0?e.jsxs("div",{className:s.chatEmpty,children:[e.jsx("p",{children:"Upload your tax documents and ask me anything!"}),e.jsxs("div",{className:s.chatSuggestions,children:[e.jsx("button",{onClick:()=>u("What was my total income last year?"),children:"What was my total income?"}),e.jsx("button",{onClick:()=>u("How can I reduce my tax burden?"),children:"How can I reduce taxes?"}),e.jsx("button",{onClick:()=>u("What deductions did I take?"),children:"What deductions did I take?"})]})]}):e.jsxs(e.Fragment,{children:[f.map((n,a)=>e.jsx("div",{className:`${s.chatMessage} ${s[n.role]}`,children:e.jsx("div",{className:s.chatMessageContent,children:n.content})},a)),e.jsx("div",{ref:T})]}),v&&e.jsx("div",{className:`${s.chatMessage} ${s.assistant}`,children:e.jsx("div",{className:s.chatMessageContent,children:e.jsx("span",{className:s.typingIndicator,children:"Thinking..."})})})]}),e.jsxs("div",{className:s.chatInputArea,children:[e.jsx("input",{type:"text",value:x,onChange:n=>u(n.target.value),onKeyPress:K,placeholder:"Ask about your taxes...",className:s.chatInput,disabled:v}),e.jsx("button",{className:s.chatSendButton,onClick:E,disabled:!x.trim()||v,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),e.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})})]})]}),e.jsxs("div",{className:s.calendarPreview,children:[e.jsxs("h3",{className:s.calendarTitle,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),e.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),e.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),e.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),"Tax Deadlines"]}),e.jsx("div",{className:s.deadlinesList,children:W.slice(0,3).map((n,a)=>e.jsxs("div",{className:`${s.deadlineCard} ${s[n.urgency]}`,children:[e.jsx("div",{className:s.deadlineDate,children:n.date}),e.jsxs("div",{className:s.deadlineInfo,children:[e.jsx("h4",{children:n.title}),e.jsx("span",{className:s.deadlineImpact,children:n.impact})]})]},a))})]})]})]}),t&&e.jsxs("div",{className:s.dashboard,children:[e.jsxs("div",{className:s.taxSummary,children:[e.jsxs("div",{className:s.summaryMain,children:[e.jsxs("div",{className:s.summaryCard,children:[e.jsx("span",{className:s.summaryLabel,children:"You Paid"}),e.jsx("span",{className:s.summaryValue,children:r(t.totalFederalTax)}),e.jsx("span",{className:s.summarySubtext,children:"in federal taxes"})]}),e.jsxs("div",{className:s.summaryCard,children:[e.jsx("span",{className:s.summaryLabel,children:"Effective Rate"}),e.jsx("span",{className:s.summaryValue,children:k(t.effectiveTaxRate)}),e.jsx("span",{className:s.summarySubtext,children:"of total income"})]}),e.jsxs("div",{className:s.summaryCard,children:[e.jsx("span",{className:s.summaryLabel,children:"Next Dollar Rate"}),e.jsx("span",{className:s.summaryValue,children:k(t.marginalTaxBracket)}),e.jsx("span",{className:s.summarySubtext,children:"marginal bracket"})]})]}),t.incomeBreakdown&&e.jsxs("div",{className:s.incomeBreakdown,children:[e.jsx("h4",{children:"Income Sources"}),e.jsxs("div",{className:s.breakdownBars,children:[(t.incomeBreakdown.wages??0)>0&&e.jsxs("div",{className:s.breakdownItem,children:[e.jsx("span",{children:"Wages"}),e.jsx("span",{children:r(t.incomeBreakdown.wages)})]}),(t.incomeBreakdown.capitalGains??0)>0&&e.jsxs("div",{className:s.breakdownItem,children:[e.jsx("span",{children:"Capital Gains"}),e.jsx("span",{children:r(t.incomeBreakdown.capitalGains)})]}),(t.incomeBreakdown.dividends??0)>0&&e.jsxs("div",{className:s.breakdownItem,children:[e.jsx("span",{children:"Dividends"}),e.jsx("span",{children:r(t.incomeBreakdown.dividends)})]}),(t.incomeBreakdown.business??0)>0&&e.jsxs("div",{className:s.breakdownItem,children:[e.jsx("span",{children:"Business Income"}),e.jsx("span",{children:r(t.incomeBreakdown.business)})]})]})]})]}),e.jsxs("div",{className:s.twoColumn,children:[e.jsxs("div",{className:s.insightsSection,children:[e.jsx("h3",{className:s.sectionTitle,children:"Money Opportunities"}),e.jsx("p",{className:s.sectionSubtitle,children:"Actions ranked by potential savings"}),t.insights&&t.insights.length>0?e.jsx("div",{className:s.insightsList,children:t.insights.map((n,a)=>e.jsxs("div",{className:`${s.insightCard} ${s[n.severity]}`,children:[e.jsxs("div",{className:s.insightContent,children:[e.jsx("h4",{children:n.title}),e.jsx("p",{children:n.description})]}),e.jsxs("div",{className:s.insightAction,children:[n.potentialImpact&&e.jsxs("span",{className:s.insightImpact,children:["Save ",r(n.potentialImpact)]}),e.jsx("button",{className:s.insightCta,children:n.action||"See Strategy"})]})]},a))}):e.jsx("div",{className:s.noInsights,children:e.jsx("p",{children:"We're analyzing your return for optimization opportunities..."})})]}),e.jsxs("div",{className:s.calendarSection,children:[e.jsx("h3",{className:s.sectionTitle,children:"Tax Timing Calendar"}),e.jsx("p",{className:s.sectionSubtitle,children:"Upcoming deadlines & decision windows"}),e.jsx("div",{className:s.deadlinesList,children:W.map((n,a)=>e.jsxs("div",{className:`${s.deadlineCard} ${s[n.urgency]}`,children:[e.jsx("div",{className:s.deadlineDate,children:n.date}),e.jsxs("div",{className:s.deadlineInfo,children:[e.jsx("h4",{children:n.title}),e.jsx("span",{className:s.deadlineImpact,children:n.impact})]})]},a))})]})]}),t.taxStrategies&&t.taxStrategies.length>0&&e.jsxs("div",{className:s.strategiesSection,children:[e.jsxs("div",{className:s.strategiesHeader,children:[e.jsxs("h3",{className:s.sectionTitle,children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),e.jsx("path",{d:"M2 17l10 5 10-5"}),e.jsx("path",{d:"M2 12l10 5 10-5"})]}),"Your Tax-Saving Playbook"]}),t.totalPotentialSavings&&t.totalPotentialSavings>0&&e.jsxs("div",{className:s.totalSavings,children:[e.jsx("span",{className:s.savingsLabel,children:"Total Potential Savings"}),e.jsx("span",{className:s.savingsValue,children:r(t.totalPotentialSavings)})]})]}),t.summaryRecommendation&&e.jsxs("div",{className:s.summaryBox,children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 16v-4"}),e.jsx("path",{d:"M12 8h.01"})]}),e.jsx("p",{children:t.summaryRecommendation})]}),e.jsx("div",{className:s.strategiesList,children:t.taxStrategies.map((n,a)=>e.jsxs("div",{className:`${s.strategyCard} ${s[n.priority]}`,children:[e.jsxs("div",{className:s.strategyHeader,children:[e.jsx("span",{className:`${s.priorityBadge} ${s[n.priority]}`,children:n.priority==="high"?"High Impact":n.priority==="medium"?"Medium Impact":"Consider"}),n.potentialSavings>0&&e.jsxs("span",{className:s.strategySavings,children:["Save ",r(n.potentialSavings)]})]}),e.jsx("h4",{className:s.strategyTitle,children:n.strategy}),e.jsxs("div",{className:s.strategyDetails,children:[e.jsxs("div",{className:s.strategySection,children:[e.jsx("strong",{children:"Current Situation:"}),e.jsx("p",{children:n.currentSituation})]}),e.jsxs("div",{className:s.strategySection,children:[e.jsx("strong",{children:"Recommendation:"}),e.jsx("p",{children:n.recommendation})]}),e.jsxs("div",{className:s.strategySection,children:[e.jsx("strong",{children:"How to Implement:"}),e.jsx("p",{children:n.howToImplement})]})]})]},a))})]}),t.paycheckOptimization&&e.jsxs("div",{className:s.paycheckSection,children:[e.jsxs("h3",{className:s.sectionTitle,children:[e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10"})]}),"Paycheck Optimization"]}),e.jsxs("div",{className:s.paycheckCard,children:[e.jsxs("div",{className:s.paycheckInfo,children:[e.jsx("p",{children:e.jsx("strong",{children:"Current Withholding Analysis:"})}),e.jsx("p",{children:t.paycheckOptimization.currentWithholding})]}),e.jsxs("div",{className:s.paycheckInfo,children:[e.jsx("p",{children:e.jsx("strong",{children:"Suggested W-4 Changes:"})}),e.jsx("p",{children:t.paycheckOptimization.suggestedW4Changes})]}),t.paycheckOptimization.monthlyImpact!==0&&e.jsxs("div",{className:s.paycheckImpact,children:[e.jsx("span",{children:"Estimated Monthly Impact:"}),e.jsxs("span",{className:t.paycheckOptimization.monthlyImpact>0?s.positive:s.negative,children:[t.paycheckOptimization.monthlyImpact>0?"+":"",r(t.paycheckOptimization.monthlyImpact),"/month"]})]})]})]}),e.jsxs("div",{className:s.scenarioSection,children:[e.jsxs("div",{className:s.scenarioHeader,children:[e.jsxs("div",{children:[e.jsx("h3",{className:s.sectionTitle,children:"What-If Calculator"}),e.jsx("p",{className:s.sectionSubtitle,children:"Model decisions before you make them"})]}),!R&&e.jsx("button",{className:s.newScenarioButton,onClick:()=>S(!0),children:"+ Run New Scenario"})]}),R&&e.jsxs("div",{className:s.scenarioBuilder,children:[e.jsx("div",{className:s.scenarioTypes,children:Z.map(n=>e.jsxs("button",{className:`${s.scenarioType} ${h===n.id?s.active:""}`,onClick:()=>w(n.id),children:[e.jsx("span",{className:s.scenarioIcon,children:n.icon}),e.jsxs("div",{className:s.scenarioTypeText,children:[e.jsx("span",{className:s.scenarioTypeName,children:n.name}),e.jsx("span",{className:s.scenarioTypeDesc,children:n.description})]})]},n.id))}),h==="gain_realization"&&e.jsxs("div",{className:s.scenarioInputs,children:[e.jsxs("label",{children:["Gain Amount",e.jsx("input",{type:"number",placeholder:"50000",value:c.gainAmount||"",onChange:n=>d({...c,gainAmount:n.target.value})})]}),e.jsxs("label",{children:["Holding Period",e.jsxs("select",{value:c.holdingPeriod||"",onChange:n=>d({...c,holdingPeriod:n.target.value}),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"short",children:"Short-term (< 1 year)"}),e.jsx("option",{value:"long",children:"Long-term (> 1 year)"})]})]})]}),h==="charitable_giving"&&e.jsxs("div",{className:s.scenarioInputs,children:[e.jsxs("label",{children:["Donation Amount",e.jsx("input",{type:"number",placeholder:"10000",value:c.donationAmount||"",onChange:n=>d({...c,donationAmount:n.target.value})})]}),e.jsxs("label",{children:["Donation Type",e.jsxs("select",{value:c.donationType||"",onChange:n=>d({...c,donationType:n.target.value}),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"appreciated_stock",children:"Appreciated Stock"}),e.jsx("option",{value:"daf",children:"Donor-Advised Fund"})]})]})]}),h==="retirement_contribution"&&e.jsxs("div",{className:s.scenarioInputs,children:[e.jsxs("label",{children:["Contribution Amount",e.jsx("input",{type:"number",placeholder:"23000",value:c.contributionAmount||"",onChange:n=>d({...c,contributionAmount:n.target.value})})]}),e.jsxs("label",{children:["Account Type",e.jsxs("select",{value:c.accountType||"",onChange:n=>d({...c,accountType:n.target.value}),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"401k",children:"Traditional 401(k)"}),e.jsx("option",{value:"ira",children:"Traditional IRA"}),e.jsx("option",{value:"roth_401k",children:"Roth 401(k)"}),e.jsx("option",{value:"roth_ira",children:"Roth IRA"})]})]})]}),h==="roth_conversion"&&e.jsx("div",{className:s.scenarioInputs,children:e.jsxs("label",{children:["Conversion Amount",e.jsx("input",{type:"number",placeholder:"50000",value:c.conversionAmount||"",onChange:n=>d({...c,conversionAmount:n.target.value})})]})}),e.jsxs("div",{className:s.scenarioActions,children:[e.jsx("button",{className:s.cancelButton,onClick:()=>{S(!1),w(""),d({})},children:"Cancel"}),e.jsx("button",{className:s.runButton,onClick:Q,disabled:!h||H,children:H?"Calculating...":"Calculate Tax Impact"})]})]}),L.length>0&&e.jsxs("div",{className:s.scenarioResults,children:[e.jsx("h4",{className:s.resultsTitle,children:"Your Scenarios"}),L.map(n=>e.jsxs("div",{className:s.scenarioResult,children:[e.jsx("div",{className:s.scenarioResultHeader,children:e.jsx("span",{className:s.scenarioName,children:n.name})}),n.results&&e.jsxs("div",{className:s.scenarioMetrics,children:[e.jsxs("div",{className:s.scenarioMetric,children:[e.jsx("span",{className:s.label,children:"New Tax Bill"}),e.jsx("span",{className:s.value,children:r(n.results.newTax)})]}),e.jsxs("div",{className:s.scenarioMetric,children:[e.jsx("span",{className:s.label,children:"Change"}),e.jsxs("span",{className:`${s.value} ${n.results.taxDelta>0?s.negative:s.positive}`,children:[n.results.taxDelta>0?"+":"",r(n.results.taxDelta)]})]}),e.jsxs("div",{className:s.scenarioMetric,children:[e.jsx("span",{className:s.label,children:"New Rate"}),e.jsx("span",{className:s.value,children:k(n.results.effectiveRate)})]})]})]},n.id))]})]})]})]})}export{Gn as default};
