const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChargeAI-k0eqCAAI.js","assets/ChargeAI-z3yUtIpm.css","assets/ChargeTaxIntel-DUAc0Qw-.js","assets/ChargeTaxIntel-Oc-xQ05J.css","assets/ChargeAllocation-gVpbQsEa.js","assets/ChargeAllocation-0lPBkanV.css","assets/Playbooks-DgPlyFpM.js","assets/Playbooks-CHddX_Gw.css","assets/ReferralDashboard-BvI4cp1J.js","assets/ReferralDashboard-DaSsfwYX.css"])))=>i.map(i=>d[i]);
function Xg(s,n){for(var i=0;i<n.length;i++){const l=n[i];if(typeof l!="string"&&!Array.isArray(l)){for(const u in l)if(u!=="default"&&!(u in s)){const d=Object.getOwnPropertyDescriptor(l,u);d&&Object.defineProperty(s,u,d.get?d:{enumerable:!0,get:()=>l[u]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();function Bp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Bc={exports:{}},xi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function Zg(){if(zm)return xi;zm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(l,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var p in u)p!=="key"&&(d[p]=u[p])}else d=u;return u=d.ref,{$$typeof:s,type:l,key:f,ref:u!==void 0?u:null,props:d}}return xi.Fragment=n,xi.jsx=i,xi.jsxs=i,xi}var Bm;function Fg(){return Bm||(Bm=1,Bc.exports=Zg()),Bc.exports}var h=Fg(),Lc={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Wg(){if(Lm)return ue;Lm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function C(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,D={};function k(j,L,Q){this.props=j,this.context=L,this.refs=D,this.updater=Q||O}k.prototype.isReactComponent={},k.prototype.setState=function(j,L){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,L,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function I(){}I.prototype=k.prototype;function G(j,L,Q){this.props=j,this.context=L,this.refs=D,this.updater=Q||O}var F=G.prototype=new I;F.constructor=G,w(F,k.prototype),F.isPureReactComponent=!0;var de=Array.isArray;function ee(){}var K={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function Re(j,L,Q){var J=Q.ref;return{$$typeof:s,type:j,key:L,ref:J!==void 0?J:null,props:Q}}function nt(j,L){return Re(j.type,L,j.props)}function Ge(j){return typeof j=="object"&&j!==null&&j.$$typeof===s}function oe(j){var L={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Q){return L[Q]})}var ye=/\/+/g;function Ve(j,L){return typeof j=="object"&&j!==null&&j.key!=null?oe(""+j.key):L.toString(36)}function Xe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ee,ee):(j.status="pending",j.then(function(L){j.status==="pending"&&(j.status="fulfilled",j.value=L)},function(L){j.status==="pending"&&(j.status="rejected",j.reason=L)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function U(j,L,Q,J,ce){var pe=typeof j;(pe==="undefined"||pe==="boolean")&&(j=null);var X=!1;if(j===null)X=!0;else switch(pe){case"bigint":case"string":case"number":X=!0;break;case"object":switch(j.$$typeof){case s:case n:X=!0;break;case _:return X=j._init,U(X(j._payload),L,Q,J,ce)}}if(X)return ce=ce(j),X=J===""?"."+Ve(j,0):J,de(ce)?(Q="",X!=null&&(Q=X.replace(ye,"$&/")+"/"),U(ce,L,Q,"",function(Lt){return Lt})):ce!=null&&(Ge(ce)&&(ce=nt(ce,Q+(ce.key==null||j&&j.key===ce.key?"":(""+ce.key).replace(ye,"$&/")+"/")+X)),L.push(ce)),1;X=0;var xe=J===""?".":J+":";if(de(j))for(var De=0;De<j.length;De++)J=j[De],pe=xe+Ve(J,De),X+=U(J,L,Q,pe,ce);else if(De=C(j),typeof De=="function")for(j=De.call(j),De=0;!(J=j.next()).done;)J=J.value,pe=xe+Ve(J,De++),X+=U(J,L,Q,pe,ce);else if(pe==="object"){if(typeof j.then=="function")return U(Xe(j),L,Q,J,ce);throw L=String(j),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return X}function P(j,L,Q){if(j==null)return j;var J=[],ce=0;return U(j,J,"","",function(pe){return L.call(Q,pe,ce++)}),J}function ae(j){if(j._status===-1){var L=j._result;L=L(),L.then(function(Q){(j._status===0||j._status===-1)&&(j._status=1,j._result=Q)},function(Q){(j._status===0||j._status===-1)&&(j._status=2,j._result=Q)}),j._status===-1&&(j._status=0,j._result=L)}if(j._status===1)return j._result.default;throw j._result}var je=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ee={map:P,forEach:function(j,L,Q){P(j,function(){L.apply(this,arguments)},Q)},count:function(j){var L=0;return P(j,function(){L++}),L},toArray:function(j){return P(j,function(L){return L})||[]},only:function(j){if(!Ge(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return ue.Activity=b,ue.Children=Ee,ue.Component=k,ue.Fragment=i,ue.Profiler=u,ue.PureComponent=G,ue.StrictMode=l,ue.Suspense=v,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ue.__COMPILER_RUNTIME={__proto__:null,c:function(j){return K.H.useMemoCache(j)}},ue.cache=function(j){return function(){return j.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(j,L,Q){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var J=w({},j.props),ce=j.key;if(L!=null)for(pe in L.key!==void 0&&(ce=""+L.key),L)!te.call(L,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&L.ref===void 0||(J[pe]=L[pe]);var pe=arguments.length-2;if(pe===1)J.children=Q;else if(1<pe){for(var X=Array(pe),xe=0;xe<pe;xe++)X[xe]=arguments[xe+2];J.children=X}return Re(j.type,ce,J)},ue.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:d,_context:j},j},ue.createElement=function(j,L,Q){var J,ce={},pe=null;if(L!=null)for(J in L.key!==void 0&&(pe=""+L.key),L)te.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ce[J]=L[J]);var X=arguments.length-2;if(X===1)ce.children=Q;else if(1<X){for(var xe=Array(X),De=0;De<X;De++)xe[De]=arguments[De+2];ce.children=xe}if(j&&j.defaultProps)for(J in X=j.defaultProps,X)ce[J]===void 0&&(ce[J]=X[J]);return Re(j,pe,ce)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(j){return{$$typeof:p,render:j}},ue.isValidElement=Ge,ue.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:ae}},ue.memo=function(j,L){return{$$typeof:y,type:j,compare:L===void 0?null:L}},ue.startTransition=function(j){var L=K.T,Q={};K.T=Q;try{var J=j(),ce=K.S;ce!==null&&ce(Q,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ee,je)}catch(pe){je(pe)}finally{L!==null&&Q.types!==null&&(L.types=Q.types),K.T=L}},ue.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ue.use=function(j){return K.H.use(j)},ue.useActionState=function(j,L,Q){return K.H.useActionState(j,L,Q)},ue.useCallback=function(j,L){return K.H.useCallback(j,L)},ue.useContext=function(j){return K.H.useContext(j)},ue.useDebugValue=function(){},ue.useDeferredValue=function(j,L){return K.H.useDeferredValue(j,L)},ue.useEffect=function(j,L){return K.H.useEffect(j,L)},ue.useEffectEvent=function(j){return K.H.useEffectEvent(j)},ue.useId=function(){return K.H.useId()},ue.useImperativeHandle=function(j,L,Q){return K.H.useImperativeHandle(j,L,Q)},ue.useInsertionEffect=function(j,L){return K.H.useInsertionEffect(j,L)},ue.useLayoutEffect=function(j,L){return K.H.useLayoutEffect(j,L)},ue.useMemo=function(j,L){return K.H.useMemo(j,L)},ue.useOptimistic=function(j,L){return K.H.useOptimistic(j,L)},ue.useReducer=function(j,L,Q){return K.H.useReducer(j,L,Q)},ue.useRef=function(j){return K.H.useRef(j)},ue.useState=function(j){return K.H.useState(j)},ue.useSyncExternalStore=function(j,L,Q){return K.H.useSyncExternalStore(j,L,Q)},ue.useTransition=function(){return K.H.useTransition()},ue.version="19.2.0",ue}var Hm;function ml(){return Hm||(Hm=1,Lc.exports=Wg()),Lc.exports}var $=ml();const Lp=Bp($),e0=Xg({__proto__:null,default:Lp},[$]);var Hc={exports:{}},Ti={},qc={exports:{}},$c={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function t0(){return qm||(qm=1,(function(s){function n(U,P){var ae=U.length;U.push(P);e:for(;0<ae;){var je=ae-1>>>1,Ee=U[je];if(0<u(Ee,P))U[je]=P,U[ae]=Ee,ae=je;else break e}}function i(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var P=U[0],ae=U.pop();if(ae!==P){U[0]=ae;e:for(var je=0,Ee=U.length,j=Ee>>>1;je<j;){var L=2*(je+1)-1,Q=U[L],J=L+1,ce=U[J];if(0>u(Q,ae))J<Ee&&0>u(ce,Q)?(U[je]=ce,U[J]=ae,je=J):(U[je]=Q,U[L]=ae,je=L);else if(J<Ee&&0>u(ce,ae))U[je]=ce,U[J]=ae,je=J;else break e}}return P}function u(U,P){var ae=U.sortIndex-P.sortIndex;return ae!==0?ae:U.id-P.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var v=[],y=[],_=1,b=null,x=3,C=!1,O=!1,w=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function F(U){for(var P=i(y);P!==null;){if(P.callback===null)l(y);else if(P.startTime<=U)l(y),P.sortIndex=P.expirationTime,n(v,P);else break;P=i(y)}}function de(U){if(w=!1,F(U),!O)if(i(v)!==null)O=!0,ee||(ee=!0,oe());else{var P=i(y);P!==null&&Xe(de,P.startTime-U)}}var ee=!1,K=-1,te=5,Re=-1;function nt(){return D?!0:!(s.unstable_now()-Re<te)}function Ge(){if(D=!1,ee){var U=s.unstable_now();Re=U;var P=!0;try{e:{O=!1,w&&(w=!1,I(K),K=-1),C=!0;var ae=x;try{t:{for(F(U),b=i(v);b!==null&&!(b.expirationTime>U&&nt());){var je=b.callback;if(typeof je=="function"){b.callback=null,x=b.priorityLevel;var Ee=je(b.expirationTime<=U);if(U=s.unstable_now(),typeof Ee=="function"){b.callback=Ee,F(U),P=!0;break t}b===i(v)&&l(v),F(U)}else l(v);b=i(v)}if(b!==null)P=!0;else{var j=i(y);j!==null&&Xe(de,j.startTime-U),P=!1}}break e}finally{b=null,x=ae,C=!1}P=void 0}}finally{P?oe():ee=!1}}}var oe;if(typeof G=="function")oe=function(){G(Ge)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ve=ye.port2;ye.port1.onmessage=Ge,oe=function(){Ve.postMessage(null)}}else oe=function(){k(Ge,0)};function Xe(U,P){K=k(function(){U(s.unstable_now())},P)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(U){switch(x){case 1:case 2:case 3:var P=3;break;default:P=x}var ae=x;x=P;try{return U()}finally{x=ae}},s.unstable_requestPaint=function(){D=!0},s.unstable_runWithPriority=function(U,P){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ae=x;x=U;try{return P()}finally{x=ae}},s.unstable_scheduleCallback=function(U,P,ae){var je=s.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?je+ae:je):ae=je,U){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ae+Ee,U={id:_++,callback:P,priorityLevel:U,startTime:ae,expirationTime:Ee,sortIndex:-1},ae>je?(U.sortIndex=ae,n(y,U),i(v)===null&&U===i(y)&&(w?(I(K),K=-1):w=!0,Xe(de,ae-je))):(U.sortIndex=Ee,n(v,U),O||C||(O=!0,ee||(ee=!0,oe()))),U},s.unstable_shouldYield=nt,s.unstable_wrapCallback=function(U){var P=x;return function(){var ae=x;x=P;try{return U.apply(this,arguments)}finally{x=ae}}}})($c)),$c}var $m;function n0(){return $m||($m=1,qc.exports=t0()),qc.exports}var Gc={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function a0(){if(Gm)return pt;Gm=1;var s=ml();function n(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(v,y,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:v,containerInfo:y,implementation:_}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,pt.createPortal=function(v,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return d(v,y,null,_)},pt.flushSync=function(v){var y=f.T,_=l.p;try{if(f.T=null,l.p=2,v)return v()}finally{f.T=y,l.p=_,l.d.f()}},pt.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(v,y))},pt.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},pt.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var _=y.as,b=p(_,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?l.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:C}):_==="script"&&l.d.X(v,{crossOrigin:b,integrity:x,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pt.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);l.d.M(v,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(v)},pt.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,b=p(_,y.crossOrigin);l.d.L(v,_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pt.preloadModule=function(v,y){if(typeof v=="string")if(y){var _=p(y.as,y.crossOrigin);l.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(v)},pt.requestFormReset=function(v){l.d.r(v)},pt.unstable_batchedUpdates=function(v,y){return v(y)},pt.useFormState=function(v,y,_){return f.H.useFormState(v,y,_)},pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},pt.version="19.2.0",pt}var Im;function s0(){if(Im)return Gc.exports;Im=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Gc.exports=a0(),Gc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function i0(){if(Vm)return Ti;Vm=1;var s=n0(),n=ml(),i=s0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,r=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(r=o.return,r!==null){a=r;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return v(o),e;if(c===r)return v(o),t;c=c.sibling}throw Error(l(188))}if(a.return!==r.return)a=o,r=c;else{for(var m=!1,g=o.child;g;){if(g===a){m=!0,a=o,r=c;break}if(g===r){m=!0,r=o,a=c;break}g=g.sibling}if(!m){for(g=c.child;g;){if(g===a){m=!0,a=c,r=o;break}if(g===r){m=!0,r=c,a=o;break}g=g.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==r)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),G=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Re=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),Ge=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=Ge&&e[Ge]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case k:return"Profiler";case D:return"StrictMode";case de:return"Suspense";case ee:return"SuspenseList";case Re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case G:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:Ve(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return Ve(e(t))}catch{}}return null}var Xe=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},je=[],Ee=-1;function j(e){return{current:e}}function L(e){0>Ee||(e.current=je[Ee],je[Ee]=null,Ee--)}function Q(e,t){Ee++,je[Ee]=e.current,e.current=t}var J=j(null),ce=j(null),pe=j(null),X=j(null);function xe(e,t){switch(Q(pe,t),Q(ce,e),Q(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?im(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=im(t),e=rm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(J),Q(J,e)}function De(){L(J),L(ce),L(pe)}function Lt(e){e.memoizedState!==null&&Q(X,e);var t=J.current,a=rm(t,e.type);t!==a&&(Q(ce,e),Q(J,a))}function ia(e){ce.current===e&&(L(J),L(ce)),X.current===e&&(L(X),_i._currentValue=ae)}var gl,Mu;function ra(e){if(gl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);gl=t&&t[1]||"",Mu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gl+e+Mu}var _l=!1;function bl(e,t){if(!e||_l)return"";_l=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(M){var N=M}Reflect.construct(e,[],H)}else{try{H.call()}catch(M){N=M}e.call(H.prototype)}}else{try{throw Error()}catch(M){N=M}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(M){if(M&&N&&typeof M.stack=="string")return[M.stack,N.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=r.DetermineComponentFrameRoot(),m=c[0],g=c[1];if(m&&g){var S=m.split(`
`),R=g.split(`
`);for(o=r=0;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(r===S.length||o===R.length)for(r=S.length-1,o=R.length-1;1<=r&&0<=o&&S[r]!==R[o];)o--;for(;1<=r&&0<=o;r--,o--)if(S[r]!==R[o]){if(r!==1||o!==1)do if(r--,o--,0>o||S[r]!==R[o]){var z=`
`+S[r].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=r&&0<=o);break}}}finally{_l=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ra(a):""}function Av(e,t){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return e.child!==t&&t!==null?ra("Suspense Fallback"):ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return bl(e.type,!1);case 11:return bl(e.type.render,!1);case 1:return bl(e.type,!0);case 31:return ra("Activity");default:return""}}function Uu(e){try{var t="",a=null;do t+=Av(e,a),a=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var wl=Object.prototype.hasOwnProperty,Sl=s.unstable_scheduleCallback,xl=s.unstable_cancelCallback,Cv=s.unstable_shouldYield,Ov=s.unstable_requestPaint,jt=s.unstable_now,Rv=s.unstable_getCurrentPriorityLevel,zu=s.unstable_ImmediatePriority,Bu=s.unstable_UserBlockingPriority,Gi=s.unstable_NormalPriority,Nv=s.unstable_LowPriority,Lu=s.unstable_IdlePriority,kv=s.log,Dv=s.unstable_setDisableYieldValue,Ns=null,Et=null;function Rn(e){if(typeof kv=="function"&&Dv(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Ns,e)}catch{}}var At=Math.clz32?Math.clz32:zv,Mv=Math.log,Uv=Math.LN2;function zv(e){return e>>>=0,e===0?32:31-(Mv(e)/Uv|0)|0}var Ii=256,Vi=262144,Pi=4194304;function la(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qi(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var o=0,c=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var g=r&134217727;return g!==0?(r=g&~c,r!==0?o=la(r):(m&=g,m!==0?o=la(m):a||(a=g&~e,a!==0&&(o=la(a))))):(g=r&~c,g!==0?o=la(g):m!==0?o=la(m):a||(a=r&~e,a!==0&&(o=la(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function ks(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Bv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hu(){var e=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),e}function Tl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ds(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lv(e,t,a,r,o,c){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var g=e.entanglements,S=e.expirationTimes,R=e.hiddenUpdates;for(a=m&~a;0<a;){var z=31-At(a),H=1<<z;g[z]=0,S[z]=-1;var N=R[z];if(N!==null)for(R[z]=null,z=0;z<N.length;z++){var M=N[z];M!==null&&(M.lane&=-536870913)}a&=~H}r!==0&&qu(e,r,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function qu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-At(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&261930}function $u(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-At(a),o=1<<r;o&t|e[r]&t&&(e[r]|=t),a&=~o}}function Gu(e,t){var a=t&-t;return a=(a&42)!==0?1:jl(a),(a&(e.suspendedLanes|t))!==0?0:a}function jl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function El(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Iu(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Om(e.type))}function Vu(e,t){var a=P.p;try{return P.p=e,t()}finally{P.p=a}}var Nn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Nn,yt="__reactProps$"+Nn,Ma="__reactContainer$"+Nn,Al="__reactEvents$"+Nn,Hv="__reactListeners$"+Nn,qv="__reactHandles$"+Nn,Pu="__reactResources$"+Nn,Ms="__reactMarker$"+Nn;function Cl(e){delete e[lt],delete e[yt],delete e[Al],delete e[Hv],delete e[qv]}function Ua(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ma]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=fm(e);e!==null;){if(a=e[lt])return a;e=fm(e)}return t}e=a,a=e.parentNode}return null}function za(e){if(e=e[lt]||e[Ma]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Us(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ba(e){var t=e[Pu];return t||(t=e[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Ms]=!0}var Qu=new Set,Ku={};function oa(e,t){La(e,t),La(e+"Capture",t)}function La(e,t){for(Ku[e]=t,e=0;e<t.length;e++)Qu.add(t[e])}var $v=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yu={},Ju={};function Gv(e){return wl.call(Ju,e)?!0:wl.call(Yu,e)?!1:$v.test(e)?Ju[e]=!0:(Yu[e]=!0,!1)}function Ki(e,t,a){if(Gv(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Yi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function cn(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Iv(e,t,a){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,c=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ol(e){if(!e._valueTracker){var t=Xu(e)?"checked":"value";e._valueTracker=Iv(e,t,""+e[t])}}function Zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=Xu(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function Ji(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vv=/[\n"\\]/g;function qt(e){return e.replace(Vv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Rl(e,t,a,r,o,c,m,g){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ht(t)):e.value!==""+Ht(t)&&(e.value=""+Ht(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Nl(e,m,Ht(t)):a!=null?Nl(e,m,Ht(a)):r!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Ht(g):e.removeAttribute("name")}function Fu(e,t,a,r,o,c,m,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Ol(e);return}a=a!=null?""+Ht(a):"",t=t!=null?""+Ht(t):a,g||t===e.value||(e.value=t),e.defaultValue=t}r=r??o,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=g?e.checked:!!r,e.defaultChecked=!!r,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Ol(e)}function Nl(e,t,a){t==="number"&&Ji(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ha(e,t,a,r){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Ht(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Wu(e,t,a){if(t!=null&&(t=""+Ht(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ht(a):""}function eh(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(l(92));if(Xe(r)){if(1<r.length)throw Error(l(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=Ht(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r),Ol(e)}function qa(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Pv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function th(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||Pv.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function nh(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&a[o]!==r&&th(e,o,r)}else for(var c in t)t.hasOwnProperty(c)&&th(e,c,t[c])}function kl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(e){return Kv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function un(){}var Dl=null;function Ml(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $a=null,Ga=null;function ah(e){var t=za(e);if(t&&(e=t.stateNode)){var a=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Rl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var o=r[yt]||null;if(!o)throw Error(l(90));Rl(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&Zu(r)}break e;case"textarea":Wu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ha(e,!!a.multiple,t,!1)}}}var Ul=!1;function sh(e,t,a){if(Ul)return e(t,a);Ul=!0;try{var r=e(t);return r}finally{if(Ul=!1,($a!==null||Ga!==null)&&(Br(),$a&&(t=$a,e=Ga,Ga=$a=null,ah(t),e)))for(t=0;t<e.length;t++)ah(e[t])}}function zs(e,t){var a=e.stateNode;if(a===null)return null;var r=a[yt]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zl=!1;if(hn)try{var Bs={};Object.defineProperty(Bs,"passive",{get:function(){zl=!0}}),window.addEventListener("test",Bs,Bs),window.removeEventListener("test",Bs,Bs)}catch{zl=!1}var kn=null,Bl=null,Zi=null;function ih(){if(Zi)return Zi;var e,t=Bl,a=t.length,r,o="value"in kn?kn.value:kn.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(r=1;r<=m&&t[a-r]===o[c-r];r++);return Zi=o.slice(e,1<r?1-r:void 0)}function Fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function rh(){return!1}function gt(e){function t(a,r,o,c,m){this._reactName=a,this._targetInst=o,this.type=r,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Wi:rh,this.isPropagationStopped=rh,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=gt(ca),Ls=b({},ca,{view:0,detail:0}),Yv=gt(Ls),Ll,Hl,Hs,tr=b({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hs&&(Hs&&e.type==="mousemove"?(Ll=e.screenX-Hs.screenX,Hl=e.screenY-Hs.screenY):Hl=Ll=0,Hs=e),Ll)},movementY:function(e){return"movementY"in e?e.movementY:Hl}}),lh=gt(tr),Jv=b({},tr,{dataTransfer:0}),Xv=gt(Jv),Zv=b({},Ls,{relatedTarget:0}),ql=gt(Zv),Fv=b({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),Wv=gt(Fv),ey=b({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ty=gt(ey),ny=b({},ca,{data:0}),oh=gt(ny),ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ry(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iy[e])?!!t[e]:!1}function $l(){return ry}var ly=b({},Ls,{key:function(e){if(e.key){var t=ay[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(e){return e.type==="keypress"?Fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oy=gt(ly),cy=b({},tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ch=gt(cy),uy=b({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),hy=gt(uy),dy=b({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),fy=gt(dy),my=b({},tr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),py=gt(my),vy=b({},ca,{newState:0,oldState:0}),yy=gt(vy),gy=[9,13,27,32],Gl=hn&&"CompositionEvent"in window,qs=null;hn&&"documentMode"in document&&(qs=document.documentMode);var _y=hn&&"TextEvent"in window&&!qs,uh=hn&&(!Gl||qs&&8<qs&&11>=qs),hh=" ",dh=!1;function fh(e,t){switch(e){case"keyup":return gy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function by(e,t){switch(e){case"compositionend":return mh(t);case"keypress":return t.which!==32?null:(dh=!0,hh);case"textInput":return e=t.data,e===hh&&dh?null:e;default:return null}}function wy(e,t){if(Ia)return e==="compositionend"||!Gl&&fh(e,t)?(e=ih(),Zi=Bl=kn=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uh&&t.locale!=="ko"?null:t.data;default:return null}}var Sy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ph(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Sy[e.type]:t==="textarea"}function vh(e,t,a,r){$a?Ga?Ga.push(r):Ga=[r]:$a=r,t=Vr(t,"onChange"),0<t.length&&(a=new er("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var $s=null,Gs=null;function xy(e){Wf(e,0)}function nr(e){var t=Us(e);if(Zu(t))return e}function yh(e,t){if(e==="change")return t}var gh=!1;if(hn){var Il;if(hn){var Vl="oninput"in document;if(!Vl){var _h=document.createElement("div");_h.setAttribute("oninput","return;"),Vl=typeof _h.oninput=="function"}Il=Vl}else Il=!1;gh=Il&&(!document.documentMode||9<document.documentMode)}function bh(){$s&&($s.detachEvent("onpropertychange",wh),Gs=$s=null)}function wh(e){if(e.propertyName==="value"&&nr(Gs)){var t=[];vh(t,Gs,e,Ml(e)),sh(xy,t)}}function Ty(e,t,a){e==="focusin"?(bh(),$s=t,Gs=a,$s.attachEvent("onpropertychange",wh)):e==="focusout"&&bh()}function jy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nr(Gs)}function Ey(e,t){if(e==="click")return nr(t)}function Ay(e,t){if(e==="input"||e==="change")return nr(t)}function Cy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:Cy;function Is(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var o=a[r];if(!wl.call(t,o)||!Ct(e[o],t[o]))return!1}return!0}function Sh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xh(e,t){var a=Sh(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sh(a)}}function Th(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Th(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ji(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ji(e.document)}return t}function Pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Oy=hn&&"documentMode"in document&&11>=document.documentMode,Va=null,Ql=null,Vs=null,Kl=!1;function Eh(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kl||Va==null||Va!==Ji(r)||(r=Va,"selectionStart"in r&&Pl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vs&&Is(Vs,r)||(Vs=r,r=Vr(Ql,"onSelect"),0<r.length&&(t=new er("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=Va)))}function ua(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Pa={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Yl={},Ah={};hn&&(Ah=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function ha(e){if(Yl[e])return Yl[e];if(!Pa[e])return e;var t=Pa[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Ah)return Yl[e]=t[a];return e}var Ch=ha("animationend"),Oh=ha("animationiteration"),Rh=ha("animationstart"),Ry=ha("transitionrun"),Ny=ha("transitionstart"),ky=ha("transitioncancel"),Nh=ha("transitionend"),kh=new Map,Jl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jl.push("scrollEnd");function Zt(e,t){kh.set(e,t),oa(t,[e])}var ar=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$t=[],Qa=0,Xl=0;function sr(){for(var e=Qa,t=Xl=Qa=0;t<e;){var a=$t[t];$t[t++]=null;var r=$t[t];$t[t++]=null;var o=$t[t];$t[t++]=null;var c=$t[t];if($t[t++]=null,r!==null&&o!==null){var m=r.pending;m===null?o.next=o:(o.next=m.next,m.next=o),r.pending=o}c!==0&&Dh(a,o,c)}}function ir(e,t,a,r){$t[Qa++]=e,$t[Qa++]=t,$t[Qa++]=a,$t[Qa++]=r,Xl|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Zl(e,t,a,r){return ir(e,t,a,r),rr(e)}function da(e,t){return ir(e,null,null,t),rr(e)}function Dh(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,r=c.alternate,r!==null&&(r.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-At(a),e=c.hiddenUpdates,r=e[o],r===null?e[o]=[t]:r.push(t),t.lane=a|536870912),c):null}function rr(e){if(50<di)throw di=0,lc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ka={};function Dy(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,a,r){return new Dy(e,t,a,r)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dn(e,t){var a=e.alternate;return a===null?(a=Ot(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Mh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function lr(e,t,a,r,o,c){var m=0;if(r=e,typeof e=="function")Fl(e)&&(m=1);else if(typeof e=="string")m=Lg(e,a,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Re:return e=Ot(31,a,t,o),e.elementType=Re,e.lanes=c,e;case w:return fa(a.children,o,c,t);case D:m=8,o|=24;break;case k:return e=Ot(12,a,t,o|2),e.elementType=k,e.lanes=c,e;case de:return e=Ot(13,a,t,o),e.elementType=de,e.lanes=c,e;case ee:return e=Ot(19,a,t,o),e.elementType=ee,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G:m=10;break e;case I:m=9;break e;case F:m=11;break e;case K:m=14;break e;case te:m=16,r=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),r=null}return t=Ot(m,a,t,o),t.elementType=e,t.type=r,t.lanes=c,t}function fa(e,t,a,r){return e=Ot(7,e,r,t),e.lanes=a,e}function Wl(e,t,a){return e=Ot(6,e,null,t),e.lanes=a,e}function Uh(e){var t=Ot(18,null,null,0);return t.stateNode=e,t}function eo(e,t,a){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zh=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var a=zh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Uu(t)},zh.set(e,t),t)}return{value:e,source:t,stack:Uu(t)}}var Ya=[],Ja=0,or=null,Ps=0,It=[],Vt=0,Dn=null,an=1,sn="";function fn(e,t){Ya[Ja++]=Ps,Ya[Ja++]=or,or=e,Ps=t}function Bh(e,t,a){It[Vt++]=an,It[Vt++]=sn,It[Vt++]=Dn,Dn=e;var r=an;e=sn;var o=32-At(r)-1;r&=~(1<<o),a+=1;var c=32-At(t)+o;if(30<c){var m=o-o%5;c=(r&(1<<m)-1).toString(32),r>>=m,o-=m,an=1<<32-At(t)+o|a<<o|r,sn=c+e}else an=1<<c|a<<o|r,sn=e}function to(e){e.return!==null&&(fn(e,1),Bh(e,1,0))}function no(e){for(;e===or;)or=Ya[--Ja],Ya[Ja]=null,Ps=Ya[--Ja],Ya[Ja]=null;for(;e===Dn;)Dn=It[--Vt],It[Vt]=null,sn=It[--Vt],It[Vt]=null,an=It[--Vt],It[Vt]=null}function Lh(e,t){It[Vt++]=an,It[Vt++]=sn,It[Vt++]=Dn,an=t.id,sn=t.overflow,Dn=e}var ot=null,He=null,Se=!1,Mn=null,Pt=!1,ao=Error(l(519));function Un(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qs(Gt(t,e)),ao}function Hh(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[lt]=e,t[yt]=r,a){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(a=0;a<mi.length;a++)_e(mi[a],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Fu(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),eh(t,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||am(t.textContent,a)?(r.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),r.onScroll!=null&&_e("scroll",t),r.onScrollEnd!=null&&_e("scrollend",t),r.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||Un(e,!0)}function qh(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:ot=ot.return}}function Xa(e){if(e!==ot)return!1;if(!Se)return qh(e),Se=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Sc(e.type,e.memoizedProps)),a=!a),a&&He&&Un(e),qh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=dm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));He=dm(e)}else t===27?(t=He,Jn(e.type)?(e=Ac,Ac=null,He=e):He=t):He=ot?Kt(e.stateNode.nextSibling):null;return!0}function ma(){He=ot=null,Se=!1}function so(){var e=Mn;return e!==null&&(St===null?St=e:St.push.apply(St,e),Mn=null),e}function Qs(e){Mn===null?Mn=[e]:Mn.push(e)}var io=j(null),pa=null,mn=null;function zn(e,t,a){Q(io,t._currentValue),t._currentValue=a}function pn(e){e._currentValue=io.current,L(io)}function ro(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function lo(e,t,a,r){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var m=o.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=o;for(var S=0;S<t.length;S++)if(g.context===t[S]){c.lanes|=a,g=c.alternate,g!==null&&(g.lanes|=a),ro(c.return,a,e),r||(m=null);break e}c=g.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(l(341));m.lanes|=a,c=m.alternate,c!==null&&(c.lanes|=a),ro(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Za(e,t,a,r){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var g=o.type;Ct(o.pendingProps.value,m.value)||(e!==null?e.push(g):e=[g])}}else if(o===X.current){if(m=o.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(_i):e=[_i])}o=o.return}e!==null&&lo(t,e,a,r),t.flags|=262144}function cr(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function va(e){pa=e,mn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return $h(pa,e)}function ur(e,t){return pa===null&&va(e),$h(e,t)}function $h(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},mn===null){if(e===null)throw Error(l(308));mn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else mn=mn.next=t;return a}var My=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Uy=s.unstable_scheduleCallback,zy=s.unstable_NormalPriority,Ze={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oo(){return{controller:new My,data:new Map,refCount:0}}function Ks(e){e.refCount--,e.refCount===0&&Uy(zy,function(){e.controller.abort()})}var Ys=null,co=0,Fa=0,Wa=null;function By(e,t){if(Ys===null){var a=Ys=[];co=0,Fa=fc(),Wa={status:"pending",value:void 0,then:function(r){a.push(r)}}}return co++,t.then(Gh,Gh),t}function Gh(){if(--co===0&&Ys!==null){Wa!==null&&(Wa.status="fulfilled");var e=Ys;Ys=null,Fa=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ly(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(r.status="rejected",r.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),r}var Ih=U.S;U.S=function(e,t){Af=jt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&By(e,t),Ih!==null&&Ih(e,t)};var ya=j(null);function uo(){var e=ya.current;return e!==null?e:Be.pooledCache}function hr(e,t){t===null?Q(ya,ya.current):Q(ya,t.pool)}function Vh(){var e=uo();return e===null?null:{parent:Ze._currentValue,pool:e}}var es=Error(l(460)),ho=Error(l(474)),dr=Error(l(542)),fr={then:function(){}};function Ph(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(un,un),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yh(e),e;default:if(typeof t.status=="string")t.then(un,un);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=r}},function(r){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Yh(e),e}throw _a=t,es}}function ga(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(_a=a,es):a}}var _a=null;function Kh(){if(_a===null)throw Error(l(459));var e=_a;return _a=null,e}function Yh(e){if(e===es||e===dr)throw Error(l(483))}var ts=null,Js=0;function mr(e){var t=Js;return Js+=1,ts===null&&(ts=[]),Qh(ts,e,t)}function Xs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pr(e,t){throw t.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Jh(e){function t(E,T){if(e){var A=E.deletions;A===null?(E.deletions=[T],E.flags|=16):A.push(T)}}function a(E,T){if(!e)return null;for(;T!==null;)t(E,T),T=T.sibling;return null}function r(E){for(var T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function o(E,T){return E=dn(E,T),E.index=0,E.sibling=null,E}function c(E,T,A){return E.index=A,e?(A=E.alternate,A!==null?(A=A.index,A<T?(E.flags|=67108866,T):A):(E.flags|=67108866,T)):(E.flags|=1048576,T)}function m(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function g(E,T,A,B){return T===null||T.tag!==6?(T=Wl(A,E.mode,B),T.return=E,T):(T=o(T,A),T.return=E,T)}function S(E,T,A,B){var ne=A.type;return ne===w?z(E,T,A.props.children,B,A.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===te&&ga(ne)===T.type)?(T=o(T,A.props),Xs(T,A),T.return=E,T):(T=lr(A.type,A.key,A.props,null,E.mode,B),Xs(T,A),T.return=E,T)}function R(E,T,A,B){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=eo(A,E.mode,B),T.return=E,T):(T=o(T,A.children||[]),T.return=E,T)}function z(E,T,A,B,ne){return T===null||T.tag!==7?(T=fa(A,E.mode,B,ne),T.return=E,T):(T=o(T,A),T.return=E,T)}function H(E,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Wl(""+T,E.mode,A),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case C:return A=lr(T.type,T.key,T.props,null,E.mode,A),Xs(A,T),A.return=E,A;case O:return T=eo(T,E.mode,A),T.return=E,T;case te:return T=ga(T),H(E,T,A)}if(Xe(T)||oe(T))return T=fa(T,E.mode,A,null),T.return=E,T;if(typeof T.then=="function")return H(E,mr(T),A);if(T.$$typeof===G)return H(E,ur(E,T),A);pr(E,T)}return null}function N(E,T,A,B){var ne=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ne!==null?null:g(E,T,""+A,B);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case C:return A.key===ne?S(E,T,A,B):null;case O:return A.key===ne?R(E,T,A,B):null;case te:return A=ga(A),N(E,T,A,B)}if(Xe(A)||oe(A))return ne!==null?null:z(E,T,A,B,null);if(typeof A.then=="function")return N(E,T,mr(A),B);if(A.$$typeof===G)return N(E,T,ur(E,A),B);pr(E,A)}return null}function M(E,T,A,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return E=E.get(A)||null,g(T,E,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return E=E.get(B.key===null?A:B.key)||null,S(T,E,B,ne);case O:return E=E.get(B.key===null?A:B.key)||null,R(T,E,B,ne);case te:return B=ga(B),M(E,T,A,B,ne)}if(Xe(B)||oe(B))return E=E.get(A)||null,z(T,E,B,ne,null);if(typeof B.then=="function")return M(E,T,A,mr(B),ne);if(B.$$typeof===G)return M(E,T,A,ur(T,B),ne);pr(T,B)}return null}function Y(E,T,A,B){for(var ne=null,Ae=null,Z=T,fe=T=0,we=null;Z!==null&&fe<A.length;fe++){Z.index>fe?(we=Z,Z=null):we=Z.sibling;var Ce=N(E,Z,A[fe],B);if(Ce===null){Z===null&&(Z=we);break}e&&Z&&Ce.alternate===null&&t(E,Z),T=c(Ce,T,fe),Ae===null?ne=Ce:Ae.sibling=Ce,Ae=Ce,Z=we}if(fe===A.length)return a(E,Z),Se&&fn(E,fe),ne;if(Z===null){for(;fe<A.length;fe++)Z=H(E,A[fe],B),Z!==null&&(T=c(Z,T,fe),Ae===null?ne=Z:Ae.sibling=Z,Ae=Z);return Se&&fn(E,fe),ne}for(Z=r(Z);fe<A.length;fe++)we=M(Z,E,fe,A[fe],B),we!==null&&(e&&we.alternate!==null&&Z.delete(we.key===null?fe:we.key),T=c(we,T,fe),Ae===null?ne=we:Ae.sibling=we,Ae=we);return e&&Z.forEach(function(ea){return t(E,ea)}),Se&&fn(E,fe),ne}function ie(E,T,A,B){if(A==null)throw Error(l(151));for(var ne=null,Ae=null,Z=T,fe=T=0,we=null,Ce=A.next();Z!==null&&!Ce.done;fe++,Ce=A.next()){Z.index>fe?(we=Z,Z=null):we=Z.sibling;var ea=N(E,Z,Ce.value,B);if(ea===null){Z===null&&(Z=we);break}e&&Z&&ea.alternate===null&&t(E,Z),T=c(ea,T,fe),Ae===null?ne=ea:Ae.sibling=ea,Ae=ea,Z=we}if(Ce.done)return a(E,Z),Se&&fn(E,fe),ne;if(Z===null){for(;!Ce.done;fe++,Ce=A.next())Ce=H(E,Ce.value,B),Ce!==null&&(T=c(Ce,T,fe),Ae===null?ne=Ce:Ae.sibling=Ce,Ae=Ce);return Se&&fn(E,fe),ne}for(Z=r(Z);!Ce.done;fe++,Ce=A.next())Ce=M(Z,E,fe,Ce.value,B),Ce!==null&&(e&&Ce.alternate!==null&&Z.delete(Ce.key===null?fe:Ce.key),T=c(Ce,T,fe),Ae===null?ne=Ce:Ae.sibling=Ce,Ae=Ce);return e&&Z.forEach(function(Jg){return t(E,Jg)}),Se&&fn(E,fe),ne}function ze(E,T,A,B){if(typeof A=="object"&&A!==null&&A.type===w&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case C:e:{for(var ne=A.key;T!==null;){if(T.key===ne){if(ne=A.type,ne===w){if(T.tag===7){a(E,T.sibling),B=o(T,A.props.children),B.return=E,E=B;break e}}else if(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===te&&ga(ne)===T.type){a(E,T.sibling),B=o(T,A.props),Xs(B,A),B.return=E,E=B;break e}a(E,T);break}else t(E,T);T=T.sibling}A.type===w?(B=fa(A.props.children,E.mode,B,A.key),B.return=E,E=B):(B=lr(A.type,A.key,A.props,null,E.mode,B),Xs(B,A),B.return=E,E=B)}return m(E);case O:e:{for(ne=A.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){a(E,T.sibling),B=o(T,A.children||[]),B.return=E,E=B;break e}else{a(E,T);break}else t(E,T);T=T.sibling}B=eo(A,E.mode,B),B.return=E,E=B}return m(E);case te:return A=ga(A),ze(E,T,A,B)}if(Xe(A))return Y(E,T,A,B);if(oe(A)){if(ne=oe(A),typeof ne!="function")throw Error(l(150));return A=ne.call(A),ie(E,T,A,B)}if(typeof A.then=="function")return ze(E,T,mr(A),B);if(A.$$typeof===G)return ze(E,T,ur(E,A),B);pr(E,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(a(E,T.sibling),B=o(T,A),B.return=E,E=B):(a(E,T),B=Wl(A,E.mode,B),B.return=E,E=B),m(E)):a(E,T)}return function(E,T,A,B){try{Js=0;var ne=ze(E,T,A,B);return ts=null,ne}catch(Z){if(Z===es||Z===dr)throw Z;var Ae=Ot(29,Z,null,E.mode);return Ae.lanes=B,Ae.return=E,Ae}finally{}}}var ba=Jh(!0),Xh=Jh(!1),Bn=!1;function fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ln(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Oe&2)!==0){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=rr(e),Dh(e,null,a),t}return ir(e,r,t,a),rr(e)}function Zs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,$u(e,a)}}function po(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=m:c=c.next=m,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var vo=!1;function Fs(){if(vo){var e=Wa;if(e!==null)throw e}}function Ws(e,t,a,r){vo=!1;var o=e.updateQueue;Bn=!1;var c=o.firstBaseUpdate,m=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var S=g,R=S.next;S.next=null,m===null?c=R:m.next=R,m=S;var z=e.alternate;z!==null&&(z=z.updateQueue,g=z.lastBaseUpdate,g!==m&&(g===null?z.firstBaseUpdate=R:g.next=R,z.lastBaseUpdate=S))}if(c!==null){var H=o.baseState;m=0,z=R=S=null,g=c;do{var N=g.lane&-536870913,M=N!==g.lane;if(M?(be&N)===N:(r&N)===N){N!==0&&N===Fa&&(vo=!0),z!==null&&(z=z.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var Y=e,ie=g;N=t;var ze=a;switch(ie.tag){case 1:if(Y=ie.payload,typeof Y=="function"){H=Y.call(ze,H,N);break e}H=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=ie.payload,N=typeof Y=="function"?Y.call(ze,H,N):Y,N==null)break e;H=b({},H,N);break e;case 2:Bn=!0}}N=g.callback,N!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[N]:M.push(N))}else M={lane:N,tag:g.tag,payload:g.payload,callback:g.callback,next:null},z===null?(R=z=M,S=H):z=z.next=M,m|=N;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;M=g,g=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);z===null&&(S=H),o.baseState=S,o.firstBaseUpdate=R,o.lastBaseUpdate=z,c===null&&(o.shared.lanes=0),Vn|=m,e.lanes=m,e.memoizedState=H}}function Zh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Fh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zh(a[e],t)}var ns=j(null),vr=j(0);function Wh(e,t){e=Tn,Q(vr,e),Q(ns,t),Tn=e|t.baseLanes}function yo(){Q(vr,Tn),Q(ns,ns.current)}function go(){Tn=vr.current,L(ns),L(vr)}var Rt=j(null),Qt=null;function qn(e){var t=e.alternate;Q(Ye,Ye.current&1),Q(Rt,e),Qt===null&&(t===null||ns.current!==null||t.memoizedState!==null)&&(Qt=e)}function _o(e){Q(Ye,Ye.current),Q(Rt,e),Qt===null&&(Qt=e)}function ed(e){e.tag===22?(Q(Ye,Ye.current),Q(Rt,e),Qt===null&&(Qt=e)):$n()}function $n(){Q(Ye,Ye.current),Q(Rt,Rt.current)}function Nt(e){L(Rt),Qt===e&&(Qt=null),L(Ye)}var Ye=j(0);function yr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||jc(a)||Ec(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vn=0,he=null,Me=null,Fe=null,gr=!1,as=!1,wa=!1,_r=0,ei=0,ss=null,Hy=0;function Pe(){throw Error(l(321))}function bo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ct(e[a],t[a]))return!1;return!0}function wo(e,t,a,r,o,c){return vn=c,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Bd:zo,wa=!1,c=a(r,o),wa=!1,as&&(c=nd(t,a,r,o)),td(e),c}function td(e){U.H=ai;var t=Me!==null&&Me.next!==null;if(vn=0,Fe=Me=he=null,gr=!1,ei=0,ss=null,t)throw Error(l(300));e===null||We||(e=e.dependencies,e!==null&&cr(e)&&(We=!0))}function nd(e,t,a,r){he=e;var o=0;do{if(as&&(ss=null),ei=0,as=!1,25<=o)throw Error(l(301));if(o+=1,Fe=Me=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}U.H=Ld,c=t(a,r)}while(as);return c}function qy(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?ti(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(he.flags|=1024),t}function So(){var e=_r!==0;return _r=0,e}function xo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function To(e){if(gr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gr=!1}vn=0,Fe=Me=he=null,as=!1,ei=_r=0,ss=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?he.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Je(){if(Me===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Fe===null?he.memoizedState:Fe.next;if(t!==null)Fe=t,Me=e;else{if(e===null)throw he.alternate===null?Error(l(467)):Error(l(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Fe===null?he.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ti(e){var t=ei;return ei+=1,ss===null&&(ss=[]),e=Qh(ss,e,t),t=he,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Bd:zo),e}function wr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ti(e);if(e.$$typeof===G)return ct(e)}throw Error(l(438,String(e)))}function jo(e){var t=null,a=he.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=he.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=br(),he.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=nt;return t.index++,a}function yn(e,t){return typeof t=="function"?t(e):t}function Sr(e){var t=Je();return Eo(t,Me,e)}function Eo(e,t,a){var r=e.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=a;var o=e.baseQueue,c=r.pending;if(c!==null){if(o!==null){var m=o.next;o.next=c.next,c.next=m}t.baseQueue=o=c,r.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var g=m=null,S=null,R=t,z=!1;do{var H=R.lane&-536870913;if(H!==R.lane?(be&H)===H:(vn&H)===H){var N=R.revertLane;if(N===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),H===Fa&&(z=!0);else if((vn&N)===N){R=R.next,N===Fa&&(z=!0);continue}else H={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(g=S=H,m=c):S=S.next=H,he.lanes|=N,Vn|=N;H=R.action,wa&&a(c,H),c=R.hasEagerState?R.eagerState:a(c,H)}else N={lane:H,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(g=S=N,m=c):S=S.next=N,he.lanes|=H,Vn|=H;R=R.next}while(R!==null&&R!==t);if(S===null?m=c:S.next=g,!Ct(c,e.memoizedState)&&(We=!0,z&&(a=Wa,a!==null)))throw a;e.memoizedState=c,e.baseState=m,e.baseQueue=S,r.lastRenderedState=c}return o===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ao(e){var t=Je(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var r=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do c=e(c,m.action),m=m.next;while(m!==o);Ct(c,t.memoizedState)||(We=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,r]}function ad(e,t,a){var r=he,o=Je(),c=Se;if(c){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!Ct((Me||o).memoizedState,a);if(m&&(o.memoizedState=a,We=!0),o=o.queue,Ro(rd.bind(null,r,o,e),[e]),o.getSnapshot!==t||m||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,is(9,{destroy:void 0},id.bind(null,r,o,a,t),null),Be===null)throw Error(l(349));c||(vn&127)!==0||sd(r,t,a)}return a}function sd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=he.updateQueue,t===null?(t=br(),he.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function id(e,t,a,r){t.value=a,t.getSnapshot=r,ld(t)&&od(e)}function rd(e,t,a){return a(function(){ld(t)&&od(e)})}function ld(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ct(e,a)}catch{return!0}}function od(e){var t=da(e,2);t!==null&&xt(t,e,2)}function Co(e){var t=vt();if(typeof e=="function"){var a=e;if(e=a(),wa){Rn(!0);try{a()}finally{Rn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:e},t}function cd(e,t,a,r){return e.baseState=a,Eo(e,Me,typeof r=="function"?r:yn)}function $y(e,t,a,r,o){if(jr(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};U.T!==null?a(!0):c.isTransition=!1,r(c),a=t.pending,a===null?(c.next=t.pending=c,ud(t,c)):(c.next=a.next,t.pending=a.next=c)}}function ud(e,t){var a=t.action,r=t.payload,o=e.state;if(t.isTransition){var c=U.T,m={};U.T=m;try{var g=a(o,r),S=U.S;S!==null&&S(m,g),hd(e,t,g)}catch(R){Oo(e,t,R)}finally{c!==null&&m.types!==null&&(c.types=m.types),U.T=c}}else try{c=a(o,r),hd(e,t,c)}catch(R){Oo(e,t,R)}}function hd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){dd(e,t,r)},function(r){return Oo(e,t,r)}):dd(e,t,a)}function dd(e,t,a){t.status="fulfilled",t.value=a,fd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,ud(e,a)))}function Oo(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,fd(t),t=t.next;while(t!==r)}e.action=null}function fd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function md(e,t){return t}function pd(e,t){if(Se){var a=Be.formState;if(a!==null){e:{var r=he;if(Se){if(He){t:{for(var o=He,c=Pt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Kt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){He=Kt(o.nextSibling),r=o.data==="F!";break e}}Un(r)}r=!1}r&&(t=a[0])}}return a=vt(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:t},a.queue=r,a=Md.bind(null,he,r),r.dispatch=a,r=Co(!1),c=Uo.bind(null,he,!1,r.queue),r=vt(),o={state:t,dispatch:null,action:e,pending:null},r.queue=o,a=$y.bind(null,he,o,c,a),o.dispatch=a,r.memoizedState=e,[t,a,!1]}function vd(e){var t=Je();return yd(t,Me,e)}function yd(e,t,a){if(t=Eo(e,t,md)[0],e=Sr(yn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=ti(t)}catch(m){throw m===es?dr:m}else r=t;t=Je();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(he.flags|=2048,is(9,{destroy:void 0},Gy.bind(null,o,a),null)),[r,c,e]}function Gy(e,t){e.action=t}function gd(e){var t=Je(),a=Me;if(a!==null)return yd(t,a,e);Je(),t=t.memoizedState,a=Je();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function is(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=he.updateQueue,t===null&&(t=br(),he.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function _d(){return Je().memoizedState}function xr(e,t,a,r){var o=vt();he.flags|=e,o.memoizedState=is(1|t,{destroy:void 0},a,r===void 0?null:r)}function Tr(e,t,a,r){var o=Je();r=r===void 0?null:r;var c=o.memoizedState.inst;Me!==null&&r!==null&&bo(r,Me.memoizedState.deps)?o.memoizedState=is(t,c,a,r):(he.flags|=e,o.memoizedState=is(1|t,c,a,r))}function bd(e,t){xr(8390656,8,e,t)}function Ro(e,t){Tr(2048,8,e,t)}function Iy(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=br(),he.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function wd(e){var t=Je().memoizedState;return Iy({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Sd(e,t){return Tr(4,2,e,t)}function xd(e,t){return Tr(4,4,e,t)}function Td(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jd(e,t,a){a=a!=null?a.concat([e]):null,Tr(4,4,Td.bind(null,t,e),a)}function No(){}function Ed(e,t){var a=Je();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&bo(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function Ad(e,t){var a=Je();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&bo(t,r[1]))return r[0];if(r=e(),wa){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[r,t],r}function ko(e,t,a){return a===void 0||(vn&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Of(),he.lanes|=e,Vn|=e,a)}function Cd(e,t,a,r){return Ct(a,t)?a:ns.current!==null?(e=ko(e,a,r),Ct(e,t)||(We=!0),e):(vn&42)===0||(vn&1073741824)!==0&&(be&261930)===0?(We=!0,e.memoizedState=a):(e=Of(),he.lanes|=e,Vn|=e,t)}function Od(e,t,a,r,o){var c=P.p;P.p=c!==0&&8>c?c:8;var m=U.T,g={};U.T=g,Uo(e,!1,t,a);try{var S=o(),R=U.S;if(R!==null&&R(g,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var z=Ly(S,r);ni(e,t,z,Mt(e))}else ni(e,t,r,Mt(e))}catch(H){ni(e,t,{then:function(){},status:"rejected",reason:H},Mt())}finally{P.p=c,m!==null&&g.types!==null&&(m.types=g.types),U.T=m}}function Vy(){}function Do(e,t,a,r){if(e.tag!==5)throw Error(l(476));var o=Rd(e).queue;Od(e,o,t,ae,a===null?Vy:function(){return Nd(e),a(r)})}function Rd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Nd(e){var t=Rd(e);t.next===null&&(t=e.alternate.memoizedState),ni(e,t.next.queue,{},Mt())}function Mo(){return ct(_i)}function kd(){return Je().memoizedState}function Dd(){return Je().memoizedState}function Py(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Mt();e=Ln(a);var r=Hn(t,e,a);r!==null&&(xt(r,t,a),Zs(r,t,a)),t={cache:oo()},e.payload=t;return}t=t.return}}function Qy(e,t,a){var r=Mt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},jr(e)?Ud(t,a):(a=Zl(e,t,a,r),a!==null&&(xt(a,e,r),zd(a,t,r)))}function Md(e,t,a){var r=Mt();ni(e,t,a,r)}function ni(e,t,a,r){var o={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(jr(e))Ud(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,g=c(m,a);if(o.hasEagerState=!0,o.eagerState=g,Ct(g,m))return ir(e,t,o,0),Be===null&&sr(),!1}catch{}finally{}if(a=Zl(e,t,o,r),a!==null)return xt(a,e,r),zd(a,t,r),!0}return!1}function Uo(e,t,a,r){if(r={lane:2,revertLane:fc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},jr(e)){if(t)throw Error(l(479))}else t=Zl(e,a,r,2),t!==null&&xt(t,e,2)}function jr(e){var t=e.alternate;return e===he||t!==null&&t===he}function Ud(e,t){as=gr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function zd(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,$u(e,a)}}var ai={readContext:ct,use:wr,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};ai.useEffectEvent=Pe;var Bd={readContext:ct,use:wr,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:bd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,xr(4194308,4,Td.bind(null,t,e),a)},useLayoutEffect:function(e,t){return xr(4194308,4,e,t)},useInsertionEffect:function(e,t){xr(4,2,e,t)},useMemo:function(e,t){var a=vt();t=t===void 0?null:t;var r=e();if(wa){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=vt();if(a!==void 0){var o=a(t);if(wa){Rn(!0);try{a(t)}finally{Rn(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Qy.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:function(e){e=Co(e);var t=e.queue,a=Md.bind(null,he,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:No,useDeferredValue:function(e,t){var a=vt();return ko(a,e,t)},useTransition:function(){var e=Co(!1);return e=Od.bind(null,he,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=he,o=vt();if(Se){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Be===null)throw Error(l(349));(be&127)!==0||sd(r,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,bd(rd.bind(null,r,c,e),[e]),r.flags|=2048,is(9,{destroy:void 0},id.bind(null,r,c,a,t),null),a},useId:function(){var e=vt(),t=Be.identifierPrefix;if(Se){var a=sn,r=an;a=(r&~(1<<32-At(r)-1)).toString(32)+a,t="_"+t+"R_"+a,a=_r++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Hy++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:pd,useActionState:pd,useOptimistic:function(e){var t=vt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Uo.bind(null,he,!0,a),a.dispatch=t,[e,t]},useMemoCache:jo,useCacheRefresh:function(){return vt().memoizedState=Py.bind(null,he)},useEffectEvent:function(e){var t=vt(),a={impl:e};return t.memoizedState=a,function(){if((Oe&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},zo={readContext:ct,use:wr,useCallback:Ed,useContext:ct,useEffect:Ro,useImperativeHandle:jd,useInsertionEffect:Sd,useLayoutEffect:xd,useMemo:Ad,useReducer:Sr,useRef:_d,useState:function(){return Sr(yn)},useDebugValue:No,useDeferredValue:function(e,t){var a=Je();return Cd(a,Me.memoizedState,e,t)},useTransition:function(){var e=Sr(yn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:ti(e),t]},useSyncExternalStore:ad,useId:kd,useHostTransitionStatus:Mo,useFormState:vd,useActionState:vd,useOptimistic:function(e,t){var a=Je();return cd(a,Me,e,t)},useMemoCache:jo,useCacheRefresh:Dd};zo.useEffectEvent=wd;var Ld={readContext:ct,use:wr,useCallback:Ed,useContext:ct,useEffect:Ro,useImperativeHandle:jd,useInsertionEffect:Sd,useLayoutEffect:xd,useMemo:Ad,useReducer:Ao,useRef:_d,useState:function(){return Ao(yn)},useDebugValue:No,useDeferredValue:function(e,t){var a=Je();return Me===null?ko(a,e,t):Cd(a,Me.memoizedState,e,t)},useTransition:function(){var e=Ao(yn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:ti(e),t]},useSyncExternalStore:ad,useId:kd,useHostTransitionStatus:Mo,useFormState:gd,useActionState:gd,useOptimistic:function(e,t){var a=Je();return Me!==null?cd(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:jo,useCacheRefresh:Dd};Ld.useEffectEvent=wd;function Bo(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lo={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=Mt(),o=Ln(r);o.payload=t,a!=null&&(o.callback=a),t=Hn(e,o,r),t!==null&&(xt(t,e,r),Zs(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=Mt(),o=Ln(r);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Hn(e,o,r),t!==null&&(xt(t,e,r),Zs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Mt(),r=Ln(a);r.tag=2,t!=null&&(r.callback=t),t=Hn(e,r,a),t!==null&&(xt(t,e,a),Zs(t,e,a))}};function Hd(e,t,a,r,o,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,c,m):t.prototype&&t.prototype.isPureReactComponent?!Is(a,r)||!Is(o,c):!0}function qd(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&Lo.enqueueReplaceState(t,t.state,null)}function Sa(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function $d(e){ar(e)}function Gd(e){console.error(e)}function Id(e){ar(e)}function Er(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Vd(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ho(e,t,a){return a=Ln(a),a.tag=3,a.payload={element:null},a.callback=function(){Er(e,t)},a}function Pd(e){return e=Ln(e),e.tag=3,e}function Qd(e,t,a,r){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=r.value;e.payload=function(){return o(c)},e.callback=function(){Vd(t,a,r)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Vd(t,a,r),typeof o!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var g=r.stack;this.componentDidCatch(r.value,{componentStack:g!==null?g:""})})}function Ky(e,t,a,r,o){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&Za(t,a,o,!0),a=Rt.current,a!==null){switch(a.tag){case 31:case 13:return Qt===null?Lr():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,r===fr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),uc(e,r,o)),!1;case 22:return a.flags|=65536,r===fr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),uc(e,r,o)),!1}throw Error(l(435,a.tag))}return uc(e,r,o),Lr(),!1}if(Se)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==ao&&(e=Error(l(422),{cause:r}),Qs(Gt(e,a)))):(r!==ao&&(t=Error(l(423),{cause:r}),Qs(Gt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,r=Gt(r,a),o=Ho(e.stateNode,r,o),po(e,o),Qe!==4&&(Qe=2)),!1;var c=Error(l(520),{cause:r});if(c=Gt(c,a),hi===null?hi=[c]:hi.push(c),Qe!==4&&(Qe=2),t===null)return!0;r=Gt(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Ho(a.stateNode,r,e),po(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Pn===null||!Pn.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Pd(o),Qd(o,e,a,r),po(a,o),!1}a=a.return}while(a!==null);return!1}var qo=Error(l(461)),We=!1;function ut(e,t,a,r){t.child=e===null?Xh(t,null,a,r):ba(t,e.child,a,r)}function Kd(e,t,a,r,o){a=a.render;var c=t.ref;if("ref"in r){var m={};for(var g in r)g!=="ref"&&(m[g]=r[g])}else m=r;return va(t),r=wo(e,t,a,m,c,o),g=So(),e!==null&&!We?(xo(e,t,o),gn(e,t,o)):(Se&&g&&to(t),t.flags|=1,ut(e,t,r,o),t.child)}function Yd(e,t,a,r,o){if(e===null){var c=a.type;return typeof c=="function"&&!Fl(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,Jd(e,t,c,r,o)):(e=lr(a.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Yo(e,o)){var m=c.memoizedProps;if(a=a.compare,a=a!==null?a:Is,a(m,r)&&e.ref===t.ref)return gn(e,t,o)}return t.flags|=1,e=dn(c,r),e.ref=t.ref,e.return=t,t.child=e}function Jd(e,t,a,r,o){if(e!==null){var c=e.memoizedProps;if(Is(c,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=c,Yo(e,o))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,gn(e,t,o)}return $o(e,t,a,r,o)}function Xd(e,t,a,r){var o=r.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(r=t.child=e.child,o=0;r!==null;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~c}else r=0,t.child=null;return Zd(e,t,c,a,r)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hr(t,c!==null?c.cachePool:null),c!==null?Wh(t,c):yo(),ed(t);else return r=t.lanes=536870912,Zd(e,t,c!==null?c.baseLanes|a:a,a,r)}else c!==null?(hr(t,c.cachePool),Wh(t,c),$n(),t.memoizedState=null):(e!==null&&hr(t,null),yo(),$n());return ut(e,t,o,a),t.child}function si(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zd(e,t,a,r,o){var c=uo();return c=c===null?null:{parent:Ze._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&hr(t,null),yo(),ed(t),e!==null&&Za(e,t,r,!0),t.childLanes=o,null}function Ar(e,t){return t=Or({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Fd(e,t,a){return ba(t,e.child,null,a),e=Ar(t,t.pendingProps),e.flags|=2,Nt(t),t.memoizedState=null,e}function Yy(e,t,a){var r=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(r.mode==="hidden")return e=Ar(t,r),t.lanes=536870912,si(null,e);if(_o(t),(e=He)?(e=hm(e,Pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},a=Uh(e),a.return=t,t.child=a,ot=t,He=null)):e=null,e===null)throw Un(t);return t.lanes=536870912,null}return Ar(t,r)}var c=e.memoizedState;if(c!==null){var m=c.dehydrated;if(_o(t),o)if(t.flags&256)t.flags&=-257,t=Fd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(We||Za(e,t,a,!1),o=(a&e.childLanes)!==0,We||o){if(r=Be,r!==null&&(m=Gu(r,a),m!==0&&m!==c.retryLane))throw c.retryLane=m,da(e,m),xt(r,e,m),qo;Lr(),t=Fd(e,t,a)}else e=c.treeContext,He=Kt(m.nextSibling),ot=t,Se=!0,Mn=null,Pt=!1,e!==null&&Lh(t,e),t=Ar(t,r),t.flags|=4096;return t}return e=dn(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Cr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function $o(e,t,a,r,o){return va(t),a=wo(e,t,a,r,void 0,o),r=So(),e!==null&&!We?(xo(e,t,o),gn(e,t,o)):(Se&&r&&to(t),t.flags|=1,ut(e,t,a,o),t.child)}function Wd(e,t,a,r,o,c){return va(t),t.updateQueue=null,a=nd(t,r,a,o),td(e),r=So(),e!==null&&!We?(xo(e,t,c),gn(e,t,c)):(Se&&r&&to(t),t.flags|=1,ut(e,t,a,c),t.child)}function ef(e,t,a,r,o){if(va(t),t.stateNode===null){var c=Ka,m=a.contextType;typeof m=="object"&&m!==null&&(c=ct(m)),c=new a(r,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Lo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=r,c.state=t.memoizedState,c.refs={},fo(t),m=a.contextType,c.context=typeof m=="object"&&m!==null?ct(m):Ka,c.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Bo(t,a,m,r),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&Lo.enqueueReplaceState(c,c.state,null),Ws(t,r,c,o),Fs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,S=Sa(a,g);c.props=S;var R=c.context,z=a.contextType;m=Ka,typeof z=="object"&&z!==null&&(m=ct(z));var H=a.getDerivedStateFromProps;z=typeof H=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,z||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||R!==m)&&qd(t,c,r,m),Bn=!1;var N=t.memoizedState;c.state=N,Ws(t,r,c,o),Fs(),R=t.memoizedState,g||N!==R||Bn?(typeof H=="function"&&(Bo(t,a,H,r),R=t.memoizedState),(S=Bn||Hd(t,a,S,r,N,R,m))?(z||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=R),c.props=r,c.state=R,c.context=m,r=S):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,mo(e,t),m=t.memoizedProps,z=Sa(a,m),c.props=z,H=t.pendingProps,N=c.context,R=a.contextType,S=Ka,typeof R=="object"&&R!==null&&(S=ct(R)),g=a.getDerivedStateFromProps,(R=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==H||N!==S)&&qd(t,c,r,S),Bn=!1,N=t.memoizedState,c.state=N,Ws(t,r,c,o),Fs();var M=t.memoizedState;m!==H||N!==M||Bn||e!==null&&e.dependencies!==null&&cr(e.dependencies)?(typeof g=="function"&&(Bo(t,a,g,r),M=t.memoizedState),(z=Bn||Hd(t,a,z,r,N,M,S)||e!==null&&e.dependencies!==null&&cr(e.dependencies))?(R||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,M,S),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,M,S)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=M),c.props=r,c.state=M,c.context=S,r=z):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),r=!1)}return c=r,Cr(e,t),r=(t.flags&128)!==0,c||r?(c=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&r?(t.child=ba(t,e.child,null,o),t.child=ba(t,null,a,o)):ut(e,t,a,o),t.memoizedState=c.state,e=t.child):e=gn(e,t,o),e}function tf(e,t,a,r){return ma(),t.flags|=256,ut(e,t,a,r),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Io(e){return{baseLanes:e,cachePool:Vh()}}function Vo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Dt),e}function nf(e,t,a){var r=t.pendingProps,o=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(o?qn(t):$n(),(e=He)?(e=hm(e,Pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dn!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},a=Uh(e),a.return=t,t.child=a,ot=t,He=null)):e=null,e===null)throw Un(t);return Ec(e)?t.lanes=32:t.lanes=536870912,null}var g=r.children;return r=r.fallback,o?($n(),o=t.mode,g=Or({mode:"hidden",children:g},o),r=fa(r,o,a,null),g.return=t,r.return=t,g.sibling=r,t.child=g,r=t.child,r.memoizedState=Io(a),r.childLanes=Vo(e,m,a),t.memoizedState=Go,si(null,r)):(qn(t),Po(t,g))}var S=e.memoizedState;if(S!==null&&(g=S.dehydrated,g!==null)){if(c)t.flags&256?(qn(t),t.flags&=-257,t=Qo(e,t,a)):t.memoizedState!==null?($n(),t.child=e.child,t.flags|=128,t=null):($n(),g=r.fallback,o=t.mode,r=Or({mode:"visible",children:r.children},o),g=fa(g,o,a,null),g.flags|=2,r.return=t,g.return=t,r.sibling=g,t.child=r,ba(t,e.child,null,a),r=t.child,r.memoizedState=Io(a),r.childLanes=Vo(e,m,a),t.memoizedState=Go,t=si(null,r));else if(qn(t),Ec(g)){if(m=g.nextSibling&&g.nextSibling.dataset,m)var R=m.dgst;m=R,r=Error(l(419)),r.stack="",r.digest=m,Qs({value:r,source:null,stack:null}),t=Qo(e,t,a)}else if(We||Za(e,t,a,!1),m=(a&e.childLanes)!==0,We||m){if(m=Be,m!==null&&(r=Gu(m,a),r!==0&&r!==S.retryLane))throw S.retryLane=r,da(e,r),xt(m,e,r),qo;jc(g)||Lr(),t=Qo(e,t,a)}else jc(g)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,He=Kt(g.nextSibling),ot=t,Se=!0,Mn=null,Pt=!1,e!==null&&Lh(t,e),t=Po(t,r.children),t.flags|=4096);return t}return o?($n(),g=r.fallback,o=t.mode,S=e.child,R=S.sibling,r=dn(S,{mode:"hidden",children:r.children}),r.subtreeFlags=S.subtreeFlags&65011712,R!==null?g=dn(R,g):(g=fa(g,o,a,null),g.flags|=2),g.return=t,r.return=t,r.sibling=g,t.child=r,si(null,r),r=t.child,g=e.child.memoizedState,g===null?g=Io(a):(o=g.cachePool,o!==null?(S=Ze._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=Vh(),g={baseLanes:g.baseLanes|a,cachePool:o}),r.memoizedState=g,r.childLanes=Vo(e,m,a),t.memoizedState=Go,si(e.child,r)):(qn(t),a=e.child,e=a.sibling,a=dn(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Po(e,t){return t=Or({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Or(e,t){return e=Ot(22,e,null,t),e.lanes=0,e}function Qo(e,t,a){return ba(t,e.child,null,a),e=Po(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function af(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ro(e.return,t,a)}function Ko(e,t,a,r,o,c){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:o,treeForkCount:c}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=r,m.tail=a,m.tailMode=o,m.treeForkCount=c)}function sf(e,t,a){var r=t.pendingProps,o=r.revealOrder,c=r.tail;r=r.children;var m=Ye.current,g=(m&2)!==0;if(g?(m=m&1|2,t.flags|=128):m&=1,Q(Ye,m),ut(e,t,r,a),r=Se?Ps:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&af(e,a,t);else if(e.tag===19)af(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&yr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Ko(t,!1,o,a,c,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Ko(t,!0,a,null,c,r);break;case"together":Ko(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function gn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Za(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=dn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=dn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Yo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&cr(e)))}function Jy(e,t,a){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),zn(t,Ze,e.memoizedState.cache),ma();break;case 27:case 5:Lt(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:zn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,_o(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(qn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?nf(e,t,a):(qn(t),e=gn(e,t,a),e!==null?e.sibling:null);qn(t);break;case 19:var o=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(Za(e,t,a,!1),r=(a&t.childLanes)!==0),o){if(r)return sf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Q(Ye,Ye.current),r)break;return null;case 22:return t.lanes=0,Xd(e,t,a,t.pendingProps);case 24:zn(t,Ze,e.memoizedState.cache)}return gn(e,t,a)}function rf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!Yo(e,a)&&(t.flags&128)===0)return We=!1,Jy(e,t,a);We=(e.flags&131072)!==0}else We=!1,Se&&(t.flags&1048576)!==0&&Bh(t,Ps,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ga(t.elementType),t.type=e,typeof e=="function")Fl(e)?(r=Sa(e,r),t.tag=1,t=ef(null,t,e,r,a)):(t.tag=0,t=$o(null,t,e,r,a));else{if(e!=null){var o=e.$$typeof;if(o===F){t.tag=11,t=Kd(null,t,e,r,a);break e}else if(o===K){t.tag=14,t=Yd(null,t,e,r,a);break e}}throw t=Ve(e)||e,Error(l(306,t,""))}}return t;case 0:return $o(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,o=Sa(r,t.pendingProps),ef(e,t,r,o,a);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(l(387));r=t.pendingProps;var c=t.memoizedState;o=c.element,mo(e,t),Ws(t,r,null,a);var m=t.memoizedState;if(r=m.cache,zn(t,Ze,r),r!==c.cache&&lo(t,[Ze],a,!0),Fs(),r=m.element,c.isDehydrated)if(c={element:r,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=tf(e,t,r,a);break e}else if(r!==o){o=Gt(Error(l(424)),t),Qs(o),t=tf(e,t,r,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Kt(e.firstChild),ot=t,Se=!0,Mn=null,Pt=!0,a=Xh(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ma(),r===o){t=gn(e,t,a);break e}ut(e,t,r,a)}t=t.child}return t;case 26:return Cr(e,t),e===null?(a=ym(t.type,null,t.pendingProps,null))?t.memoizedState=a:Se||(a=t.type,e=t.pendingProps,r=Pr(pe.current).createElement(a),r[lt]=t,r[yt]=e,ht(r,a,e),it(r),t.stateNode=r):t.memoizedState=ym(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Lt(t),e===null&&Se&&(r=t.stateNode=mm(t.type,t.pendingProps,pe.current),ot=t,Pt=!0,o=He,Jn(t.type)?(Ac=o,He=Kt(r.firstChild)):He=o),ut(e,t,t.pendingProps.children,a),Cr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((o=r=He)&&(r=jg(r,t.type,t.pendingProps,Pt),r!==null?(t.stateNode=r,ot=t,He=Kt(r.firstChild),Pt=!1,o=!0):o=!1),o||Un(t)),Lt(t),o=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,r=c.children,Sc(o,c)?r=null:m!==null&&Sc(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=wo(e,t,qy,null,null,a),_i._currentValue=o),Cr(e,t),ut(e,t,r,a),t.child;case 6:return e===null&&Se&&((e=a=He)&&(a=Eg(a,t.pendingProps,Pt),a!==null?(t.stateNode=a,ot=t,He=null,e=!0):e=!1),e||Un(t)),null;case 13:return nf(e,t,a);case 4:return xe(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ba(t,null,r,a):ut(e,t,r,a),t.child;case 11:return Kd(e,t,t.type,t.pendingProps,a);case 7:return ut(e,t,t.pendingProps,a),t.child;case 8:return ut(e,t,t.pendingProps.children,a),t.child;case 12:return ut(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,zn(t,t.type,r.value),ut(e,t,r.children,a),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,va(t),o=ct(o),r=r(o),t.flags|=1,ut(e,t,r,a),t.child;case 14:return Yd(e,t,t.type,t.pendingProps,a);case 15:return Jd(e,t,t.type,t.pendingProps,a);case 19:return sf(e,t,a);case 31:return Yy(e,t,a);case 22:return Xd(e,t,a,t.pendingProps);case 24:return va(t),r=ct(Ze),e===null?(o=uo(),o===null&&(o=Be,c=oo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:r,cache:o},fo(t),zn(t,Ze,o)):((e.lanes&a)!==0&&(mo(e,t),Ws(t,null,null,a),Fs()),o=e.memoizedState,c=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),zn(t,Ze,r)):(r=c.cache,zn(t,Ze,r),r!==o.cache&&lo(t,[Ze],a,!0))),ut(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function _n(e){e.flags|=4}function Jo(e,t,a,r,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Df())e.flags|=8192;else throw _a=fr,ho}else e.flags&=-16777217}function lf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sm(t))if(Df())e.flags|=8192;else throw _a=fr,ho}function Rr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Hu():536870912,e.lanes|=t,cs|=t)}function ii(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags&65011712,r|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function Xy(e,t,a){var r=t.pendingProps;switch(no(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),pn(Ze),De(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xa(t)?_n(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,so())),qe(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(_n(t),c!==null?(qe(t),lf(t,c)):(qe(t),Jo(t,o,null,r,a))):c?c!==e.memoizedState?(_n(t),qe(t),lf(t,c)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&_n(t),qe(t),Jo(t,o,e,r,a)),null;case 27:if(ia(t),a=pe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&_n(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return qe(t),null}e=J.current,Xa(t)?Hh(t):(e=mm(o,r,a),t.stateNode=e,_n(t))}return qe(t),null;case 5:if(ia(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&_n(t);else{if(!r){if(t.stateNode===null)throw Error(l(166));return qe(t),null}if(c=J.current,Xa(t))Hh(t);else{var m=Pr(pe.current);switch(c){case 1:c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=m.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof r.is=="string"?m.createElement("select",{is:r.is}):m.createElement("select"),r.multiple?c.multiple=!0:r.size&&(c.size=r.size);break;default:c=typeof r.is=="string"?m.createElement(o,{is:r.is}):m.createElement(o)}}c[lt]=t,c[yt]=r;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=c;e:switch(ht(c,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&_n(t)}}return qe(t),Jo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&_n(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(l(166));if(e=pe.current,Xa(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,o=ot,o!==null)switch(o.tag){case 27:case 5:r=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||am(e.nodeValue,a)),e||Un(t,!0)}else e=Pr(e).createTextNode(r),e[lt]=t,t.stateNode=e}return qe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(r=Xa(t),a!==null){if(e===null){if(!r)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[lt]=t}else ma(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else a=so(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Nt(t),t):(Nt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return qe(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Xa(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[lt]=t}else ma(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),o=!1}else o=so(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Nt(t),t):(Nt(t),null)}return Nt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=r!==null,e=e!==null&&e.memoizedState!==null,a&&(r=t.child,o=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(o=r.alternate.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Rr(t,t.updateQueue),qe(t),null);case 4:return De(),e===null&&yc(t.stateNode.containerInfo),qe(t),null;case 10:return pn(t.type),qe(t),null;case 19:if(L(Ye),r=t.memoizedState,r===null)return qe(t),null;if(o=(t.flags&128)!==0,c=r.rendering,c===null)if(o)ii(r,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=yr(e),c!==null){for(t.flags|=128,ii(r,!1),e=c.updateQueue,t.updateQueue=e,Rr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Mh(a,e),a=a.sibling;return Q(Ye,Ye.current&1|2),Se&&fn(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&jt()>Ur&&(t.flags|=128,o=!0,ii(r,!1),t.lanes=4194304)}else{if(!o)if(e=yr(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Rr(t,e),ii(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!Se)return qe(t),null}else 2*jt()-r.renderingStartTime>Ur&&a!==536870912&&(t.flags|=128,o=!0,ii(r,!1),t.lanes=4194304);r.isBackwards?(c.sibling=t.child,t.child=c):(e=r.last,e!==null?e.sibling=c:t.child=c,r.last=c)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=jt(),e.sibling=null,a=Ye.current,Q(Ye,o?a&1|2:a&1),Se&&fn(t,r.treeForkCount),e):(qe(t),null);case 22:case 23:return Nt(t),go(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),a=t.updateQueue,a!==null&&Rr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&L(ya),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),pn(Ze),qe(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Zy(e,t){switch(no(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pn(Ze),De(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ia(t),null;case 31:if(t.memoizedState!==null){if(Nt(t),t.alternate===null)throw Error(l(340));ma()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Nt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ma()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Ye),null;case 4:return De(),null;case 10:return pn(t.type),null;case 22:case 23:return Nt(t),go(),e!==null&&L(ya),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return pn(Ze),null;case 25:return null;default:return null}}function of(e,t){switch(no(t),t.tag){case 3:pn(Ze),De();break;case 26:case 27:case 5:ia(t);break;case 4:De();break;case 31:t.memoizedState!==null&&Nt(t);break;case 13:Nt(t);break;case 19:L(Ye);break;case 10:pn(t.type);break;case 22:case 23:Nt(t),go(),e!==null&&L(ya);break;case 24:pn(Ze)}}function ri(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var o=r.next;a=o;do{if((a.tag&e)===e){r=void 0;var c=a.create,m=a.inst;r=c(),m.destroy=r}a=a.next}while(a!==o)}}catch(g){ke(t,t.return,g)}}function Gn(e,t,a){try{var r=t.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){var m=r.inst,g=m.destroy;if(g!==void 0){m.destroy=void 0,o=t;var S=a,R=g;try{R()}catch(z){ke(o,S,z)}}}r=r.next}while(r!==c)}}catch(z){ke(t,t.return,z)}}function cf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Fh(t,a)}catch(r){ke(e,e.return,r)}}}function uf(e,t,a){a.props=Sa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){ke(e,t,r)}}function li(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(o){ke(e,t,o)}}function rn(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(o){ke(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){ke(e,t,o)}else a.current=null}function hf(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(o){ke(e,e.return,o)}}function Xo(e,t,a){try{var r=e.stateNode;_g(r,e.type,a,t),r[yt]=t}catch(o){ke(e,e.return,o)}}function df(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function Zo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=un));else if(r!==4&&(r===27&&Jn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Fo(e,t,a),e=e.sibling;e!==null;)Fo(e,t,a),e=e.sibling}function Nr(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&Jn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Nr(e,t,a),e=e.sibling;e!==null;)Nr(e,t,a),e=e.sibling}function ff(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ht(t,r,a),t[lt]=e,t[yt]=a}catch(c){ke(e,e.return,c)}}var bn=!1,et=!1,Wo=!1,mf=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Fy(e,t){if(e=e.containerInfo,bc=Fr,e=jh(e),Pl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var o=r.anchorOffset,c=r.focusNode;r=r.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var m=0,g=-1,S=-1,R=0,z=0,H=e,N=null;t:for(;;){for(var M;H!==a||o!==0&&H.nodeType!==3||(g=m+o),H!==c||r!==0&&H.nodeType!==3||(S=m+r),H.nodeType===3&&(m+=H.nodeValue.length),(M=H.firstChild)!==null;)N=H,H=M;for(;;){if(H===e)break t;if(N===a&&++R===o&&(g=m),N===c&&++z===r&&(S=m),(M=H.nextSibling)!==null)break;H=N,N=H.parentNode}H=M}a=g===-1||S===-1?null:{start:g,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(wc={focusedElem:e,selectionRange:a},Fr=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,r=a.stateNode;try{var Y=Sa(a.type,o);e=r.getSnapshotBeforeUpdate(Y,c),r.__reactInternalSnapshotBeforeUpdate=e}catch(ie){ke(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Tc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function pf(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:Sn(e,a),r&4&&ri(5,a);break;case 1:if(Sn(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){ke(a,a.return,m)}else{var o=Sa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){ke(a,a.return,m)}}r&64&&cf(a),r&512&&li(a,a.return);break;case 3:if(Sn(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Fh(e,t)}catch(m){ke(a,a.return,m)}}break;case 27:t===null&&r&4&&ff(a);case 26:case 5:Sn(e,a),t===null&&r&4&&hf(a),r&512&&li(a,a.return);break;case 12:Sn(e,a);break;case 31:Sn(e,a),r&4&&gf(e,a);break;case 13:Sn(e,a),r&4&&_f(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=lg.bind(null,a),Ag(e,a))));break;case 22:if(r=a.memoizedState!==null||bn,!r){t=t!==null&&t.memoizedState!==null||et,o=bn;var c=et;bn=r,(et=t)&&!c?xn(e,a,(a.subtreeFlags&8772)!==0):Sn(e,a),bn=o,et=c}break;case 30:break;default:Sn(e,a)}}function vf(e){var t=e.alternate;t!==null&&(e.alternate=null,vf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Cl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,_t=!1;function wn(e,t,a){for(a=a.child;a!==null;)yf(e,t,a),a=a.sibling}function yf(e,t,a){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Ns,a)}catch{}switch(a.tag){case 26:et||rn(a,t),wn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:et||rn(a,t);var r=$e,o=_t;Jn(a.type)&&($e=a.stateNode,_t=!1),wn(e,t,a),vi(a.stateNode),$e=r,_t=o;break;case 5:et||rn(a,t);case 6:if(r=$e,o=_t,$e=null,wn(e,t,a),$e=r,_t=o,$e!==null)if(_t)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(c){ke(a,t,c)}else try{$e.removeChild(a.stateNode)}catch(c){ke(a,t,c)}break;case 18:$e!==null&&(_t?(e=$e,cm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ys(e)):cm($e,a.stateNode));break;case 4:r=$e,o=_t,$e=a.stateNode.containerInfo,_t=!0,wn(e,t,a),$e=r,_t=o;break;case 0:case 11:case 14:case 15:Gn(2,a,t),et||Gn(4,a,t),wn(e,t,a);break;case 1:et||(rn(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&uf(a,t,r)),wn(e,t,a);break;case 21:wn(e,t,a);break;case 22:et=(r=et)||a.memoizedState!==null,wn(e,t,a),et=r;break;default:wn(e,t,a)}}function gf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ys(e)}catch(a){ke(t,t.return,a)}}}function _f(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ys(e)}catch(a){ke(t,t.return,a)}}function Wy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new mf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new mf),t;default:throw Error(l(435,e.tag))}}function kr(e,t){var a=Wy(e);t.forEach(function(r){if(!a.has(r)){a.add(r);var o=og.bind(null,e,r);r.then(o,o)}})}function bt(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var o=a[r],c=e,m=t,g=m;e:for(;g!==null;){switch(g.tag){case 27:if(Jn(g.type)){$e=g.stateNode,_t=!1;break e}break;case 5:$e=g.stateNode,_t=!1;break e;case 3:case 4:$e=g.stateNode.containerInfo,_t=!0;break e}g=g.return}if($e===null)throw Error(l(160));yf(c,m,o),$e=null,_t=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bf(t,e),t=t.sibling}var Ft=null;function bf(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),wt(e),r&4&&(Gn(3,e,e.return),ri(3,e),Gn(5,e,e.return));break;case 1:bt(t,e),wt(e),r&512&&(et||a===null||rn(a,a.return)),r&64&&bn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var o=Ft;if(bt(t,e),wt(e),r&512&&(et||a===null||rn(a,a.return)),r&4){var c=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Ms]||c[lt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(r),o.head.insertBefore(c,o.querySelector("head > title"))),ht(c,r,a),c[lt]=e,it(c),r=c;break e;case"link":var m=bm("link","href",o).get(r+(a.href||""));if(m){for(var g=0;g<m.length;g++)if(c=m[g],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(g,1);break t}}c=o.createElement(r),ht(c,r,a),o.head.appendChild(c);break;case"meta":if(m=bm("meta","content",o).get(r+(a.content||""))){for(g=0;g<m.length;g++)if(c=m[g],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(g,1);break t}}c=o.createElement(r),ht(c,r,a),o.head.appendChild(c);break;default:throw Error(l(468,r))}c[lt]=e,it(c),r=c}e.stateNode=r}else wm(o,e.type,e.stateNode);else e.stateNode=_m(o,r,e.memoizedProps);else c!==r?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,r===null?wm(o,e.type,e.stateNode):_m(o,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Xo(e,e.memoizedProps,a.memoizedProps)}break;case 27:bt(t,e),wt(e),r&512&&(et||a===null||rn(a,a.return)),a!==null&&r&4&&Xo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(bt(t,e),wt(e),r&512&&(et||a===null||rn(a,a.return)),e.flags&32){o=e.stateNode;try{qa(o,"")}catch(Y){ke(e,e.return,Y)}}r&4&&e.stateNode!=null&&(o=e.memoizedProps,Xo(e,o,a!==null?a.memoizedProps:o)),r&1024&&(Wo=!0);break;case 6:if(bt(t,e),wt(e),r&4){if(e.stateNode===null)throw Error(l(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(Y){ke(e,e.return,Y)}}break;case 3:if(Yr=null,o=Ft,Ft=Qr(t.containerInfo),bt(t,e),Ft=o,wt(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{ys(t.containerInfo)}catch(Y){ke(e,e.return,Y)}Wo&&(Wo=!1,wf(e));break;case 4:r=Ft,Ft=Qr(e.stateNode.containerInfo),bt(t,e),wt(e),Ft=r;break;case 12:bt(t,e),wt(e);break;case 31:bt(t,e),wt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,kr(e,r)));break;case 13:bt(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mr=jt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,kr(e,r)));break;case 22:o=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,R=bn,z=et;if(bn=R||o,et=z||S,bt(t,e),et=z,bn=R,wt(e),r&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||S||bn||et||xa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(c=S.stateNode,o)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{g=S.stateNode;var H=S.memoizedProps.style,N=H!=null&&H.hasOwnProperty("display")?H.display:null;g.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(Y){ke(S,S.return,Y)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(Y){ke(S,S.return,Y)}}}else if(t.tag===18){if(a===null){S=t;try{var M=S.stateNode;o?um(M,!0):um(S.stateNode,!1)}catch(Y){ke(S,S.return,Y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,kr(e,a))));break;case 19:bt(t,e),wt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,kr(e,r)));break;case 30:break;case 21:break;default:bt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(df(r)){a=r;break}r=r.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,c=Zo(e);Nr(e,c,o);break;case 5:var m=a.stateNode;a.flags&32&&(qa(m,""),a.flags&=-33);var g=Zo(e);Nr(e,g,m);break;case 3:case 4:var S=a.stateNode.containerInfo,R=Zo(e);Fo(e,R,S);break;default:throw Error(l(161))}}catch(z){ke(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)pf(e,t.alternate,t),t=t.sibling}function xa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gn(4,t,t.return),xa(t);break;case 1:rn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&uf(t,t.return,a),xa(t);break;case 27:vi(t.stateNode);case 26:case 5:rn(t,t.return),xa(t);break;case 22:t.memoizedState===null&&xa(t);break;case 30:xa(t);break;default:xa(t)}e=e.sibling}}function xn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,o=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:xn(o,c,a),ri(4,c);break;case 1:if(xn(o,c,a),r=c,o=r.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){ke(r,r.return,R)}if(r=c,o=r.updateQueue,o!==null){var g=r.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)Zh(S[o],g)}catch(R){ke(r,r.return,R)}}a&&m&64&&cf(c),li(c,c.return);break;case 27:ff(c);case 26:case 5:xn(o,c,a),a&&r===null&&m&4&&hf(c),li(c,c.return);break;case 12:xn(o,c,a);break;case 31:xn(o,c,a),a&&m&4&&gf(o,c);break;case 13:xn(o,c,a),a&&m&4&&_f(o,c);break;case 22:c.memoizedState===null&&xn(o,c,a),li(c,c.return);break;case 30:break;default:xn(o,c,a)}t=t.sibling}}function ec(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ks(a))}function tc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ks(e))}function Wt(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sf(e,t,a,r),t=t.sibling}function Sf(e,t,a,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,a,r),o&2048&&ri(9,t);break;case 1:Wt(e,t,a,r);break;case 3:Wt(e,t,a,r),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ks(e)));break;case 12:if(o&2048){Wt(e,t,a,r),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,g=c.onPostCommit;typeof g=="function"&&g(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ke(t,t.return,S)}}else Wt(e,t,a,r);break;case 31:Wt(e,t,a,r);break;case 13:Wt(e,t,a,r);break;case 23:break;case 22:c=t.stateNode,m=t.alternate,t.memoizedState!==null?c._visibility&2?Wt(e,t,a,r):oi(e,t):c._visibility&2?Wt(e,t,a,r):(c._visibility|=2,rs(e,t,a,r,(t.subtreeFlags&10256)!==0||!1)),o&2048&&ec(m,t);break;case 24:Wt(e,t,a,r),o&2048&&tc(t.alternate,t);break;default:Wt(e,t,a,r)}}function rs(e,t,a,r,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,m=t,g=a,S=r,R=m.flags;switch(m.tag){case 0:case 11:case 15:rs(c,m,g,S,o),ri(8,m);break;case 23:break;case 22:var z=m.stateNode;m.memoizedState!==null?z._visibility&2?rs(c,m,g,S,o):oi(c,m):(z._visibility|=2,rs(c,m,g,S,o)),o&&R&2048&&ec(m.alternate,m);break;case 24:rs(c,m,g,S,o),o&&R&2048&&tc(m.alternate,m);break;default:rs(c,m,g,S,o)}t=t.sibling}}function oi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,o=r.flags;switch(r.tag){case 22:oi(a,r),o&2048&&ec(r.alternate,r);break;case 24:oi(a,r),o&2048&&tc(r.alternate,r);break;default:oi(a,r)}t=t.sibling}}var ci=8192;function ls(e,t,a){if(e.subtreeFlags&ci)for(e=e.child;e!==null;)xf(e,t,a),e=e.sibling}function xf(e,t,a){switch(e.tag){case 26:ls(e,t,a),e.flags&ci&&e.memoizedState!==null&&Hg(a,Ft,e.memoizedState,e.memoizedProps);break;case 5:ls(e,t,a);break;case 3:case 4:var r=Ft;Ft=Qr(e.stateNode.containerInfo),ls(e,t,a),Ft=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=ci,ci=16777216,ls(e,t,a),ci=r):ls(e,t,a));break;default:ls(e,t,a)}}function Tf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];rt=r,Ef(r,e)}Tf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jf(e),e=e.sibling}function jf(e){switch(e.tag){case 0:case 11:case 15:ui(e),e.flags&2048&&Gn(9,e,e.return);break;case 3:ui(e);break;case 12:ui(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Dr(e)):ui(e);break;default:ui(e)}}function Dr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];rt=r,Ef(r,e)}Tf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gn(8,t,t.return),Dr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Dr(t));break;default:Dr(t)}e=e.sibling}}function Ef(e,t){for(;rt!==null;){var a=rt;switch(a.tag){case 0:case 11:case 15:Gn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ks(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,rt=r;else e:for(a=e;rt!==null;){r=rt;var o=r.sibling,c=r.return;if(vf(r),r===a){rt=null;break e}if(o!==null){o.return=c,rt=o;break e}rt=c}}}var eg={getCacheForType:function(e){var t=ct(Ze),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ct(Ze).controller.signal}},tg=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Be=null,ge=null,be=0,Ne=0,kt=null,In=!1,os=!1,nc=!1,Tn=0,Qe=0,Vn=0,Ta=0,ac=0,Dt=0,cs=0,hi=null,St=null,sc=!1,Mr=0,Af=0,Ur=1/0,zr=null,Pn=null,at=0,Qn=null,us=null,jn=0,ic=0,rc=null,Cf=null,di=0,lc=null;function Mt(){return(Oe&2)!==0&&be!==0?be&-be:U.T!==null?fc():Iu()}function Of(){if(Dt===0)if((be&536870912)===0||Se){var e=Vi;Vi<<=1,(Vi&3932160)===0&&(Vi=262144),Dt=e}else Dt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Dt}function xt(e,t,a){(e===Be&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(hs(e,0),Kn(e,be,Dt,!1)),Ds(e,a),((Oe&2)===0||e!==Be)&&(e===Be&&((Oe&2)===0&&(Ta|=a),Qe===4&&Kn(e,be,Dt,!1)),ln(e))}function Rf(e,t,a){if((Oe&6)!==0)throw Error(l(327));var r=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ks(e,t),o=r?sg(e,t):cc(e,t,!0),c=r;do{if(o===0){os&&!r&&Kn(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!ng(a)){o=cc(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var g=e;o=hi;var S=g.current.memoizedState.isDehydrated;if(S&&(hs(g,m).flags|=256),m=cc(g,m,!1),m!==2){if(nc&&!S){g.errorRecoveryDisabledLanes|=c,Ta|=c,o=4;break e}c=St,St=o,c!==null&&(St===null?St=c:St.push.apply(St,c))}o=m}if(c=!1,o!==2)continue}}if(o===1){hs(e,0),Kn(e,t,0,!0);break}e:{switch(r=e,c=o,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Kn(r,t,Dt,!In);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Mr+300-jt(),10<o)){if(Kn(r,t,Dt,!In),Qi(r,0,!0)!==0)break e;jn=t,r.timeoutHandle=lm(Nf.bind(null,r,a,St,zr,sc,t,Dt,Ta,cs,In,c,"Throttled",-0,0),o);break e}Nf(r,a,St,zr,sc,t,Dt,Ta,cs,In,c,null,-0,0)}}break}while(!0);ln(e)}function Nf(e,t,a,r,o,c,m,g,S,R,z,H,N,M){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},xf(t,c,H);var Y=(c&62914560)===c?Mr-jt():(c&4194048)===c?Af-jt():0;if(Y=qg(H,Y),Y!==null){jn=c,e.cancelPendingCommit=Y(Hf.bind(null,e,t,c,a,r,o,m,g,S,z,H,null,N,M)),Kn(e,c,m,!R);return}}Hf(e,t,c,a,r,o,m,g,S)}function ng(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var o=a[r],c=o.getSnapshot;o=o.value;try{if(!Ct(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kn(e,t,a,r){t&=~ac,t&=~Ta,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var c=31-At(o),m=1<<c;r[c]=-1,o&=~m}a!==0&&qu(e,a,t)}function Br(){return(Oe&6)===0?(fi(0),!1):!0}function oc(){if(ge!==null){if(Ne===0)var e=ge.return;else e=ge,mn=pa=null,To(e),ts=null,Js=0,e=ge;for(;e!==null;)of(e.alternate,e),e=e.return;ge=null}}function hs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Sg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),jn=0,oc(),Be=e,ge=a=dn(e.current,null),be=t,Ne=0,kt=null,In=!1,os=ks(e,t),nc=!1,cs=Dt=ac=Ta=Vn=Qe=0,St=hi=null,sc=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var o=31-At(r),c=1<<o;t|=e[o],r&=~c}return Tn=t,sr(),a}function kf(e,t){he=null,U.H=ai,t===es||t===dr?(t=Kh(),Ne=3):t===ho?(t=Kh(),Ne=4):Ne=t===qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,ge===null&&(Qe=1,Er(e,Gt(t,e.current)))}function Df(){var e=Rt.current;return e===null?!0:(be&4194048)===be?Qt===null:(be&62914560)===be||(be&536870912)!==0?e===Qt:!1}function Mf(){var e=U.H;return U.H=ai,e===null?ai:e}function Uf(){var e=U.A;return U.A=eg,e}function Lr(){Qe=4,In||(be&4194048)!==be&&Rt.current!==null||(os=!0),(Vn&134217727)===0&&(Ta&134217727)===0||Be===null||Kn(Be,be,Dt,!1)}function cc(e,t,a){var r=Oe;Oe|=2;var o=Mf(),c=Uf();(Be!==e||be!==t)&&(zr=null,hs(e,t)),t=!1;var m=Qe;e:do try{if(Ne!==0&&ge!==null){var g=ge,S=kt;switch(Ne){case 8:oc(),m=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var R=Ne;if(Ne=0,kt=null,ds(e,g,S,R),a&&os){m=0;break e}break;default:R=Ne,Ne=0,kt=null,ds(e,g,S,R)}}ag(),m=Qe;break}catch(z){kf(e,z)}while(!0);return t&&e.shellSuspendCounter++,mn=pa=null,Oe=r,U.H=o,U.A=c,ge===null&&(Be=null,be=0,sr()),m}function ag(){for(;ge!==null;)zf(ge)}function sg(e,t){var a=Oe;Oe|=2;var r=Mf(),o=Uf();Be!==e||be!==t?(zr=null,Ur=jt()+500,hs(e,t)):os=ks(e,t);e:do try{if(Ne!==0&&ge!==null){t=ge;var c=kt;t:switch(Ne){case 1:Ne=0,kt=null,ds(e,t,c,1);break;case 2:case 9:if(Ph(c)){Ne=0,kt=null,Bf(t);break}t=function(){Ne!==2&&Ne!==9||Be!==e||(Ne=7),ln(e)},c.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Ph(c)?(Ne=0,kt=null,Bf(t)):(Ne=0,kt=null,ds(e,t,c,7));break;case 5:var m=null;switch(ge.tag){case 26:m=ge.memoizedState;case 5:case 27:var g=ge;if(m?Sm(m):g.stateNode.complete){Ne=0,kt=null;var S=g.sibling;if(S!==null)ge=S;else{var R=g.return;R!==null?(ge=R,Hr(R)):ge=null}break t}}Ne=0,kt=null,ds(e,t,c,5);break;case 6:Ne=0,kt=null,ds(e,t,c,6);break;case 8:oc(),Qe=6;break e;default:throw Error(l(462))}}ig();break}catch(z){kf(e,z)}while(!0);return mn=pa=null,U.H=r,U.A=o,Oe=a,ge!==null?0:(Be=null,be=0,sr(),Qe)}function ig(){for(;ge!==null&&!Cv();)zf(ge)}function zf(e){var t=rf(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?Hr(e):ge=t}function Bf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wd(a,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Wd(a,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:To(t);default:of(a,t),t=ge=Mh(t,Tn),t=rf(a,t,Tn)}e.memoizedProps=e.pendingProps,t===null?Hr(e):ge=t}function ds(e,t,a,r){mn=pa=null,To(t),ts=null,Js=0;var o=t.return;try{if(Ky(e,o,t,a,be)){Qe=1,Er(e,Gt(a,e.current)),ge=null;return}}catch(c){if(o!==null)throw ge=o,c;Qe=1,Er(e,Gt(a,e.current)),ge=null;return}t.flags&32768?(Se||r===1?e=!0:os||(be&536870912)!==0?e=!1:(In=e=!0,(r===2||r===9||r===3||r===6)&&(r=Rt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Lf(t,e)):Hr(t)}function Hr(e){var t=e;do{if((t.flags&32768)!==0){Lf(t,In);return}e=t.return;var a=Xy(t.alternate,t,Tn);if(a!==null){ge=a;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Qe===0&&(Qe=5)}function Lf(e,t){do{var a=Zy(e.alternate,e);if(a!==null){a.flags&=32767,ge=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=a}while(e!==null);Qe=6,ge=null}function Hf(e,t,a,r,o,c,m,g,S){e.cancelPendingCommit=null;do qr();while(at!==0);if((Oe&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=Xl,Lv(e,a,c,m,g,S),e===Be&&(ge=Be=null,be=0),us=t,Qn=e,jn=a,ic=c,rc=o,Cf=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cg(Gi,function(){return Vf(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=U.T,U.T=null,o=P.p,P.p=2,m=Oe,Oe|=4;try{Fy(e,t,a)}finally{Oe=m,P.p=o,U.T=r}}at=1,qf(),$f(),Gf()}}function qf(){if(at===1){at=0;var e=Qn,t=us,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var r=P.p;P.p=2;var o=Oe;Oe|=4;try{bf(t,e);var c=wc,m=jh(e.containerInfo),g=c.focusedElem,S=c.selectionRange;if(m!==g&&g&&g.ownerDocument&&Th(g.ownerDocument.documentElement,g)){if(S!==null&&Pl(g)){var R=S.start,z=S.end;if(z===void 0&&(z=R),"selectionStart"in g)g.selectionStart=R,g.selectionEnd=Math.min(z,g.value.length);else{var H=g.ownerDocument||document,N=H&&H.defaultView||window;if(N.getSelection){var M=N.getSelection(),Y=g.textContent.length,ie=Math.min(S.start,Y),ze=S.end===void 0?ie:Math.min(S.end,Y);!M.extend&&ie>ze&&(m=ze,ze=ie,ie=m);var E=xh(g,ie),T=xh(g,ze);if(E&&T&&(M.rangeCount!==1||M.anchorNode!==E.node||M.anchorOffset!==E.offset||M.focusNode!==T.node||M.focusOffset!==T.offset)){var A=H.createRange();A.setStart(E.node,E.offset),M.removeAllRanges(),ie>ze?(M.addRange(A),M.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),M.addRange(A))}}}}for(H=[],M=g;M=M.parentNode;)M.nodeType===1&&H.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<H.length;g++){var B=H[g];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Fr=!!bc,wc=bc=null}finally{Oe=o,P.p=r,U.T=a}}e.current=t,at=2}}function $f(){if(at===2){at=0;var e=Qn,t=us,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var r=P.p;P.p=2;var o=Oe;Oe|=4;try{pf(e,t.alternate,t)}finally{Oe=o,P.p=r,U.T=a}}at=3}}function Gf(){if(at===4||at===3){at=0,Ov();var e=Qn,t=us,a=jn,r=Cf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,us=Qn=null,If(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Pn=null),El(a),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Ns,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=U.T,o=P.p,P.p=2,U.T=null;try{for(var c=e.onRecoverableError,m=0;m<r.length;m++){var g=r[m];c(g.value,{componentStack:g.stack})}}finally{U.T=t,P.p=o}}(jn&3)!==0&&qr(),ln(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===lc?di++:(di=0,lc=e):di=0,fi(0)}}function If(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ks(t)))}function qr(){return qf(),$f(),Gf(),Vf()}function Vf(){if(at!==5)return!1;var e=Qn,t=ic;ic=0;var a=El(jn),r=U.T,o=P.p;try{P.p=32>a?32:a,U.T=null,a=rc,rc=null;var c=Qn,m=jn;if(at=0,us=Qn=null,jn=0,(Oe&6)!==0)throw Error(l(331));var g=Oe;if(Oe|=4,jf(c.current),Sf(c,c.current,m,a),Oe=g,fi(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Ns,c)}catch{}return!0}finally{P.p=o,U.T=r,If(e,t)}}function Pf(e,t,a){t=Gt(a,t),t=Ho(e.stateNode,t,2),e=Hn(e,t,2),e!==null&&(Ds(e,2),ln(e))}function ke(e,t,a){if(e.tag===3)Pf(e,e,a);else for(;t!==null;){if(t.tag===3){Pf(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pn===null||!Pn.has(r))){e=Gt(a,e),a=Pd(2),r=Hn(t,a,2),r!==null&&(Qd(a,r,t,e),Ds(r,2),ln(r));break}}t=t.return}}function uc(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new tg;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(a)||(nc=!0,o.add(a),e=rg.bind(null,e,t,a),t.then(e,e))}function rg(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(be&a)===a&&(Qe===4||Qe===3&&(be&62914560)===be&&300>jt()-Mr?(Oe&2)===0&&hs(e,0):ac|=a,cs===be&&(cs=0)),ln(e)}function Qf(e,t){t===0&&(t=Hu()),e=da(e,t),e!==null&&(Ds(e,t),ln(e))}function lg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Qf(e,a)}function og(e,t){var a=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(l(314))}r!==null&&r.delete(t),Qf(e,a)}function cg(e,t){return Sl(e,t)}var $r=null,fs=null,hc=!1,Gr=!1,dc=!1,Yn=0;function ln(e){e!==fs&&e.next===null&&(fs===null?$r=fs=e:fs=fs.next=e),Gr=!0,hc||(hc=!0,hg())}function fi(e,t){if(!dc&&Gr){dc=!0;do for(var a=!1,r=$r;r!==null;){if(e!==0){var o=r.pendingLanes;if(o===0)var c=0;else{var m=r.suspendedLanes,g=r.pingedLanes;c=(1<<31-At(42|e)+1)-1,c&=o&~(m&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Xf(r,c))}else c=be,c=Qi(r,r===Be?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(c&3)===0||ks(r,c)||(a=!0,Xf(r,c));r=r.next}while(a);dc=!1}}function ug(){Kf()}function Kf(){Gr=hc=!1;var e=0;Yn!==0&&wg()&&(e=Yn);for(var t=jt(),a=null,r=$r;r!==null;){var o=r.next,c=Yf(r,t);c===0?(r.next=null,a===null?$r=o:a.next=o,o===null&&(fs=a)):(a=r,(e!==0||(c&3)!==0)&&(Gr=!0)),r=o}at!==0&&at!==5||fi(e),Yn!==0&&(Yn=0)}function Yf(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-At(c),g=1<<m,S=o[m];S===-1?((g&a)===0||(g&r)!==0)&&(o[m]=Bv(g,t)):S<=t&&(e.expiredLanes|=g),c&=~g}if(t=Be,a=be,a=Qi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&xl(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ks(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&xl(r),El(a)){case 2:case 8:a=Bu;break;case 32:a=Gi;break;case 268435456:a=Lu;break;default:a=Gi}return r=Jf.bind(null,e),a=Sl(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&xl(r),e.callbackPriority=2,e.callbackNode=null,2}function Jf(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(qr()&&e.callbackNode!==a)return null;var r=be;return r=Qi(e,e===Be?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Rf(e,r,t),Yf(e,jt()),e.callbackNode!=null&&e.callbackNode===a?Jf.bind(null,e):null)}function Xf(e,t){if(qr())return null;Rf(e,t,!0)}function hg(){xg(function(){(Oe&6)!==0?Sl(zu,ug):Kf()})}function fc(){if(Yn===0){var e=Fa;e===0&&(e=Ii,Ii<<=1,(Ii&261888)===0&&(Ii=256)),Yn=e}return Yn}function Zf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xi(""+e)}function Ff(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function dg(e,t,a,r,o){if(t==="submit"&&a&&a.stateNode===o){var c=Zf((o[yt]||null).action),m=r.submitter;m&&(t=(t=m[yt]||null)?Zf(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var g=new er("action","action",null,r,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Yn!==0){var S=m?Ff(o,m):new FormData(o);Do(a,{pending:!0,data:S,method:o.method,action:c},null,S)}}else typeof c=="function"&&(g.preventDefault(),S=m?Ff(o,m):new FormData(o),Do(a,{pending:!0,data:S,method:o.method,action:c},c,S))},currentTarget:o}]})}}for(var mc=0;mc<Jl.length;mc++){var pc=Jl[mc],fg=pc.toLowerCase(),mg=pc[0].toUpperCase()+pc.slice(1);Zt(fg,"on"+mg)}Zt(Ch,"onAnimationEnd"),Zt(Oh,"onAnimationIteration"),Zt(Rh,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(Ry,"onTransitionRun"),Zt(Ny,"onTransitionStart"),Zt(ky,"onTransitionCancel"),Zt(Nh,"onTransitionEnd"),La("onMouseEnter",["mouseout","mouseover"]),La("onMouseLeave",["mouseout","mouseover"]),La("onPointerEnter",["pointerout","pointerover"]),La("onPointerLeave",["pointerout","pointerover"]),oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oa("onBeforeInput",["compositionend","keypress","textInput","paste"]),oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mi));function Wf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],o=r.event;r=r.listeners;e:{var c=void 0;if(t)for(var m=r.length-1;0<=m;m--){var g=r[m],S=g.instance,R=g.currentTarget;if(g=g.listener,S!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=R;try{c(o)}catch(z){ar(z)}o.currentTarget=null,c=S}else for(m=0;m<r.length;m++){if(g=r[m],S=g.instance,R=g.currentTarget,g=g.listener,S!==c&&o.isPropagationStopped())break e;c=g,o.currentTarget=R;try{c(o)}catch(z){ar(z)}o.currentTarget=null,c=S}}}}function _e(e,t){var a=t[Al];a===void 0&&(a=t[Al]=new Set);var r=e+"__bubble";a.has(r)||(em(t,e,2,!1),a.add(r))}function vc(e,t,a){var r=0;t&&(r|=4),em(a,e,r,t)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function yc(e){if(!e[Ir]){e[Ir]=!0,Qu.forEach(function(a){a!=="selectionchange"&&(pg.has(a)||vc(a,!1,e),vc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ir]||(t[Ir]=!0,vc("selectionchange",!1,t))}}function em(e,t,a,r){switch(Om(t)){case 2:var o=Ig;break;case 8:o=Vg;break;default:o=kc}a=o.bind(null,t,a,e),o=void 0,!zl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function gc(e,t,a,r,o){var c=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var m=r.tag;if(m===3||m===4){var g=r.stateNode.containerInfo;if(g===o)break;if(m===4)for(m=r.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;g!==null;){if(m=Ua(g),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){r=c=m;continue e}g=g.parentNode}}r=r.return}sh(function(){var R=c,z=Ml(a),H=[];e:{var N=kh.get(e);if(N!==void 0){var M=er,Y=e;switch(e){case"keypress":if(Fi(a)===0)break e;case"keydown":case"keyup":M=oy;break;case"focusin":Y="focus",M=ql;break;case"focusout":Y="blur",M=ql;break;case"beforeblur":case"afterblur":M=ql;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=Xv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=hy;break;case Ch:case Oh:case Rh:M=Wv;break;case Nh:M=fy;break;case"scroll":case"scrollend":M=Yv;break;case"wheel":M=py;break;case"copy":case"cut":case"paste":M=ty;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=ch;break;case"toggle":case"beforetoggle":M=yy}var ie=(t&4)!==0,ze=!ie&&(e==="scroll"||e==="scrollend"),E=ie?N!==null?N+"Capture":null:N;ie=[];for(var T=R,A;T!==null;){var B=T;if(A=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||A===null||E===null||(B=zs(T,E),B!=null&&ie.push(pi(T,B,A))),ze)break;T=T.return}0<ie.length&&(N=new M(N,Y,null,a,z),H.push({event:N,listeners:ie}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",N&&a!==Dl&&(Y=a.relatedTarget||a.fromElement)&&(Ua(Y)||Y[Ma]))break e;if((M||N)&&(N=z.window===z?z:(N=z.ownerDocument)?N.defaultView||N.parentWindow:window,M?(Y=a.relatedTarget||a.toElement,M=R,Y=Y?Ua(Y):null,Y!==null&&(ze=d(Y),ie=Y.tag,Y!==ze||ie!==5&&ie!==27&&ie!==6)&&(Y=null)):(M=null,Y=R),M!==Y)){if(ie=lh,B="onMouseLeave",E="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(ie=ch,B="onPointerLeave",E="onPointerEnter",T="pointer"),ze=M==null?N:Us(M),A=Y==null?N:Us(Y),N=new ie(B,T+"leave",M,a,z),N.target=ze,N.relatedTarget=A,B=null,Ua(z)===R&&(ie=new ie(E,T+"enter",Y,a,z),ie.target=A,ie.relatedTarget=ze,B=ie),ze=B,M&&Y)t:{for(ie=vg,E=M,T=Y,A=0,B=E;B;B=ie(B))A++;B=0;for(var ne=T;ne;ne=ie(ne))B++;for(;0<A-B;)E=ie(E),A--;for(;0<B-A;)T=ie(T),B--;for(;A--;){if(E===T||T!==null&&E===T.alternate){ie=E;break t}E=ie(E),T=ie(T)}ie=null}else ie=null;M!==null&&tm(H,N,M,ie,!1),Y!==null&&ze!==null&&tm(H,ze,Y,ie,!0)}}e:{if(N=R?Us(R):window,M=N.nodeName&&N.nodeName.toLowerCase(),M==="select"||M==="input"&&N.type==="file")var Ae=yh;else if(ph(N))if(gh)Ae=Ay;else{Ae=jy;var Z=Ty}else M=N.nodeName,!M||M.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?R&&kl(R.elementType)&&(Ae=yh):Ae=Ey;if(Ae&&(Ae=Ae(e,R))){vh(H,Ae,a,z);break e}Z&&Z(e,N,R),e==="focusout"&&R&&N.type==="number"&&R.memoizedProps.value!=null&&Nl(N,"number",N.value)}switch(Z=R?Us(R):window,e){case"focusin":(ph(Z)||Z.contentEditable==="true")&&(Va=Z,Ql=R,Vs=null);break;case"focusout":Vs=Ql=Va=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,Eh(H,a,z);break;case"selectionchange":if(Oy)break;case"keydown":case"keyup":Eh(H,a,z)}var fe;if(Gl)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ia?fh(e,a)&&(we="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(uh&&a.locale!=="ko"&&(Ia||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ia&&(fe=ih()):(kn=z,Bl="value"in kn?kn.value:kn.textContent,Ia=!0)),Z=Vr(R,we),0<Z.length&&(we=new oh(we,e,null,a,z),H.push({event:we,listeners:Z}),fe?we.data=fe:(fe=mh(a),fe!==null&&(we.data=fe)))),(fe=_y?by(e,a):wy(e,a))&&(we=Vr(R,"onBeforeInput"),0<we.length&&(Z=new oh("onBeforeInput","beforeinput",null,a,z),H.push({event:Z,listeners:we}),Z.data=fe)),dg(H,e,R,a,z)}Wf(H,t)})}function pi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Vr(e,t){for(var a=t+"Capture",r=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=zs(e,a),o!=null&&r.unshift(pi(e,o,c)),o=zs(e,t),o!=null&&r.push(pi(e,o,c))),e.tag===3)return r;e=e.return}return[]}function vg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tm(e,t,a,r,o){for(var c=t._reactName,m=[];a!==null&&a!==r;){var g=a,S=g.alternate,R=g.stateNode;if(g=g.tag,S!==null&&S===r)break;g!==5&&g!==26&&g!==27||R===null||(S=R,o?(R=zs(a,c),R!=null&&m.unshift(pi(a,R,S))):o||(R=zs(a,c),R!=null&&m.push(pi(a,R,S)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var yg=/\r\n?/g,gg=/\u0000|\uFFFD/g;function nm(e){return(typeof e=="string"?e:""+e).replace(yg,`
`).replace(gg,"")}function am(e,t){return t=nm(t),nm(e)===t}function Ue(e,t,a,r,o,c){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||qa(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&qa(e,""+r);break;case"className":Yi(e,"class",r);break;case"tabIndex":Yi(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(e,a,r);break;case"style":nh(e,r,c);break;case"data":if(t!=="object"){Yi(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Xi(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Ue(e,t,"name",o.name,o,null),Ue(e,t,"formEncType",o.formEncType,o,null),Ue(e,t,"formMethod",o.formMethod,o,null),Ue(e,t,"formTarget",o.formTarget,o,null)):(Ue(e,t,"encType",o.encType,o,null),Ue(e,t,"method",o.method,o,null),Ue(e,t,"target",o.target,o,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Xi(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=un);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=Xi(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Ki(e,"popover",r);break;case"xlinkActuate":cn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":cn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":cn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":cn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":cn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":cn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":cn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":cn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":cn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ki(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qv.get(a)||a,Ki(e,a,r))}}function _c(e,t,a,r,o,c){switch(a){case"style":nh(e,r,c);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(l(61));if(a=r.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof r=="string"?qa(e,r):(typeof r=="number"||typeof r=="bigint")&&qa(e,""+r);break;case"onScroll":r!=null&&_e("scroll",e);break;case"onScrollEnd":r!=null&&_e("scrollend",e);break;case"onClick":r!=null&&(e.onclick=un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ku.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[yt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof r=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,o);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):Ki(e,a,r)}}}function ht(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var r=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var m=a[c];if(m!=null)switch(c){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,c,m,a,null)}}o&&Ue(e,t,"srcSet",a.srcSet,a,null),r&&Ue(e,t,"src",a.src,a,null);return;case"input":_e("invalid",e);var g=c=m=o=null,S=null,R=null;for(r in a)if(a.hasOwnProperty(r)){var z=a[r];if(z!=null)switch(r){case"name":o=z;break;case"type":m=z;break;case"checked":S=z;break;case"defaultChecked":R=z;break;case"value":c=z;break;case"defaultValue":g=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:Ue(e,t,r,z,a,null)}}Fu(e,c,g,S,R,m,o,!1);return;case"select":_e("invalid",e),r=m=c=null;for(o in a)if(a.hasOwnProperty(o)&&(g=a[o],g!=null))switch(o){case"value":c=g;break;case"defaultValue":m=g;break;case"multiple":r=g;default:Ue(e,t,o,g,a,null)}t=c,a=m,e.multiple=!!r,t!=null?Ha(e,!!r,t,!1):a!=null&&Ha(e,!!r,a,!0);return;case"textarea":_e("invalid",e),c=o=r=null;for(m in a)if(a.hasOwnProperty(m)&&(g=a[m],g!=null))switch(m){case"value":r=g;break;case"defaultValue":o=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(l(91));break;default:Ue(e,t,m,g,a,null)}eh(e,r,o,c);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(r=a[S],r!=null))switch(S){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ue(e,t,S,r,a,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(r=0;r<mi.length;r++)_e(mi[r],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(r=a[R],r!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,R,r,a,null)}return;default:if(kl(t)){for(z in a)a.hasOwnProperty(z)&&(r=a[z],r!==void 0&&_c(e,t,z,r,a,void 0));return}}for(g in a)a.hasOwnProperty(g)&&(r=a[g],r!=null&&Ue(e,t,g,r,a,null))}function _g(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,m=null,g=null,S=null,R=null,z=null;for(M in a){var H=a[M];if(a.hasOwnProperty(M)&&H!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=H;default:r.hasOwnProperty(M)||Ue(e,t,M,null,r,H)}}for(var N in r){var M=r[N];if(H=a[N],r.hasOwnProperty(N)&&(M!=null||H!=null))switch(N){case"type":c=M;break;case"name":o=M;break;case"checked":R=M;break;case"defaultChecked":z=M;break;case"value":m=M;break;case"defaultValue":g=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,t));break;default:M!==H&&Ue(e,t,N,M,r,H)}}Rl(e,m,g,S,R,z,c,o);return;case"select":M=m=g=N=null;for(c in a)if(S=a[c],a.hasOwnProperty(c)&&S!=null)switch(c){case"value":break;case"multiple":M=S;default:r.hasOwnProperty(c)||Ue(e,t,c,null,r,S)}for(o in r)if(c=r[o],S=a[o],r.hasOwnProperty(o)&&(c!=null||S!=null))switch(o){case"value":N=c;break;case"defaultValue":g=c;break;case"multiple":m=c;default:c!==S&&Ue(e,t,o,c,r,S)}t=g,a=m,r=M,N!=null?Ha(e,!!a,N,!1):!!r!=!!a&&(t!=null?Ha(e,!!a,t,!0):Ha(e,!!a,a?[]:"",!1));return;case"textarea":M=N=null;for(g in a)if(o=a[g],a.hasOwnProperty(g)&&o!=null&&!r.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Ue(e,t,g,null,r,o)}for(m in r)if(o=r[m],c=a[m],r.hasOwnProperty(m)&&(o!=null||c!=null))switch(m){case"value":N=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==c&&Ue(e,t,m,o,r,c)}Wu(e,N,M);return;case"option":for(var Y in a)if(N=a[Y],a.hasOwnProperty(Y)&&N!=null&&!r.hasOwnProperty(Y))switch(Y){case"selected":e.selected=!1;break;default:Ue(e,t,Y,null,r,N)}for(S in r)if(N=r[S],M=a[S],r.hasOwnProperty(S)&&N!==M&&(N!=null||M!=null))switch(S){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ue(e,t,S,N,r,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)N=a[ie],a.hasOwnProperty(ie)&&N!=null&&!r.hasOwnProperty(ie)&&Ue(e,t,ie,null,r,N);for(R in r)if(N=r[R],M=a[R],r.hasOwnProperty(R)&&N!==M&&(N!=null||M!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,t));break;default:Ue(e,t,R,N,r,M)}return;default:if(kl(t)){for(var ze in a)N=a[ze],a.hasOwnProperty(ze)&&N!==void 0&&!r.hasOwnProperty(ze)&&_c(e,t,ze,void 0,r,N);for(z in r)N=r[z],M=a[z],!r.hasOwnProperty(z)||N===M||N===void 0&&M===void 0||_c(e,t,z,N,r,M);return}}for(var E in a)N=a[E],a.hasOwnProperty(E)&&N!=null&&!r.hasOwnProperty(E)&&Ue(e,t,E,null,r,N);for(H in r)N=r[H],M=a[H],!r.hasOwnProperty(H)||N===M||N==null&&M==null||Ue(e,t,H,N,r,M)}function sm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var o=a[r],c=o.transferSize,m=o.initiatorType,g=o.duration;if(c&&g&&sm(m)){for(m=0,g=o.responseEnd,r+=1;r<a.length;r++){var S=a[r],R=S.startTime;if(R>g)break;var z=S.transferSize,H=S.initiatorType;z&&sm(H)&&(S=S.responseEnd,m+=z*(S<g?1:(g-R)/(S-R)))}if(--r,t+=8*(c+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bc=null,wc=null;function Pr(e){return e.nodeType===9?e:e.ownerDocument}function im(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xc=null;function wg(){var e=window.event;return e&&e.type==="popstate"?e===xc?!1:(xc=e,!0):(xc=null,!1)}var lm=typeof setTimeout=="function"?setTimeout:void 0,Sg=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,xg=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(e){return om.resolve(null).then(e).catch(Tg)}:lm;function Tg(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function cm(e,t){var a=t,r=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(r===0){e.removeChild(o),ys(t);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")vi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vi(a);for(var c=a.firstChild;c;){var m=c.nextSibling,g=c.nodeName;c[Ms]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=m}}else a==="body"&&vi(e.ownerDocument.body);a=o}while(a);ys(t)}function um(e,t){var a=e;e=0;do{var r=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=r}while(a)}function Tc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tc(a),Cl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function jg(e,t,a,r){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ms])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function Eg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kt(e.nextSibling),e===null))return null;return e}function hm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function jc(e){return e.data==="$?"||e.data==="$~"}function Ec(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ag(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ac=null;function dm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Kt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function fm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function mm(e,t,a){switch(t=Pr(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function vi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Cl(e)}var Yt=new Map,pm=new Set;function Qr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=P.d;P.d={f:Cg,r:Og,D:Rg,C:Ng,L:kg,m:Dg,X:Ug,S:Mg,M:zg};function Cg(){var e=En.f(),t=Br();return e||t}function Og(e){var t=za(e);t!==null&&t.tag===5&&t.type==="form"?Nd(t):En.r(e)}var ms=typeof document>"u"?null:document;function vm(e,t,a){var r=ms;if(r&&typeof t=="string"&&t){var o=qt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),pm.has(o)||(pm.add(o),e={rel:e,crossOrigin:a,href:t},r.querySelector(o)===null&&(t=r.createElement("link"),ht(t,"link",e),it(t),r.head.appendChild(t)))}}function Rg(e){En.D(e),vm("dns-prefetch",e,null)}function Ng(e,t){En.C(e,t),vm("preconnect",e,t)}function kg(e,t,a){En.L(e,t,a);var r=ms;if(r&&e&&t){var o='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+qt(a.imageSizes)+'"]')):o+='[href="'+qt(e)+'"]';var c=o;switch(t){case"style":c=ps(e);break;case"script":c=vs(e)}Yt.has(c)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Yt.set(c,e),r.querySelector(o)!==null||t==="style"&&r.querySelector(yi(c))||t==="script"&&r.querySelector(gi(c))||(t=r.createElement("link"),ht(t,"link",e),it(t),r.head.appendChild(t)))}}function Dg(e,t){En.m(e,t);var a=ms;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+qt(r)+'"][href="'+qt(e)+'"]',c=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=vs(e)}if(!Yt.has(c)&&(e=b({rel:"modulepreload",href:e},t),Yt.set(c,e),a.querySelector(o)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gi(c)))return}r=a.createElement("link"),ht(r,"link",e),it(r),a.head.appendChild(r)}}}function Mg(e,t,a){En.S(e,t,a);var r=ms;if(r&&e){var o=Ba(r).hoistableStyles,c=ps(e);t=t||"default";var m=o.get(c);if(!m){var g={loading:0,preload:null};if(m=r.querySelector(yi(c)))g.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Yt.get(c))&&Cc(e,a);var S=m=r.createElement("link");it(S),ht(S,"link",e),S._p=new Promise(function(R,z){S.onload=R,S.onerror=z}),S.addEventListener("load",function(){g.loading|=1}),S.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Kr(m,t,r)}m={type:"stylesheet",instance:m,count:1,state:g},o.set(c,m)}}}function Ug(e,t){En.X(e,t);var a=ms;if(a&&e){var r=Ba(a).hoistableScripts,o=vs(e),c=r.get(o);c||(c=a.querySelector(gi(o)),c||(e=b({src:e,async:!0},t),(t=Yt.get(o))&&Oc(e,t),c=a.createElement("script"),it(c),ht(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(o,c))}}function zg(e,t){En.M(e,t);var a=ms;if(a&&e){var r=Ba(a).hoistableScripts,o=vs(e),c=r.get(o);c||(c=a.querySelector(gi(o)),c||(e=b({src:e,async:!0,type:"module"},t),(t=Yt.get(o))&&Oc(e,t),c=a.createElement("script"),it(c),ht(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},r.set(o,c))}}function ym(e,t,a,r){var o=(o=pe.current)?Qr(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ps(a.href),a=Ba(o).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ps(a.href);var c=Ba(o).hoistableStyles,m=c.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=o.querySelector(yi(e)))&&!c._p&&(m.instance=c,m.state.loading=5),Yt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(e,a),c||Bg(o,e,a,m.state))),t&&r===null)throw Error(l(528,""));return m}if(t&&r!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=vs(a),a=Ba(o).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ps(e){return'href="'+qt(e)+'"'}function yi(e){return'link[rel="stylesheet"]['+e+"]"}function gm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Bg(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ht(t,"link",a),it(t),e.head.appendChild(t))}function vs(e){return'[src="'+qt(e)+'"]'}function gi(e){return"script[async]"+e}function _m(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+qt(a.href)+'"]');if(r)return t.instance=r,it(r),r;var o=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),it(r),ht(r,"style",o),Kr(r,a.precedence,e),t.instance=r;case"stylesheet":o=ps(a.href);var c=e.querySelector(yi(o));if(c)return t.state.loading|=4,t.instance=c,it(c),c;r=gm(a),(o=Yt.get(o))&&Cc(r,o),c=(e.ownerDocument||e).createElement("link"),it(c);var m=c;return m._p=new Promise(function(g,S){m.onload=g,m.onerror=S}),ht(c,"link",r),t.state.loading|=4,Kr(c,a.precedence,e),t.instance=c;case"script":return c=vs(a.src),(o=e.querySelector(gi(c)))?(t.instance=o,it(o),o):(r=a,(o=Yt.get(c))&&(r=b({},a),Oc(r,o)),e=e.ownerDocument||e,o=e.createElement("script"),it(o),ht(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Kr(r,a.precedence,e));return t.instance}function Kr(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,c=o,m=0;m<r.length;m++){var g=r[m];if(g.dataset.precedence===t)c=g;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Cc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Oc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yr=null;function bm(e,t,a){if(Yr===null){var r=new Map,o=Yr=new Map;o.set(a,r)}else o=Yr,r=o.get(a),r||(r=new Map,o.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[Ms]||c[lt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var g=r.get(m);g?g.push(c):r.set(m,[c])}}return r}function wm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Lg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Sm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Hg(e,t,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=ps(r.href),c=t.querySelector(yi(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Jr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,it(c);return}c=t.ownerDocument||t,r=gm(r),(o=Yt.get(o))&&Cc(r,o),c=c.createElement("link"),it(c);var m=c;m._p=new Promise(function(g,S){m.onload=g,m.onerror=S}),ht(c,"link",r),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Jr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Rc=0;function qg(e,t){return e.stylesheets&&e.count===0&&Zr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var r=setTimeout(function(){if(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Rc===0&&(Rc=62500*bg());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Rc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}function Jr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xr=null;function Zr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xr=new Map,t.forEach($g,e),Xr=null,Jr.call(e))}function $g(e,t){if(!(t.state.loading&4)){var a=Xr.get(e);if(a)var r=a.get(null);else{a=new Map,Xr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var m=o[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),r=m)}r&&a.set(null,r)}o=t.instance,m=o.getAttribute("data-precedence"),c=a.get(m)||r,c===r&&a.set(null,o),a.set(m,o),this.count++,r=Jr.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var _i={$$typeof:G,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Gg(e,t,a,r,o,c,m,g,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tl(0),this.hiddenUpdates=Tl(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function xm(e,t,a,r,o,c,m,g,S,R,z,H){return e=new Gg(e,t,a,m,S,R,z,H,g),t=1,c===!0&&(t|=24),c=Ot(3,null,null,t),e.current=c,c.stateNode=e,t=oo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:r,isDehydrated:a,cache:t},fo(c),e}function Tm(e){return e?(e=Ka,e):Ka}function jm(e,t,a,r,o,c){o=Tm(o),r.context===null?r.context=o:r.pendingContext=o,r=Ln(t),r.payload={element:a},c=c===void 0?null:c,c!==null&&(r.callback=c),a=Hn(e,r,t),a!==null&&(xt(a,e,t),Zs(a,e,t))}function Em(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Nc(e,t){Em(e,t),(e=e.alternate)&&Em(e,t)}function Am(e){if(e.tag===13||e.tag===31){var t=da(e,67108864);t!==null&&xt(t,e,67108864),Nc(e,67108864)}}function Cm(e){if(e.tag===13||e.tag===31){var t=Mt();t=jl(t);var a=da(e,t);a!==null&&xt(a,e,t),Nc(e,t)}}var Fr=!0;function Ig(e,t,a,r){var o=U.T;U.T=null;var c=P.p;try{P.p=2,kc(e,t,a,r)}finally{P.p=c,U.T=o}}function Vg(e,t,a,r){var o=U.T;U.T=null;var c=P.p;try{P.p=8,kc(e,t,a,r)}finally{P.p=c,U.T=o}}function kc(e,t,a,r){if(Fr){var o=Dc(r);if(o===null)gc(e,t,r,Wr,a),Rm(e,r);else if(Qg(o,e,t,a,r))r.stopPropagation();else if(Rm(e,r),t&4&&-1<Pg.indexOf(e)){for(;o!==null;){var c=za(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=la(c.pendingLanes);if(m!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;m;){var S=1<<31-At(m);g.entanglements[1]|=S,m&=~S}ln(c),(Oe&6)===0&&(Ur=jt()+500,fi(0))}}break;case 31:case 13:g=da(c,2),g!==null&&xt(g,c,2),Br(),Nc(c,2)}if(c=Dc(r),c===null&&gc(e,t,r,Wr,a),c===o)break;o=c}o!==null&&r.stopPropagation()}else gc(e,t,r,null,a)}}function Dc(e){return e=Ml(e),Mc(e)}var Wr=null;function Mc(e){if(Wr=null,e=Ua(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wr=e,null}function Om(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rv()){case zu:return 2;case Bu:return 8;case Gi:case Nv:return 32;case Lu:return 268435456;default:return 32}default:return 32}}var Uc=!1,Xn=null,Zn=null,Fn=null,bi=new Map,wi=new Map,Wn=[],Pg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rm(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Si(e,t,a,r,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:c,targetContainers:[o]},t!==null&&(t=za(t),t!==null&&Am(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Qg(e,t,a,r,o){switch(t){case"focusin":return Xn=Si(Xn,e,t,a,r,o),!0;case"dragenter":return Zn=Si(Zn,e,t,a,r,o),!0;case"mouseover":return Fn=Si(Fn,e,t,a,r,o),!0;case"pointerover":var c=o.pointerId;return bi.set(c,Si(bi.get(c)||null,e,t,a,r,o)),!0;case"gotpointercapture":return c=o.pointerId,wi.set(c,Si(wi.get(c)||null,e,t,a,r,o)),!0}return!1}function Nm(e){var t=Ua(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Vu(e.priority,function(){Cm(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,Vu(e.priority,function(){Cm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Dc(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);Dl=r,a.target.dispatchEvent(r),Dl=null}else return t=za(a),t!==null&&Am(t),e.blockedOn=a,!1;t.shift()}return!0}function km(e,t,a){el(e)&&a.delete(t)}function Kg(){Uc=!1,Xn!==null&&el(Xn)&&(Xn=null),Zn!==null&&el(Zn)&&(Zn=null),Fn!==null&&el(Fn)&&(Fn=null),bi.forEach(km),wi.forEach(km)}function tl(e,t){e.blockedOn===t&&(e.blockedOn=null,Uc||(Uc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Kg)))}var nl=null;function Dm(e){nl!==e&&(nl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){nl===e&&(nl=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],o=e[t+2];if(typeof r!="function"){if(Mc(r||a)===null)continue;break}var c=za(a);c!==null&&(e.splice(t,3),t-=3,Do(c,{pending:!0,data:o,method:a.method,action:r},r,o))}}))}function ys(e){function t(S){return tl(S,e)}Xn!==null&&tl(Xn,e),Zn!==null&&tl(Zn,e),Fn!==null&&tl(Fn,e),bi.forEach(t),wi.forEach(t);for(var a=0;a<Wn.length;a++){var r=Wn[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Wn.length&&(a=Wn[0],a.blockedOn===null);)Nm(a),a.blockedOn===null&&Wn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var o=a[r],c=a[r+1],m=o[yt]||null;if(typeof c=="function")m||Dm(a);else if(m){var g=null;if(c&&c.hasAttribute("formAction")){if(o=c,m=c[yt]||null)g=m.formAction;else if(Mc(o)!==null)continue}else g=m.action;typeof g=="function"?a[r+1]=g:(a.splice(r,3),r-=3),Dm(a)}}}function Mm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function zc(e){this._internalRoot=e}al.prototype.render=zc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,r=Mt();jm(a,r,e,t,null,null)},al.prototype.unmount=zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jm(e.current,2,null,e,null,null),Br(),t[Ma]=null}};function al(e){this._internalRoot=e}al.prototype.unstable_scheduleHydration=function(e){if(e){var t=Iu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Wn.length&&t!==0&&t<Wn[a].priority;a++);Wn.splice(a,0,e),a===0&&Nm(e)}};var Um=n.version;if(Um!=="19.2.0")throw Error(l(527,Um,"19.2.0"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Yg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{Ns=sl.inject(Yg),Et=sl}catch{}}return Ti.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,r="",o=$d,c=Gd,m=Id;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=xm(e,1,!1,null,null,a,r,null,o,c,m,Mm),e[Ma]=t.current,yc(e),new zc(t)},Ti.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var r=!1,o="",c=$d,m=Gd,g=Id,S=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=xm(e,1,!0,t,a??null,r,o,S,c,m,g,Mm),t.context=Tm(null),a=t.current,r=Mt(),r=jl(r),o=Ln(r),o.callback=null,Hn(a,o,r),a=r,t.current.lanes=a,Ds(t,a),ln(t),e[Ma]=t.current,yc(e),new al(t)},Ti.version="19.2.0",Ti}var Pm;function r0(){if(Pm)return Hc.exports;Pm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Hc.exports=i0(),Hc.exports}var l0=r0();const o0=Bp(l0);var Li=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},c0={setTimeout:(s,n)=>setTimeout(s,n),clearTimeout:s=>clearTimeout(s),setInterval:(s,n)=>setInterval(s,n),clearInterval:s=>clearInterval(s)},u0=class{#e=c0;#t=!1;setTimeoutProvider(s){this.#e=s}setTimeout(s,n){return this.#e.setTimeout(s,n)}clearTimeout(s){this.#e.clearTimeout(s)}setInterval(s,n){return this.#e.setInterval(s,n)}clearInterval(s){this.#e.clearInterval(s)}},Na=new u0;function h0(s){setTimeout(s,0)}var Da=typeof window>"u"||"Deno"in globalThis;function Tt(){}function d0(s,n){return typeof s=="function"?s(n):s}function nu(s){return typeof s=="number"&&s>=0&&s!==1/0}function Hp(s,n){return Math.max(s+(n||0)-Date.now(),0)}function sa(s,n){return typeof s=="function"?s(n):s}function Jt(s,n){return typeof s=="function"?s(n):s}function Qm(s,n){const{type:i="all",exact:l,fetchStatus:u,predicate:d,queryKey:f,stale:p}=s;if(f){if(l){if(n.queryHash!==bu(f,n.options))return!1}else if(!Ni(n.queryKey,f))return!1}if(i!=="all"){const v=n.isActive();if(i==="active"&&!v||i==="inactive"&&v)return!1}return!(typeof p=="boolean"&&n.isStale()!==p||u&&u!==n.state.fetchStatus||d&&!d(n))}function Km(s,n){const{exact:i,status:l,predicate:u,mutationKey:d}=s;if(d){if(!n.options.mutationKey)return!1;if(i){if(Ri(n.options.mutationKey)!==Ri(d))return!1}else if(!Ni(n.options.mutationKey,d))return!1}return!(l&&n.state.status!==l||u&&!u(n))}function bu(s,n){return(n?.queryKeyHashFn||Ri)(s)}function Ri(s){return JSON.stringify(s,(n,i)=>su(i)?Object.keys(i).sort().reduce((l,u)=>(l[u]=i[u],l),{}):i)}function Ni(s,n){return s===n?!0:typeof s!=typeof n?!1:s&&n&&typeof s=="object"&&typeof n=="object"?Object.keys(n).every(i=>Ni(s[i],n[i])):!1}var f0=Object.prototype.hasOwnProperty;function qp(s,n){if(s===n)return s;const i=Ym(s)&&Ym(n);if(!i&&!(su(s)&&su(n)))return n;const u=(i?s:Object.keys(s)).length,d=i?n:Object.keys(n),f=d.length,p=i?new Array(f):{};let v=0;for(let y=0;y<f;y++){const _=i?y:d[y],b=s[_],x=n[_];if(b===x){p[_]=b,(i?y<u:f0.call(s,_))&&v++;continue}if(b===null||x===null||typeof b!="object"||typeof x!="object"){p[_]=x;continue}const C=qp(b,x);p[_]=C,C===b&&v++}return u===f&&v===u?s:p}function au(s,n){if(!n||Object.keys(s).length!==Object.keys(n).length)return!1;for(const i in s)if(s[i]!==n[i])return!1;return!0}function Ym(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function su(s){if(!Jm(s))return!1;const n=s.constructor;if(n===void 0)return!0;const i=n.prototype;return!(!Jm(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Jm(s){return Object.prototype.toString.call(s)==="[object Object]"}function m0(s){return new Promise(n=>{Na.setTimeout(n,s)})}function iu(s,n,i){return typeof i.structuralSharing=="function"?i.structuralSharing(s,n):i.structuralSharing!==!1?qp(s,n):n}function p0(s,n,i=0){const l=[...s,n];return i&&l.length>i?l.slice(1):l}function v0(s,n,i=0){const l=[n,...s];return i&&l.length>i?l.slice(0,-1):l}var wu=Symbol();function $p(s,n){return!s.queryFn&&n?.initialPromise?()=>n.initialPromise:!s.queryFn||s.queryFn===wu?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function y0(s,n){return typeof s=="function"?s(...n):!!s}var g0=class extends Li{#e;#t;#n;constructor(){super(),this.#n=s=>{if(!Da&&window.addEventListener){const n=()=>s();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#n=s,this.#t?.(),this.#t=s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(n=>{n(s)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Su=new g0;function ru(){let s,n;const i=new Promise((u,d)=>{s=u,n=d});i.status="pending",i.catch(()=>{});function l(u){Object.assign(i,u),delete i.resolve,delete i.reject}return i.resolve=u=>{l({status:"fulfilled",value:u}),s(u)},i.reject=u=>{l({status:"rejected",reason:u}),n(u)},i}var _0=h0;function b0(){let s=[],n=0,i=p=>{p()},l=p=>{p()},u=_0;const d=p=>{n?s.push(p):u(()=>{i(p)})},f=()=>{const p=s;s=[],p.length&&u(()=>{l(()=>{p.forEach(v=>{i(v)})})})};return{batch:p=>{let v;n++;try{v=p()}finally{n--,n||f()}return v},batchCalls:p=>(...v)=>{d(()=>{p(...v)})},schedule:d,setNotifyFunction:p=>{i=p},setBatchNotifyFunction:p=>{l=p},setScheduler:p=>{u=p}}}var mt=b0(),w0=class extends Li{#e=!0;#t;#n;constructor(){super(),this.#n=s=>{if(!Da&&window.addEventListener){const n=()=>s(!0),i=()=>s(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#n=s,this.#t?.(),this.#t=s(this.setOnline.bind(this))}setOnline(s){this.#e!==s&&(this.#e=s,this.listeners.forEach(i=>{i(s)}))}isOnline(){return this.#e}},ul=new w0;function S0(s){return Math.min(1e3*2**s,3e4)}function Gp(s){return(s??"online")==="online"?ul.isOnline():!0}var lu=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function Ip(s){let n=!1,i=0,l;const u=ru(),d=()=>u.status!=="pending",f=w=>{if(!d()){const D=new lu(w);x(D),s.onCancel?.(D)}},p=()=>{n=!0},v=()=>{n=!1},y=()=>Su.isFocused()&&(s.networkMode==="always"||ul.isOnline())&&s.canRun(),_=()=>Gp(s.networkMode)&&s.canRun(),b=w=>{d()||(l?.(),u.resolve(w))},x=w=>{d()||(l?.(),u.reject(w))},C=()=>new Promise(w=>{l=D=>{(d()||y())&&w(D)},s.onPause?.()}).then(()=>{l=void 0,d()||s.onContinue?.()}),O=()=>{if(d())return;let w;const D=i===0?s.initialPromise:void 0;try{w=D??s.fn()}catch(k){w=Promise.reject(k)}Promise.resolve(w).then(b).catch(k=>{if(d())return;const I=s.retry??(Da?0:3),G=s.retryDelay??S0,F=typeof G=="function"?G(i,k):G,de=I===!0||typeof I=="number"&&i<I||typeof I=="function"&&I(i,k);if(n||!de){x(k);return}i++,s.onFail?.(i,k),m0(F).then(()=>y()?void 0:C()).then(()=>{n?x(k):O()})})};return{promise:u,status:()=>u.status,cancel:f,continue:()=>(l?.(),u),cancelRetry:p,continueRetry:v,canStart:_,start:()=>(_()?O():C().then(O),u)}}var Vp=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nu(this.gcTime)&&(this.#e=Na.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Da?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Na.clearTimeout(this.#e),this.#e=void 0)}},x0=class extends Vp{#e;#t;#n;#s;#a;#l;#r;constructor(s){super(),this.#r=!1,this.#l=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#s=s.client,this.#n=this.#s.getQueryCache(),this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#e=Xm(this.options),this.state=s.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(s){if(this.options={...this.#l,...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Xm(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(s,n){const i=iu(this.state.data,s,this.options);return this.#i({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(s,n){this.#i({type:"setState",state:s,setStateOptions:n})}cancel(s){const n=this.#a?.promise;return this.#a?.cancel(s),n?n.then(Tt).catch(Tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(s=>Jt(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>sa(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Hp(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(n=>n!==s),this.observers.length||(this.#a&&(this.#r?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(s,n){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(s&&this.setOptions(s),!this.options.queryFn){const p=this.observers.find(v=>v.options.queryFn);p&&this.setOptions(p.options)}const i=new AbortController,l=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(this.#r=!0,i.signal)})},u=()=>{const p=$p(this.options,n),y=(()=>{const _={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(_),_})();return this.#r=!1,this.options.persister?this.options.persister(p,y,this):p(y)},f=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:u};return l(p),p})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#i({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=Ip({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:p=>{p instanceof lu&&p.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(p,v)=>{this.#i({type:"failed",failureCount:p,error:v})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const p=await this.#a.start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),this.#n.config.onSuccess?.(p,this),this.#n.config.onSettled?.(p,this.state.error,this),p}catch(p){if(p instanceof lu){if(p.silent)return this.#a.promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw this.#i({type:"error",error:p}),this.#n.config.onError?.(p,this),this.#n.config.onSettled?.(this.state.data,p,this),p}finally{this.scheduleGc()}}#i(s){const n=i=>{switch(s.type){case"failed":return{...i,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Pp(i.data,this.options),fetchMeta:s.meta??null};case"success":const l={...i,data:s.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=s.manual?l:void 0,l;case"error":const u=s.error;return{...i,error:u,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...s.state}}};this.state=n(this.state),mt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:s})})}};function Pp(s,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Gp(n.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Xm(s){const n=typeof s.initialData=="function"?s.initialData():s.initialData,i=n!==void 0,l=i?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:i?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var T0=class extends Li{constructor(s,n){super(),this.options=n,this.#e=s,this.#i=null,this.#r=ru(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#r;#i;#p;#d;#f;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Zm(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ou(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ou(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(s){const n=this.options,i=this.#t;if(this.options=this.#e.defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jt(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!au(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Fm(this.#t,i,this.options,n)&&this.#h(),this.updateResult(),l&&(this.#t!==i||Jt(this.options.enabled,this.#t)!==Jt(n.enabled,this.#t)||sa(this.options.staleTime,this.#t)!==sa(n.staleTime,this.#t))&&this.#v();const u=this.#y();l&&(this.#t!==i||Jt(this.options.enabled,this.#t)!==Jt(n.enabled,this.#t)||u!==this.#o)&&this.#g(u)}getOptimisticResult(s){const n=this.#e.getQueryCache().build(this.#e,s),i=this.createResult(n,s);return E0(this,i)&&(this.#s=i,this.#l=this.options,this.#a=this.#t.state),i}getCurrentResult(){return this.#s}trackResult(s,n){return new Proxy(s,{get:(i,l)=>(this.trackProp(l),n?.(l),l==="promise"&&!this.options.experimental_prefetchInRender&&this.#r.status==="pending"&&this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(i,l))})}trackProp(s){this.#m.add(s)}getCurrentQuery(){return this.#t}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const n=this.#e.defaultQueryOptions(s),i=this.#e.getQueryCache().build(this.#e,n);return i.fetch().then(()=>this.createResult(i,n))}fetch(s){return this.#h({...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(s){this.#S();let n=this.#t.fetch(this.options,s);return s?.throwOnError||(n=n.catch(Tt)),n}#v(){this.#b();const s=sa(this.options.staleTime,this.#t);if(Da||this.#s.isStale||!nu(s))return;const i=Hp(this.#s.dataUpdatedAt,s)+1;this.#c=Na.setTimeout(()=>{this.#s.isStale||this.updateResult()},i)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(s){this.#w(),this.#o=s,!(Da||Jt(this.options.enabled,this.#t)===!1||!nu(this.#o)||this.#o===0)&&(this.#u=Na.setInterval(()=>{(this.options.refetchIntervalInBackground||Su.isFocused())&&this.#h()},this.#o))}#_(){this.#v(),this.#g(this.#y())}#b(){this.#c&&(Na.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(Na.clearInterval(this.#u),this.#u=void 0)}createResult(s,n){const i=this.#t,l=this.options,u=this.#s,d=this.#a,f=this.#l,v=s!==i?s.state:this.#n,{state:y}=s;let _={...y},b=!1,x;if(n._optimisticResults){const te=this.hasListeners(),Re=!te&&Zm(s,n),nt=te&&Fm(s,i,n,l);(Re||nt)&&(_={..._,...Pp(y.data,s.options)}),n._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:C,errorUpdatedAt:O,status:w}=_;x=_.data;let D=!1;if(n.placeholderData!==void 0&&x===void 0&&w==="pending"){let te;u?.isPlaceholderData&&n.placeholderData===f?.placeholderData?(te=u.data,D=!0):te=typeof n.placeholderData=="function"?n.placeholderData(this.#f?.state.data,this.#f):n.placeholderData,te!==void 0&&(w="success",x=iu(u?.data,te,n),b=!0)}if(n.select&&x!==void 0&&!D)if(u&&x===d?.data&&n.select===this.#p)x=this.#d;else try{this.#p=n.select,x=n.select(x),x=iu(u?.data,x,n),this.#d=x,this.#i=null}catch(te){this.#i=te}this.#i&&(C=this.#i,x=this.#d,O=Date.now(),w="error");const k=_.fetchStatus==="fetching",I=w==="pending",G=w==="error",F=I&&k,de=x!==void 0,K={status:w,fetchStatus:_.fetchStatus,isPending:I,isSuccess:w==="success",isError:G,isInitialLoading:F,isLoading:F,data:x,dataUpdatedAt:_.dataUpdatedAt,error:C,errorUpdatedAt:O,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>v.dataUpdateCount||_.errorUpdateCount>v.errorUpdateCount,isFetching:k,isRefetching:k&&!I,isLoadingError:G&&!de,isPaused:_.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:G&&de,isStale:xu(s,n),refetch:this.refetch,promise:this.#r,isEnabled:Jt(n.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const te=Ge=>{K.status==="error"?Ge.reject(K.error):K.data!==void 0&&Ge.resolve(K.data)},Re=()=>{const Ge=this.#r=K.promise=ru();te(Ge)},nt=this.#r;switch(nt.status){case"pending":s.queryHash===i.queryHash&&te(nt);break;case"fulfilled":(K.status==="error"||K.data!==nt.value)&&Re();break;case"rejected":(K.status!=="error"||K.error!==nt.reason)&&Re();break}}return K}updateResult(){const s=this.#s,n=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#f=this.#t),au(n,s))return;this.#s=n;const i=()=>{if(!s)return!0;const{notifyOnChangeProps:l}=this.options,u=typeof l=="function"?l():l;if(u==="all"||!u&&!this.#m.size)return!0;const d=new Set(u??this.#m);return this.options.throwOnError&&d.add("error"),Object.keys(this.#s).some(f=>{const p=f;return this.#s[p]!==s[p]&&d.has(p)})};this.#x({listeners:i()})}#S(){const s=this.#e.getQueryCache().build(this.#e,this.options);if(s===this.#t)return;const n=this.#t;this.#t=s,this.#n=s.state,this.hasListeners()&&(n?.removeObserver(this),s.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#x(s){mt.batch(()=>{s.listeners&&this.listeners.forEach(n=>{n(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function j0(s,n){return Jt(n.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&n.retryOnMount===!1)}function Zm(s,n){return j0(s,n)||s.state.data!==void 0&&ou(s,n,n.refetchOnMount)}function ou(s,n,i){if(Jt(n.enabled,s)!==!1&&sa(n.staleTime,s)!=="static"){const l=typeof i=="function"?i(s):i;return l==="always"||l!==!1&&xu(s,n)}return!1}function Fm(s,n,i,l){return(s!==n||Jt(l.enabled,s)===!1)&&(!i.suspense||s.state.status!=="error")&&xu(s,i)}function xu(s,n){return Jt(n.enabled,s)!==!1&&s.isStaleByTime(sa(n.staleTime,s))}function E0(s,n){return!au(s.getCurrentResult(),n)}function Wm(s){return{onFetch:(n,i)=>{const l=n.options,u=n.fetchOptions?.meta?.fetchMore?.direction,d=n.state.data?.pages||[],f=n.state.data?.pageParams||[];let p={pages:[],pageParams:[]},v=0;const y=async()=>{let _=!1;const b=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(n.signal.aborted?_=!0:n.signal.addEventListener("abort",()=>{_=!0}),n.signal)})},x=$p(n.options,n.fetchOptions),C=async(O,w,D)=>{if(_)return Promise.reject();if(w==null&&O.pages.length)return Promise.resolve(O);const I=(()=>{const ee={client:n.client,queryKey:n.queryKey,pageParam:w,direction:D?"backward":"forward",meta:n.options.meta};return b(ee),ee})(),G=await x(I),{maxPages:F}=n.options,de=D?v0:p0;return{pages:de(O.pages,G,F),pageParams:de(O.pageParams,w,F)}};if(u&&d.length){const O=u==="backward",w=O?A0:ep,D={pages:d,pageParams:f},k=w(l,D);p=await C(D,k,O)}else{const O=s??d.length;do{const w=v===0?f[0]??l.initialPageParam:ep(l,p);if(v>0&&w==null)break;p=await C(p,w),v++}while(v<O)}return p};n.options.persister?n.fetchFn=()=>n.options.persister?.(y,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},i):n.fetchFn=y}}}function ep(s,{pages:n,pageParams:i}){const l=n.length-1;return n.length>0?s.getNextPageParam(n[l],n,i[l],i):void 0}function A0(s,{pages:n,pageParams:i}){return n.length>0?s.getPreviousPageParam?.(n[0],n,i[0],i):void 0}var C0=class extends Vp{#e;#t;#n;#s;constructor(s){super(),this.#e=s.client,this.mutationId=s.mutationId,this.#n=s.mutationCache,this.#t=[],this.state=s.state||O0(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#t.includes(s)||(this.#t.push(s),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#t=this.#t.filter(n=>n!==s),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(s){const n=()=>{this.#a({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Ip({fn:()=>this.options.mutationFn?this.options.mutationFn(s,i):Promise.reject(new Error("No mutationFn found")),onFail:(d,f)=>{this.#a({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",u=!this.#s.canStart();try{if(l)n();else{this.#a({type:"pending",variables:s,isPaused:u}),await this.#n.config.onMutate?.(s,this,i);const f=await this.options.onMutate?.(s,i);f!==this.state.context&&this.#a({type:"pending",context:f,variables:s,isPaused:u})}const d=await this.#s.start();return await this.#n.config.onSuccess?.(d,s,this.state.context,this,i),await this.options.onSuccess?.(d,s,this.state.context,i),await this.#n.config.onSettled?.(d,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(d,null,s,this.state.context,i),this.#a({type:"success",data:d}),d}catch(d){try{throw await this.#n.config.onError?.(d,s,this.state.context,this,i),await this.options.onError?.(d,s,this.state.context,i),await this.#n.config.onSettled?.(void 0,d,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(void 0,d,s,this.state.context,i),d}finally{this.#a({type:"error",error:d})}}finally{this.#n.runNext(this)}}#a(s){const n=i=>{switch(s.type){case"failed":return{...i,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...i,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:s.error,failureCount:i.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mt.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(s)}),this.#n.notify({mutation:this,type:"updated",action:s})})}};function O0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var R0=class extends Li{constructor(s={}){super(),this.config=s,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(s,n,i){const l=new C0({client:s,mutationCache:this,mutationId:++this.#n,options:s.defaultMutationOptions(n),state:i});return this.add(l),l}add(s){this.#e.add(s);const n=il(s);if(typeof n=="string"){const i=this.#t.get(n);i?i.push(s):this.#t.set(n,[s])}this.notify({type:"added",mutation:s})}remove(s){if(this.#e.delete(s)){const n=il(s);if(typeof n=="string"){const i=this.#t.get(n);if(i)if(i.length>1){const l=i.indexOf(s);l!==-1&&i.splice(l,1)}else i[0]===s&&this.#t.delete(n)}}this.notify({type:"removed",mutation:s})}canRun(s){const n=il(s);if(typeof n=="string"){const l=this.#t.get(n)?.find(u=>u.state.status==="pending");return!l||l===s}else return!0}runNext(s){const n=il(s);return typeof n=="string"?this.#t.get(n)?.find(l=>l!==s&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){mt.batch(()=>{this.#e.forEach(s=>{this.notify({type:"removed",mutation:s})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(s){const n={exact:!0,...s};return this.getAll().find(i=>Km(n,i))}findAll(s={}){return this.getAll().filter(n=>Km(s,n))}notify(s){mt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}resumePausedMutations(){const s=this.getAll().filter(n=>n.state.isPaused);return mt.batch(()=>Promise.all(s.map(n=>n.continue().catch(Tt))))}};function il(s){return s.options.scope?.id}var N0=class extends Li{constructor(s={}){super(),this.config=s,this.#e=new Map}#e;build(s,n,i){const l=n.queryKey,u=n.queryHash??bu(l,n);let d=this.get(u);return d||(d=new x0({client:s,queryKey:l,queryHash:u,options:s.defaultQueryOptions(n),state:i,defaultOptions:s.getQueryDefaults(l)}),this.add(d)),d}add(s){this.#e.has(s.queryHash)||(this.#e.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const n=this.#e.get(s.queryHash);n&&(s.destroy(),n===s&&this.#e.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){mt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#e.get(s)}getAll(){return[...this.#e.values()]}find(s){const n={exact:!0,...s};return this.getAll().find(i=>Qm(n,i))}findAll(s={}){const n=this.getAll();return Object.keys(s).length>0?n.filter(i=>Qm(s,i)):n}notify(s){mt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}onFocus(){mt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){mt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},k0=class{#e;#t;#n;#s;#a;#l;#r;#i;constructor(s={}){this.#e=s.queryCache||new N0,this.#t=s.mutationCache||new R0,this.#n=s.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#r=Su.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=ul.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#r?.(),this.#r=void 0,this.#i?.(),this.#i=void 0)}isFetching(s){return this.#e.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#t.findAll({...s,status:"pending"}).length}getQueryData(s){const n=this.defaultQueryOptions({queryKey:s});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(s){const n=this.defaultQueryOptions(s),i=this.#e.build(this,n),l=i.state.data;return l===void 0?this.fetchQuery(s):(s.revalidateIfStale&&i.isStaleByTime(sa(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(l))}getQueriesData(s){return this.#e.findAll(s).map(({queryKey:n,state:i})=>{const l=i.data;return[n,l]})}setQueryData(s,n,i){const l=this.defaultQueryOptions({queryKey:s}),d=this.#e.get(l.queryHash)?.state.data,f=d0(n,d);if(f!==void 0)return this.#e.build(this,l).setData(f,{...i,manual:!0})}setQueriesData(s,n,i){return mt.batch(()=>this.#e.findAll(s).map(({queryKey:l})=>[l,this.setQueryData(l,n,i)]))}getQueryState(s){const n=this.defaultQueryOptions({queryKey:s});return this.#e.get(n.queryHash)?.state}removeQueries(s){const n=this.#e;mt.batch(()=>{n.findAll(s).forEach(i=>{n.remove(i)})})}resetQueries(s,n){const i=this.#e;return mt.batch(()=>(i.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...s},n)))}cancelQueries(s,n={}){const i={revert:!0,...n},l=mt.batch(()=>this.#e.findAll(s).map(u=>u.cancel(i)));return Promise.all(l).then(Tt).catch(Tt)}invalidateQueries(s,n={}){return mt.batch(()=>(this.#e.findAll(s).forEach(i=>{i.invalidate()}),s?.refetchType==="none"?Promise.resolve():this.refetchQueries({...s,type:s?.refetchType??s?.type??"active"},n)))}refetchQueries(s,n={}){const i={...n,cancelRefetch:n.cancelRefetch??!0},l=mt.batch(()=>this.#e.findAll(s).filter(u=>!u.isDisabled()&&!u.isStatic()).map(u=>{let d=u.fetch(void 0,i);return i.throwOnError||(d=d.catch(Tt)),u.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(Tt)}fetchQuery(s){const n=this.defaultQueryOptions(s);n.retry===void 0&&(n.retry=!1);const i=this.#e.build(this,n);return i.isStaleByTime(sa(n.staleTime,i))?i.fetch(n):Promise.resolve(i.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(Tt).catch(Tt)}fetchInfiniteQuery(s){return s.behavior=Wm(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(Tt).catch(Tt)}ensureInfiniteQueryData(s){return s.behavior=Wm(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return ul.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(s){this.#n=s}setQueryDefaults(s,n){this.#s.set(Ri(s),{queryKey:s,defaultOptions:n})}getQueryDefaults(s){const n=[...this.#s.values()],i={};return n.forEach(l=>{Ni(s,l.queryKey)&&Object.assign(i,l.defaultOptions)}),i}setMutationDefaults(s,n){this.#a.set(Ri(s),{mutationKey:s,defaultOptions:n})}getMutationDefaults(s){const n=[...this.#a.values()],i={};return n.forEach(l=>{Ni(s,l.mutationKey)&&Object.assign(i,l.defaultOptions)}),i}defaultQueryOptions(s){if(s._defaulted)return s;const n={...this.#n.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return n.queryHash||(n.queryHash=bu(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===wu&&(n.enabled=!1),n}defaultMutationOptions(s){return s?._defaulted?s:{...this.#n.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Qp=$.createContext(void 0),D0=s=>{const n=$.useContext(Qp);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},M0=({client:s,children:n})=>($.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),h.jsx(Qp.Provider,{value:s,children:n})),Kp=$.createContext(!1),U0=()=>$.useContext(Kp);Kp.Provider;function z0(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var B0=$.createContext(z0()),L0=()=>$.useContext(B0),H0=(s,n)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(n.isReset()||(s.retryOnMount=!1))},q0=s=>{$.useEffect(()=>{s.clearReset()},[s])},$0=({result:s,errorResetBoundary:n,throwOnError:i,query:l,suspense:u})=>s.isError&&!n.isReset()&&!s.isFetching&&l&&(u&&s.data===void 0||y0(i,[s.error,l])),G0=s=>{if(s.suspense){const i=u=>u==="static"?u:Math.max(u??1e3,1e3),l=s.staleTime;s.staleTime=typeof l=="function"?(...u)=>i(l(...u)):i(l),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},I0=(s,n)=>s.isLoading&&s.isFetching&&!n,V0=(s,n)=>s?.suspense&&n.isPending,tp=(s,n,i)=>n.fetchOptimistic(s).catch(()=>{i.clearReset()});function P0(s,n,i){const l=U0(),u=L0(),d=D0(),f=d.defaultQueryOptions(s);d.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=l?"isRestoring":"optimistic",G0(f),H0(f,u),q0(u);const p=!d.getQueryCache().get(f.queryHash),[v]=$.useState(()=>new n(d,f)),y=v.getOptimisticResult(f),_=!l&&s.subscribed!==!1;if($.useSyncExternalStore($.useCallback(b=>{const x=_?v.subscribe(mt.batchCalls(b)):Tt;return v.updateResult(),x},[v,_]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),$.useEffect(()=>{v.setOptions(f)},[f,v]),V0(f,y))throw tp(f,v,u);if($0({result:y,errorResetBoundary:u,throwOnError:f.throwOnError,query:d.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw y.error;return d.getDefaultOptions().queries?._experimental_afterQuery?.(f,y),f.experimental_prefetchInRender&&!Da&&I0(y,l)&&(p?tp(f,v,u):d.getQueryCache().get(f.queryHash)?.promise)?.catch(Tt).finally(()=>{v.updateResult()}),f.notifyOnChangeProps?y:v.trackResult(y)}function Yp(s,n){return P0(s,T0)}const Jp=new k0({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});async function Q0(s,n){const i=await fetch(s,{...n,headers:{"Content-Type":"application/json",...n?.headers}});if(!i.ok){const l=await i.text();throw new Error(`${i.status}: ${l||i.statusText}`)}return i.json()}function K0(s,n){if(s instanceof RegExp)return{keys:!1,pattern:s};var i,l,u,d,f=[],p="",v=s.split("/");for(v[0]||v.shift();u=v.shift();)i=u[0],i==="*"?(f.push(i),p+=u[1]==="?"?"(?:/(.*))?":"/(.*)"):i===":"?(l=u.indexOf("?",1),d=u.indexOf(".",1),f.push(u.substring(1,~l?l:~d?d:u.length)),p+=~l&&!~d?"(?:/([^/]+?))?":"/([^/]+?)",~d&&(p+=(~l?"?":"")+"\\"+u.substring(d))):p+="/"+u;return{keys:f,pattern:new RegExp("^"+p+(n?"(?=$|/)":"/?$"),"i")}}var Ic={exports:{}},Vc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function Y0(){if(np)return Vc;np=1;var s=ml();function n(b,x){return b===x&&(b!==0||1/b===1/x)||b!==b&&x!==x}var i=typeof Object.is=="function"?Object.is:n,l=s.useState,u=s.useEffect,d=s.useLayoutEffect,f=s.useDebugValue;function p(b,x){var C=x(),O=l({inst:{value:C,getSnapshot:x}}),w=O[0].inst,D=O[1];return d(function(){w.value=C,w.getSnapshot=x,v(w)&&D({inst:w})},[b,C,x]),u(function(){return v(w)&&D({inst:w}),b(function(){v(w)&&D({inst:w})})},[b]),f(C),C}function v(b){var x=b.getSnapshot;b=b.value;try{var C=x();return!i(b,C)}catch{return!0}}function y(b,x){return x()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:p;return Vc.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:_,Vc}var ap;function J0(){return ap||(ap=1,Ic.exports=Y0()),Ic.exports}var X0=J0();const Z0=e0.useInsertionEffect,F0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xp=F0?$.useLayoutEffect:$.useEffect,W0=Z0||Xp,Tu=s=>{const n=$.useRef([s,(...i)=>n[0](...i)]).current;return W0(()=>{n[0]=s}),n[1]},e_="popstate",ju="pushState",Eu="replaceState",t_="hashchange",sp=[e_,ju,Eu,t_],n_=s=>{for(const n of sp)addEventListener(n,s);return()=>{for(const n of sp)removeEventListener(n,s)}},Zp=(s,n)=>X0.useSyncExternalStore(n_,s,n),a_=()=>location.search,s_=({ssrSearch:s=""}={})=>Zp(a_,()=>s),ip=()=>location.pathname,i_=({ssrPath:s}={})=>Zp(ip,s?()=>s:ip),r_=(s,{replace:n=!1,state:i=null}={})=>history[n?Eu:ju](i,"",s),l_=(s={})=>[i_(s),r_],rp=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[rp]>"u"){for(const s of[ju,Eu]){const n=history[s];history[s]=function(){const i=n.apply(this,arguments),l=new Event(s);return l.arguments=arguments,dispatchEvent(l),i}}Object.defineProperty(window,rp,{value:!0})}const o_=(s,n)=>n.toLowerCase().indexOf(s.toLowerCase())?"~"+n:n.slice(s.length)||"/",Fp=(s="")=>s==="/"?"":s,c_=(s,n)=>s[0]==="~"?s.slice(1):Fp(n)+s,u_=(s="",n)=>o_(lp(Fp(s)),lp(n)),lp=s=>{try{return decodeURI(s)}catch{return s}},Wp={hook:l_,searchHook:s_,parser:K0,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:s=>s},ev=$.createContext(Wp),Rs=()=>$.useContext(ev),tv={},nv=$.createContext(tv),h_=()=>$.useContext(nv),Hi=s=>{const[n,i]=s.hook(s);return[u_(s.base,n),Tu((l,u)=>i(c_(l,s.base),u))]},Au=()=>Hi(Rs()),av=(s,n,i,l)=>{const{pattern:u,keys:d}=n instanceof RegExp?{keys:!1,pattern:n}:s(n||"*",l),f=u.exec(i)||[],[p,...v]=f;return p!==void 0?[!0,(()=>{const y=d!==!1?Object.fromEntries(d.map((b,x)=>[b,v[x]])):f.groups;let _={...v};return y&&Object.assign(_,y),_})(),...l?[p]:[]]:[!1,null]},d_=({children:s,...n})=>{const i=Rs(),l=n.hook?Wp:i;let u=l;const[d,f]=n.ssrPath?.split("?")??[];f&&(n.ssrSearch=f,n.ssrPath=d),n.hrefs=n.hrefs??n.hook?.hrefs;let p=$.useRef({}),v=p.current,y=v;for(let _ in l){const b=_==="base"?l[_]+(n[_]||""):n[_]||l[_];v===y&&b!==y[_]&&(p.current=y={...y}),y[_]=b,(b!==l[_]||b!==u[_])&&(u=y)}return $.createElement(ev.Provider,{value:u,children:s})},op=({children:s,component:n},i)=>n?$.createElement(n,{params:i}):typeof s=="function"?s(i):s,f_=s=>{let n=$.useRef(tv);const i=n.current;return n.current=Object.keys(s).length!==Object.keys(i).length||Object.entries(s).some(([l,u])=>u!==i[l])?s:i},Xt=({path:s,nest:n,match:i,...l})=>{const u=Rs(),[d]=Hi(u),[f,p,v]=i??av(u.parser,s,d,n),y=f_({...h_(),...p});if(!f)return null;const _=v?$.createElement(d_,{base:v},op(l,y)):op(l,y);return $.createElement(nv.Provider,{value:y,children:_})},cp=$.forwardRef((s,n)=>{const i=Rs(),[l,u]=Hi(i),{to:d="",href:f=d,onClick:p,asChild:v,children:y,className:_,replace:b,state:x,...C}=s,O=Tu(D=>{D.ctrlKey||D.metaKey||D.altKey||D.shiftKey||D.button!==0||(p?.(D),D.defaultPrevented||(D.preventDefault(),u(f,s)))}),w=i.hrefs(f[0]==="~"?f.slice(1):i.base+f,i);return v&&$.isValidElement(y)?$.cloneElement(y,{onClick:O,href:w}):$.createElement("a",{...C,onClick:O,href:w,className:_?.call?_(l===f):_,children:y,ref:n})}),sv=s=>Array.isArray(s)?s.flatMap(n=>sv(n&&n.type===$.Fragment?n.props.children:n)):[s],Cu=({children:s,location:n})=>{const i=Rs(),[l]=Hi(i);for(const u of sv(s)){let d=0;if($.isValidElement(u)&&(d=av(i.parser,u.props.path,n||l,u.props.nest))[0])return $.cloneElement(u,{match:d})}return null},m_=s=>{const{to:n,href:i=n}=s,l=Rs(),[,u]=Hi(l),d=Tu(()=>u(n||i,s)),{ssrContext:f}=l;return Xp(()=>{d()},[]),f&&(f.redirectTo=n),null},iv=$.createContext(void 0);function p_({children:s}){const[n,i]=$.useState(()=>{if(typeof window<"u"){const u=localStorage.getItem("charge-theme");if(u==="light"||u==="dark")return u}return"dark"});$.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("charge-theme",n)},[n]);const l=()=>{i(u=>u==="dark"?"light":"dark")};return h.jsx(iv.Provider,{value:{theme:n,toggleTheme:l},children:s})}function v_(){const s=$.useContext(iv);if(!s)throw new Error("useTheme must be used within a ThemeProvider");return s}function pl(s,n){var i={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&n.indexOf(l)<0&&(i[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(s);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(s,l[u])&&(i[l[u]]=s[l[u]]);return i}function y_(s,n,i,l){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function p(_){try{y(l.next(_))}catch(b){f(b)}}function v(_){try{y(l.throw(_))}catch(b){f(b)}}function y(_){_.done?d(_.value):u(_.value).then(p,v)}y((l=l.apply(s,n||[])).next())})}const g_=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class Ou extends Error{constructor(n,i="FunctionsError",l){super(n),this.name=i,this.context=l}}class __ extends Ou{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class up extends Ou{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class hp extends Ou{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var cu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(cu||(cu={}));class b_{constructor(n,{headers:i={},customFetch:l,region:u=cu.Any}={}){this.url=n,this.headers=i,this.region=u,this.fetch=g_(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return y_(this,arguments,void 0,function*(i,l={}){var u;let d,f;try{const{headers:p,method:v,body:y,signal:_,timeout:b}=l;let x={},{region:C}=l;C||(C=this.region);const O=new URL(`${this.url}/${i}`);C&&C!=="any"&&(x["x-region"]=C,O.searchParams.set("forceFunctionRegion",C));let w;y&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",w=y):typeof y=="string"?(x["Content-Type"]="text/plain",w=y):typeof FormData<"u"&&y instanceof FormData?w=y:(x["Content-Type"]="application/json",w=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?w=JSON.stringify(y):w=y;let D=_;b&&(f=new AbortController,d=setTimeout(()=>f.abort(),b),_?(D=f.signal,_.addEventListener("abort",()=>f.abort())):D=f.signal);const k=yield this.fetch(O.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),p),body:w,signal:D}).catch(de=>{throw new __(de)}),I=k.headers.get("x-relay-error");if(I&&I==="true")throw new up(k);if(!k.ok)throw new hp(k);let G=((u=k.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),F;return G==="application/json"?F=yield k.json():G==="application/octet-stream"||G==="application/pdf"?F=yield k.blob():G==="text/event-stream"?F=k:G==="multipart/form-data"?F=yield k.formData():F=yield k.text(),{data:F,error:null,response:k}}catch(p){return{data:null,error:p,response:p instanceof hp||p instanceof up?p.context:void 0}}finally{d&&clearTimeout(d)}})}}var w_=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},S_=class{constructor(s){var n,i;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(i=s.isMaybeSingle)!==null&&i!==void 0?i:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,p=null,v=null,y=d.status,_=d.statusText;if(d.ok){var b,x;if(i.method!=="HEAD"){var C;const k=await d.text();k===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((C=i.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?p=k:p=JSON.parse(k))}const w=(b=i.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),D=(x=d.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");w&&D&&D.length>1&&(v=parseInt(D[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,y=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var O;const w=await d.text();try{f=JSON.parse(w),Array.isArray(f)&&d.status===404&&(p=[],f=null,y=200,_="OK")}catch{d.status===404&&w===""?(y=204,_="No Content"):f={message:w}}if(f&&i.isMaybeSingle&&(!(f==null||(O=f.details)===null||O===void 0)&&O.includes("0 rows"))&&(f=null,y=200,_="OK"),f&&i.shouldThrowOnError)throw new w_(f)}return{error:f,data:p,count:v,status:y,statusText:_}});return this.shouldThrowOnError||(u=u.catch(d=>{var f;let p="";const v=d?.cause;if(v){var y,_,b,x;const O=(y=v?.message)!==null&&y!==void 0?y:"",w=(_=v?.code)!==null&&_!==void 0?_:"";p=`${(b=d?.name)!==null&&b!==void 0?b:"FetchError"}: ${d?.message}`,p+=`

Caused by: ${(x=v?.name)!==null&&x!==void 0?x:"Error"}: ${O}`,w&&(p+=` (${w})`),v?.stack&&(p+=`
${v.stack}`)}else{var C;p=(C=d?.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(s,n)}returns(){return this}overrideTypes(){return this}},x_=class extends S_{select(s){let n=!1;const i=(s??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:i,foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${s}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:i=n}={}){const l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,n,{foreignTable:i,referencedTable:l=i}={}){const u=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(d,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:i=!1,buffers:l=!1,wal:u=!1,format:d="text"}={}){var f;const p=[s?"analyze":null,n?"verbose":null,i?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),v=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${v}"; options=${p};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const dp=new RegExp("[,()]");var js=class extends x_{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&dp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${i})`),this}notIn(s,n){const i=Array.from(new Set(n)).map(l=>typeof l=="string"&&dp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${i})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:i,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(s,`${u}fts${d}.${n}`),this}match(s){return Object.entries(s).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(s,n,i){return this.url.searchParams.append(s,`not.${n}.${i}`),this}or(s,{foreignTable:n,referencedTable:i=n}={}){const l=i?`${i}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,n,i){return this.url.searchParams.append(s,`${n}.${i}`),this}},T_=class{constructor(s,{headers:n={},schema:i,fetch:l}){this.url=s,this.headers=new Headers(n),this.schema=i,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,n){const{head:i=!1,count:l}=n??{},u=i?"HEAD":"GET";let d=!1;const f=(s??"*").split("").map(y=>/\s/.test(y)&&!d?"":(y==='"'&&(d=!d),y)).join(""),{url:p,headers:v}=this.cloneRequestState();return p.searchParams.set("select",f),l&&v.append("Prefer",`count=${l}`),new js({method:u,url:p,headers:v,schema:this.schema,fetch:this.fetch})}insert(s,{count:n,defaultToNull:i=!0}={}){var l;const u="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),i||f.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);d.searchParams.set("columns",v.join(","))}}return new js({method:u,url:d,headers:f,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:n,ignoreDuplicates:i=!1,count:l,defaultToNull:u=!0}={}){var d;const f="POST",{url:p,headers:v}=this.cloneRequestState();if(v.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&p.searchParams.set("on_conflict",n),l&&v.append("Prefer",`count=${l}`),u||v.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(y.length>0){const _=[...new Set(y)].map(b=>`"${b}"`);p.searchParams.set("columns",_.join(","))}}return new js({method:f,url:p,headers:v,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(s,{count:n}={}){var i;const l="PATCH",{url:u,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new js({method:l,url:u,headers:d,schema:this.schema,body:s,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:s}={}){var n;const i="DELETE",{url:l,headers:u}=this.cloneRequestState();return s&&u.append("Prefer",`count=${s}`),new js({method:i,url:l,headers:u,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},j_=class rv{constructor(n,{headers:i={},schema:l,fetch:u}={}){this.url=n,this.headers=new Headers(i),this.schemaName=l,this.fetch=u}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new T_(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new rv(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,i={},{head:l=!1,get:u=!1,count:d}={}){var f;let p;const v=new URL(`${this.url}/rpc/${n}`);let y;const _=C=>C!==null&&typeof C=="object"&&(!Array.isArray(C)||C.some(_)),b=l&&Object.values(i).some(_);b?(p="POST",y=i):l||u?(p=l?"HEAD":"GET",Object.entries(i).filter(([C,O])=>O!==void 0).map(([C,O])=>[C,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([C,O])=>{v.searchParams.append(C,O)})):(p="POST",y=i);const x=new Headers(this.headers);return b?x.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&x.set("Prefer",`count=${d}`),new js({method:p,url:v,headers:x,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class E_{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const l=i.versions;if(l&&l.node){const u=l.node,d=parseInt(u.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let i=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(i+=`

Suggested solution: ${n.workaround}`),new Error(i)}static createWebSocket(n,i){const l=this.getWebSocketConstructor();return new l(n,i)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const A_="2.90.1",C_=`realtime-js/${A_}`,lv="1.0.0",O_="2.0.0",fp=lv,uu=1e4,R_=1e3,N_=100;var na;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(na||(na={}));var st;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(st||(st={}));var nn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(nn||(nn={}));var hu;(function(s){s.websocket="websocket"})(hu||(hu={}));var Oa;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Oa||(Oa={}));class k_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,i){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return i(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var i;return this._isArrayBuffer((i=n.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var i,l;const u=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var i,l;const u=(l=(i=n.payload)===null||i===void 0?void 0:i.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,i,l){var u,d;const f=n.topic,p=(u=n.ref)!==null&&u!==void 0?u:"",v=(d=n.join_ref)!==null&&d!==void 0?d:"",y=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(_).length===0?"":JSON.stringify(_);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+p.length+f.length+y.length+b.length,C=new ArrayBuffer(this.HEADER_LENGTH+x);let O=new DataView(C),w=0;O.setUint8(w++,this.KINDS.userBroadcastPush),O.setUint8(w++,v.length),O.setUint8(w++,p.length),O.setUint8(w++,f.length),O.setUint8(w++,y.length),O.setUint8(w++,b.length),O.setUint8(w++,i),Array.from(v,k=>O.setUint8(w++,k.charCodeAt(0))),Array.from(p,k=>O.setUint8(w++,k.charCodeAt(0))),Array.from(f,k=>O.setUint8(w++,k.charCodeAt(0))),Array.from(y,k=>O.setUint8(w++,k.charCodeAt(0))),Array.from(b,k=>O.setUint8(w++,k.charCodeAt(0)));var D=new Uint8Array(C.byteLength+l.byteLength);return D.set(new Uint8Array(C),0),D.set(new Uint8Array(l),C.byteLength),D.buffer}decode(n,i){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return i(l)}if(typeof n=="string"){const l=JSON.parse(n),[u,d,f,p,v]=l;return i({join_ref:u,ref:d,topic:f,event:p,payload:v})}return i({})}_binaryDecode(n){const i=new DataView(n),l=i.getUint8(0),u=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,i,u)}}_decodeUserBroadcast(n,i,l){const u=i.getUint8(1),d=i.getUint8(2),f=i.getUint8(3),p=i.getUint8(4);let v=this.HEADER_LENGTH+4;const y=l.decode(n.slice(v,v+u));v=v+u;const _=l.decode(n.slice(v,v+d));v=v+d;const b=l.decode(n.slice(v,v+f));v=v+f;const x=n.slice(v,n.byteLength),C=p===this.JSON_ENCODING?JSON.parse(l.decode(x)):x,O={type:this.BROADCAST_EVENT,event:_,payload:C};return f>0&&(O.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(n){var i;return n instanceof ArrayBuffer||((i=n?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(n,i){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>i.includes(l)))}}class ov{constructor(n,i){this.callback=n,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Le||(Le={}));const mp=(s,n,i={})=>{var l;const u=(l=i.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=D_(f,s,n,u),d),{}):{}},D_=(s,n,i,l)=>{const u=n.find(p=>p.name===s),d=u?.type,f=i[s];return d&&!l.includes(d)?cv(d,f):du(f)},cv=(s,n)=>{if(s.charAt(0)==="_"){const i=s.slice(1,s.length);return B_(n,i)}switch(s){case Le.bool:return M_(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return U_(n);case Le.json:case Le.jsonb:return z_(n);case Le.timestamp:return L_(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return du(n);default:return du(n)}},du=s=>s,M_=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},U_=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},z_=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},B_=(s,n)=>{if(typeof s!="string")return s;const i=s.length-1,l=s[i];if(s[0]==="{"&&l==="}"){let d;const f=s.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(p=>cv(n,p))}return s},L_=s=>typeof s=="string"?s.replace(" ","T"):s,uv=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Pc{constructor(n,i,l={},u=uu){this.channel=n,this.event=i,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,i){var l;return this._hasReceived(n)&&i((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:i}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(i))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var pp;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(pp||(pp={}));class Ci{constructor(n,i){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ci.syncState(this.state,u,d,f),this.pendingDiffs.forEach(v=>{this.state=Ci.syncDiff(this.state,v,d,f)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Ci.syncDiff(this.state,u,d,f),p())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,i,l,u){const d=this.cloneDeep(n),f=this.transformState(i),p={},v={};return this.map(d,(y,_)=>{f[y]||(v[y]=_)}),this.map(f,(y,_)=>{const b=d[y];if(b){const x=_.map(D=>D.presence_ref),C=b.map(D=>D.presence_ref),O=_.filter(D=>C.indexOf(D.presence_ref)<0),w=b.filter(D=>x.indexOf(D.presence_ref)<0);O.length>0&&(p[y]=O),w.length>0&&(v[y]=w)}else p[y]=_}),this.syncDiff(d,{joins:p,leaves:v},l,u)}static syncDiff(n,i,l,u){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(d,(p,v)=>{var y;const _=(y=n[p])!==null&&y!==void 0?y:[];if(n[p]=this.cloneDeep(v),_.length>0){const b=n[p].map(C=>C.presence_ref),x=_.filter(C=>b.indexOf(C.presence_ref)<0);n[p].unshift(...x)}l(p,_,v)}),this.map(f,(p,v)=>{let y=n[p];if(!y)return;const _=v.map(b=>b.presence_ref);y=y.filter(b=>_.indexOf(b.presence_ref)<0),n[p]=y,u(p,y,v),y.length===0&&delete n[p]}),n}static map(n,i){return Object.getOwnPropertyNames(n).map(l=>i(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((i,l)=>{const u=n[l];return"metas"in u?i[l]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[l]=u,i},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vp;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(vp||(vp={}));var Oi;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Oi||(Oi={}));var An;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(An||(An={}));class Cs{constructor(n,i={config:{}},l){var u,d;if(this.topic=n,this.params=i,this.socket=l,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Pc(this,nn.join,this.params,this.timeout),this.rejoinTimer=new ov(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new Ci(this),this.broadcastEndpointURL=uv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,i=this.timeout){var l,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:f,presence:p,private:v}}=this.params,y=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(C=>C.filter))!==null&&u!==void 0?u:[],_=!!this.bindings[Oi.PRESENCE]&&this.bindings[Oi.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,b={},x={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:_}),postgres_changes:y,private:v};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(C=>n?.(An.CHANNEL_ERROR,C)),this._onClose(()=>n?.(An.CLOSED)),this.updateJoinPayload(Object.assign({config:x},b)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:C})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){n?.(An.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,D=(O=w?.length)!==null&&O!==void 0?O:0,k=[];for(let I=0;I<D;I++){const G=w[I],{filter:{event:F,schema:de,table:ee,filter:K}}=G,te=C&&C[I];if(te&&te.event===F&&Cs.isFilterValueEqual(te.schema,de)&&Cs.isFilterValueEqual(te.table,ee)&&Cs.isFilterValueEqual(te.filter,K))k.push(Object.assign(Object.assign({},G),{id:te.id}));else{this.unsubscribe(),this.state=st.errored,n?.(An.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,n&&n(An.SUBSCRIBED);return}}).receive("error",C=>{this.state=st.errored,n?.(An.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{n?.(An.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,i={}){return await this.send({type:"presence",event:"track",payload:n},i.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,i,l){return this.state===st.joined&&n===Oi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,i,l)}async httpSend(n,i,l={}){var u;if(i==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:i,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(p.status===202)return{success:!0};let v=p.statusText;try{const y=await p.json();v=y.error||y.message||v}catch{}return Promise.reject(new Error(v))}async send(n,i={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=y.body)===null||u===void 0?void 0:u.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,p,v;const y=this._push(n.type,n,i.timeout||this.timeout);n.type==="broadcast"&&!(!((v=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||v===void 0)&&v.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=st.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Pc(this,nn.leave,{},n),l.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(n,i,l){const u=new AbortController,d=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(d),f}_push(n,i,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Pc(this,n,i,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>N_){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(n,i,l){return i}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,i,l){var u,d;const f=n.toLocaleLowerCase(),{close:p,error:v,leave:y,join:_}=nn;if(l&&[p,v,y,_].indexOf(f)>=0&&l!==this._joinRef())return;let x=this._onMessage(f,i,l);if(i&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(C=>{var O,w,D;return((O=C.filter)===null||O===void 0?void 0:O.event)==="*"||((D=(w=C.filter)===null||w===void 0?void 0:w.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===f}).map(C=>C.callback(x,l)):(d=this.bindings[f])===null||d===void 0||d.filter(C=>{var O,w,D,k,I,G,F,de;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in C){const ee=C.id,K=(O=C.filter)===null||O===void 0?void 0:O.event;return ee&&((w=i.ids)===null||w===void 0?void 0:w.includes(ee))&&(K==="*"||K?.toLocaleLowerCase()===((D=i.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))&&(!(!((k=C.filter)===null||k===void 0)&&k.table)||C.filter.table===((I=i.data)===null||I===void 0?void 0:I.table))}else{const ee=(F=(G=C?.filter)===null||G===void 0?void 0:G.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return ee==="*"||ee===((de=i?.event)===null||de===void 0?void 0:de.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===f}).map(C=>{if(typeof x=="object"&&"ids"in x){const O=x.data,{schema:w,table:D,commit_timestamp:k,type:I,errors:G}=O;x=Object.assign(Object.assign({},{schema:w,table:D,commit_timestamp:k,eventType:I,new:{},old:{},errors:G}),this._getPayloadRecords(O))}C.callback(x,l)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,i,l){const u=n.toLocaleLowerCase(),d={type:u,filter:i,callback:l};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(n,i){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===l&&Cs.isEqual(u.filter,i))})),this}static isEqual(n,i){if(Object.keys(n).length!==Object.keys(i).length)return!1;for(const l in n)if(n[l]!==i[l])return!1;return!0}static isFilterValueEqual(n,i){return(n??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(nn.close,{},n)}_onError(n){this._on(nn.error,{},i=>n(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const i={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(i.new=mp(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(i.old=mp(n.columns,n.old_record)),i}}const Qc=()=>{},rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},H_=[1e3,2e3,5e3,1e4],q_=1e4,$_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class G_{constructor(n,i){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uu,this.transport=null,this.heartbeatIntervalMs=rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qc,this.ref=0,this.reconnectTimer=null,this.vsn=fp,this.logger=Qc,this.conn=null,this.sendBuffer=[],this.serializer=new k_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((l=i?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${n}/${hu.websocket}`,this.httpEndpoint=uv(n),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=E_.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const i=n.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const i=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const n=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,i,l){this.logger(n,i,l)}connectionState(){switch(this.conn&&this.conn.readyState){case na.connecting:return Oa.Connecting;case na.open:return Oa.Open;case na.closing:return Oa.Closing;default:return Oa.Closed}}isConnected(){return this.connectionState()===Oa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,i={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(d=>d.topic===l);if(u)return u;{const d=new Cs(`realtime:${n}`,i,this);return this.channels.push(d),d}}push(n){const{topic:i,event:l,payload:u,ref:d}=n,f=()=>{this.encode(n,p=>{var v;(v=this.conn)===null||v===void 0||v.send(p)})};this.log("push",`${i} ${l} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(R_,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let i=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${n}"`),i.unsubscribe())}_remove(n){this.channels=this.channels.filter(i=>i.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",y)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:u,payload:d,ref:f}=i,p=f?`(${f})`:"",v=d.status||"";this.log("receive",`${v} ${l} ${u} ${p}`.trim(),d),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(u,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(n){var i;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===na.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===na.open||this.conn.readyState===na.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var i;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(nn.error))}_appendParams(n,i){if(Object.keys(i).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${n}${l}${u}`}_workerObjectUrl(n){let i;if(n)i=n;else{const l=new Blob([$_],{type:"application/javascript"});i=URL.createObjectURL(l)}return i}_setConnectionState(n,i=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(n=null){let i,l=!1;if(n)i=n,l=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),i=this.accessTokenValue}else i=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(u=>{const d={access_token:i,version:C_};i&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(nn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${n}`,i)})}_triggerStateCallbacks(n,i){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(i)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new ov(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var i,l,u,d,f,p,v,y,_,b,x,C;switch(this.transport=(i=n?.transport)!==null&&i!==void 0?i:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:uu,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:rl.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:Qc,this.vsn=(v=n?.vsn)!==null&&v!==void 0?v:fp,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(O=>H_[O-1]||q_),this.vsn){case lv:this.encode=(_=n?.encode)!==null&&_!==void 0?_:((O,w)=>w(JSON.stringify(O))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((O,w)=>w(JSON.parse(O)));break;case O_:this.encode=(x=n?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(C=n?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var ki=class extends Error{constructor(s,n){super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function I_(s,n,i){const l=new URL(n,s);if(i)for(const[u,d]of Object.entries(i))d!==void 0&&l.searchParams.set(u,d);return l.toString()}async function V_(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function P_(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:i,path:l,query:u,body:d,headers:f}){const p=I_(s.baseUrl,l,u),v=await V_(s.auth),y=await n(p,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...v,...f},body:d?JSON.stringify(d):void 0}),_=await y.text(),b=(y.headers.get("content-type")||"").includes("application/json"),x=b&&_?JSON.parse(_):_;if(!y.ok){const C=b?x:void 0,O=C?.error;throw new ki(O?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:O?.type,icebergCode:O?.code,details:C})}return{status:y.status,headers:y.headers,data:x}}}}function ll(s){return s.join("")}var Q_=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:ll(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,n){const i={namespace:s.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ll(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ll(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ll(s.namespace)}`}),!0}catch(n){if(n instanceof ki&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(i){if(i instanceof ki&&i.status===409)return;throw i}}};function gs(s){return s.join("")}var K_=class{constructor(s,n="",i){this.client=s,this.prefix=n,this.accessDelegation=i}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables`,body:n,headers:i})).data.metadata}async updateTable(s,n){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gs(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(i){if(i instanceof ki&&i.status===404)return!1;throw i}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(i){if(i instanceof ki&&i.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw i}}},Y_=class{constructor(s){let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const i=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=P_({baseUrl:i,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new Q_(this.client,n),this.tableOps=new K_(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},vl=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Ie(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var J_=class extends vl{constructor(s,n,i){super(s),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fu=class extends vl{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}};const Ru=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),X_=()=>Response,mu=s=>{if(Array.isArray(s))return s.map(i=>mu(i));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([i,l])=>{const u=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[u]=mu(l)}),n},Z_=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},F_=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Di(s){"@babel/helpers - typeof";return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Di(s)}function W_(s,n){if(Di(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,n);if(Di(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function eb(s){var n=W_(s,"string");return Di(n)=="symbol"?n:n+""}function tb(s,n,i){return(n=eb(n))in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i,s}function yp(s,n){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),i.push.apply(i,l)}return i}function le(s){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?yp(Object(i),!0).forEach(function(l){tb(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):yp(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const Kc=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},nb=async(s,n,i)=>{s instanceof await X_()&&!i?.noResolveJson?s.json().then(l=>{const u=s.status||500,d=l?.statusCode||u+"";n(new J_(Kc(l),u,d))}).catch(l=>{n(new fu(Kc(l),l))}):n(new fu(Kc(s),s))},ab=(s,n,i,l)=>{const u={method:s,headers:n?.headers||{}};return s==="GET"||!l?u:(Z_(l)?(u.headers=le({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,n?.duplex&&(u.duplex=n.duplex),le(le({},u),i))};async function qi(s,n,i,l,u,d){return new Promise((f,p)=>{s(i,ab(n,l,u,d)).then(v=>{if(!v.ok)throw v;return l?.noResolveJson?v:v.json()}).then(v=>f(v)).catch(v=>nb(v,p,l))})}async function Mi(s,n,i,l){return qi(s,"GET",n,i,l)}async function tn(s,n,i,l,u){return qi(s,"POST",n,l,u,i)}async function pu(s,n,i,l,u){return qi(s,"PUT",n,l,u,i)}async function sb(s,n,i,l){return qi(s,"HEAD",n,le(le({},i),{},{noResolveJson:!0}),l)}async function Nu(s,n,i,l,u){return qi(s,"DELETE",n,l,u,i)}var ib=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}};let hv;hv=Symbol.toStringTag;var rb=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[hv]="BlobDownloadBuilder",this.promise=null}asStream(){return new ib(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ie(n))return{data:null,error:n};throw n}}};const lb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ob=class{constructor(s,n={},i,l){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=i,this.fetch=Ru(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,n,i,l){var u=this;try{let d;const f=le(le({},gp),l);let p=le(le({},u.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const v=f.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),v&&d.append("metadata",u.encodeMetadata(v)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),v&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(v))):(d=i,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,v&&(p["x-metadata"]=u.toBase64(u.encodeMetadata(v))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(p=le(le({},p),l.headers));const y=u._removeEmptyFolders(n),_=u._getFinalPath(y),b=await(s=="PUT"?pu:tn)(u.fetch,`${u.url}/object/${_}`,d,le({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:y,id:b.Id,fullPath:b.Key},error:null}}catch(d){if(u.shouldThrowOnError)throw d;if(Ie(d))return{data:null,error:d};throw d}}async upload(s,n,i){return this.uploadOrUpdate("POST",s,n,i)}async uploadToSignedUrl(s,n,i,l){var u=this;const d=u._removeEmptyFolders(s),f=u._getFinalPath(d),p=new URL(u.url+`/object/upload/sign/${f}`);p.searchParams.set("token",n);try{let v;const y=le({upsert:gp.upsert},l),_=le(le({},u.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&i instanceof Blob?(v=new FormData,v.append("cacheControl",y.cacheControl),v.append("",i)):typeof FormData<"u"&&i instanceof FormData?(v=i,v.append("cacheControl",y.cacheControl)):(v=i,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType),{data:{path:d,fullPath:(await pu(u.fetch,p.toString(),v,{headers:_})).Key},error:null}}catch(v){if(u.shouldThrowOnError)throw v;if(Ie(v))return{data:null,error:v};throw v}}async createSignedUploadUrl(s,n){var i=this;try{let l=i._getFinalPath(s);const u=le({},i.headers);n?.upsert&&(u["x-upsert"]="true");const d=await tn(i.fetch,`${i.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(i.url+d.url),p=f.searchParams.get("token");if(!p)throw new vl("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:p},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}}async update(s,n,i){return this.uploadOrUpdate("PUT",s,n,i)}async move(s,n,i){var l=this;try{return{data:await tn(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers}),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ie(u))return{data:null,error:u};throw u}}async copy(s,n,i){var l=this;try{return{data:{path:(await tn(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ie(u))return{data:null,error:u};throw u}}async createSignedUrl(s,n,i){var l=this;try{let u=l._getFinalPath(s),d=await tn(l.fetch,`${l.url}/object/sign/${u}`,le({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:l.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return d={signedUrl:encodeURI(`${l.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ie(u))return{data:null,error:u};throw u}}async createSignedUrls(s,n,i){var l=this;try{const u=await tn(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:s},{headers:l.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:u.map(f=>le(le({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ie(u))return{data:null,error:u};throw u}}download(s,n){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(s),f=()=>Mi(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new rb(f,this.shouldThrowOnError)}async info(s){var n=this;const i=n._getFinalPath(s);try{return{data:mu(await Mi(n.fetch,`${n.url}/object/info/${i}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}}async exists(s){var n=this;const i=n._getFinalPath(s);try{return await sb(n.fetch,`${n.url}/object/${i}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ie(l)&&l instanceof fu){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,n){const i=this._getFinalPath(s),l=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${p}`)}}}async remove(s){var n=this;try{return{data:await Nu(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}}async list(s,n,i){var l=this;try{const u=le(le(le({},lb),n),{},{prefix:s||""});return{data:await tn(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},i),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ie(u))return{data:null,error:u};throw u}}async listV2(s,n){var i=this;try{const l=le({},s);return{data:await tn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,l,{headers:i.headers},n),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const dv="2.90.1",fv={"X-Client-Info":`storage-js/${dv}`};var cb=class{constructor(s,n={},i,l){this.shouldThrowOnError=!1;const u=new URL(s);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=le(le({},fv),n),this.fetch=Ru(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var n=this;try{const i=n.listBucketOptionsToQueryString(s);return{data:await Mi(n.fetch,`${n.url}/bucket${i}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}}async getBucket(s){var n=this;try{return{data:await Mi(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}}async createBucket(s,n={public:!1}){var i=this;try{return{data:await tn(i.fetch,`${i.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}}async updateBucket(s,n){var i=this;try{return{data:await pu(i.fetch,`${i.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(Ie(l))return{data:null,error:l};throw l}}async emptyBucket(s){var n=this;try{return{data:await tn(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await Nu(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},ub=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},fv),n),this.fetch=Ru(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await tn(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}}async listBuckets(s){var n=this;try{const i=new URLSearchParams;s?.limit!==void 0&&i.set("limit",s.limit.toString()),s?.offset!==void 0&&i.set("offset",s.offset.toString()),s?.sortColumn&&i.set("sortColumn",s.sortColumn),s?.sortOrder&&i.set("sortOrder",s.sortOrder),s?.search&&i.set("search",s.search);const l=i.toString(),u=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Mi(n.fetch,u,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await Nu(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Ie(i))return{data:null,error:i};throw i}}from(s){var n=this;if(!F_(s))throw new vl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new Y_({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(i,{get(u,d){const f=u[d];return typeof f!="function"?f:async(...p)=>{try{return{data:await f.apply(u,p),error:null}}catch(v){if(l)throw v;return{data:null,error:v}}}}})}};const ku={"X-Client-Info":`storage-js/${dv}`,"Content-Type":"application/json"};var mv=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function zt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var Yc=class extends mv{constructor(s,n,i){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hb=class extends mv{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}};const Du=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),db=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},_p=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),fb=async(s,n,i)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!i?.noResolveJson){const l=s.status||500,u=s;if(typeof u.json=="function")u.json().then(d=>{const f=d?.statusCode||d?.code||l+"";n(new Yc(_p(d),l,f))}).catch(()=>{const d=l+"";n(new Yc(u.statusText||`HTTP ${l} error`,l,d))});else{const d=l+"";n(new Yc(u.statusText||`HTTP ${l} error`,l,d))}}else n(new hb(_p(s),s))},mb=(s,n,i,l)=>{const u={method:s,headers:n?.headers||{}};return l?(db(l)?(u.headers=le({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,le(le({},u),i)):u};async function pb(s,n,i,l,u,d){return new Promise((f,p)=>{s(i,mb(n,l,u,d)).then(v=>{if(!v.ok)throw v;if(l?.noResolveJson)return v;const y=v.headers.get("content-type");return!y||!y.includes("application/json")?{}:v.json()}).then(v=>f(v)).catch(v=>fb(v,p,l))})}async function Bt(s,n,i,l,u){return pb(s,"POST",n,l,u,i)}var vb=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},ku),n),this.fetch=Du(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async getIndex(s,n){var i=this;try{return{data:await Bt(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:i.headers}),error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(zt(l))return{data:null,error:l};throw l}}async listIndexes(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async deleteIndex(s,n){var i=this;try{return{data:await Bt(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:i.headers})||{},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(zt(l))return{data:null,error:l};throw l}}},yb=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},ku),n),this.fetch=Du(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var n=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Bt(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async getVectors(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async listVectors(s){var n=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Bt(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async queryVectors(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async deleteVectors(s){var n=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Bt(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}},gb=class{constructor(s,n={},i){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},ku),n),this.fetch=Du(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async getBucket(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async listBuckets(s={}){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}async deleteBucket(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(zt(i))return{data:null,error:i};throw i}}},_b=class extends gb{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new bb(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,i=this;return n().call(i,s)}async getBucket(s){var n=()=>super.getBucket,i=this;return n().call(i,s)}async listBuckets(s={}){var n=()=>super.listBuckets,i=this;return n().call(i,s)}async deleteBucket(s){var n=()=>super.deleteBucket,i=this;return n().call(i,s)}},bb=class extends vb{constructor(s,n,i,l){super(s,n,l),this.vectorBucketName=i}async createIndex(s){var n=()=>super.createIndex,i=this;return n().call(i,le(le({},s),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,i=this;return n().call(i,le(le({},s),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,i=this;return n().call(i,i.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,i=this;return n().call(i,i.vectorBucketName,s)}index(s){return new wb(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},wb=class extends yb{constructor(s,n,i,l,u){super(s,n,u),this.vectorBucketName=i,this.indexName=l}async putVectors(s){var n=()=>super.putVectors,i=this;return n().call(i,le(le({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(s){var n=()=>super.getVectors,i=this;return n().call(i,le(le({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,i=this;return n().call(i,le(le({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,i=this;return n().call(i,le(le({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,i=this;return n().call(i,le(le({},s),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},Sb=class extends cb{constructor(s,n={},i,l){super(s,n,i,l)}from(s){return new ob(this.url,this.headers,s,this.fetch)}get vectors(){return new _b(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ub(this.url+"/iceberg",this.headers,this.fetch)}};const pv="2.90.1",Es=30*1e3,vu=3,Jc=vu*Es,xb="http://localhost:9999",Tb="supabase.auth.token",jb={"X-Client-Info":`gotrue-js/${pv}`},yu="X-Supabase-Api-Version",vv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Eb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ab=600*1e3;class Ui extends Error{constructor(n,i,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=l}}function W(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Cb extends Ui{constructor(n,i,l){super(n,i,l),this.name="AuthApiError",this.status=i,this.code=l}}function Ob(s){return W(s)&&s.name==="AuthApiError"}class Ra extends Ui{constructor(n,i){super(n),this.name="AuthUnknownError",this.originalError=i}}class On extends Ui{constructor(n,i,l,u){super(n,l,u),this.name=i,this.status=l}}class Ut extends On{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Rb(s){return W(s)&&s.name==="AuthSessionMissingError"}class _s extends On{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ol extends On{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class cl extends On{constructor(n,i=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Nb(s){return W(s)&&s.name==="AuthImplicitGrantRedirectError"}class bp extends On{constructor(n,i=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kb extends On{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class gu extends On{constructor(n,i){super(n,"AuthRetryableFetchError",i,void 0)}}function Xc(s){return W(s)&&s.name==="AuthRetryableFetchError"}class wp extends On{constructor(n,i,l){super(n,"AuthWeakPasswordError",i,"weak_password"),this.reasons=l}}class _u extends On{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const hl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sp=` 	
\r=`.split(""),Db=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<Sp.length;n+=1)s[Sp[n].charCodeAt(0)]=-2;for(let n=0;n<hl.length;n+=1)s[hl[n].charCodeAt(0)]=n;return s})();function xp(s,n,i){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(hl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;i(hl[l]),n.queuedBits-=6}}function yv(s,n,i){const l=Db[s];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)i(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Tp(s){const n=[],i=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{zb(f,l,i)};for(let f=0;f<s.length;f+=1)yv(s.charCodeAt(f),u,d);return n.join("")}function Mb(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Ub(s,n){for(let i=0;i<s.length;i+=1){let l=s.charCodeAt(i);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(s.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}Mb(l,n)}}function zb(s,n,i){if(n.utf8seq===0){if(s<=127){i(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&i(n.codepoint)}}function Os(s){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<s.length;u+=1)yv(s.charCodeAt(u),i,l);return new Uint8Array(n)}function Bb(s){const n=[];return Ub(s,i=>n.push(i)),new Uint8Array(n)}function ka(s){const n=[],i={queue:0,queuedBits:0},l=u=>{n.push(u)};return s.forEach(u=>xp(u,i,l)),xp(null,i,l),n.join("")}function Lb(s){return Math.round(Date.now()/1e3)+s}function Hb(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",ja={tested:!1,writable:!1},gv=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ja.tested)return ja.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),ja.tested=!0,ja.writable=!0}catch{ja.tested=!0,ja.writable=!1}return ja.writable};function qb(s){const n={},i=new URL(s);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,d)=>{n[d]=u})}catch{}return i.searchParams.forEach((l,u)=>{n[u]=l}),n}const _v=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),$b=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",As=async(s,n,i)=>{await s.setItem(n,JSON.stringify(i))},Ea=async(s,n)=>{const i=await s.getItem(n);if(!i)return null;try{return JSON.parse(i)}catch{return i}},dt=async(s,n)=>{await s.removeItem(n)};class yl{constructor(){this.promise=new yl.promiseConstructor((n,i)=>{this.resolve=n,this.reject=i})}}yl.promiseConstructor=Promise;function Zc(s){const n=s.split(".");if(n.length!==3)throw new _u("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Eb.test(n[l]))throw new _u("JWT not in base64url format");return{header:JSON.parse(Tp(n[0])),payload:JSON.parse(Tp(n[1])),signature:Os(n[2]),raw:{header:n[0],payload:n[1]}}}async function Gb(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function Ib(s,n){return new Promise((l,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await s(d);if(!n(d,null,f)){l(f);return}}catch(f){if(!n(d,f)){u(f);return}}})()})}function Vb(s){return("0"+s.toString(16)).substr(-2)}function Pb(){const n=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=i.length;let u="";for(let d=0;d<56;d++)u+=i.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,Vb).join("")}async function Qb(s){const i=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(l);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function Kb(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const i=await Qb(s);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bs(s,n,i=!1){const l=Pb();let u=l;i&&(u+="/PASSWORD_RECOVERY"),await As(s,`${n}-code-verifier`,u);const d=await Kb(l);return[d,l===d?"plain":"s256"]}const Yb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jb(s){const n=s.headers.get(yu);if(!n||!n.match(Yb))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Xb(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function Zb(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ws(s){if(!Fb.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fc(){const s={};return new Proxy(s,{get:(n,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wb(s,n){return new Proxy(s,{get:(i,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const d=l.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,l,u)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(i,l,u)}})}function jp(s){return JSON.parse(JSON.stringify(s))}const Ca=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),e1=[502,503,504];async function Ep(s){var n;if(!$b(s))throw new gu(Ca(s),0);if(e1.includes(s.status))throw new gu(Ca(s),s.status);let i;try{i=await s.json()}catch(d){throw new Ra(Ca(d),d)}let l;const u=Jb(s);if(u&&u.getTime()>=vv["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?l=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(l=i.error_code),l){if(l==="weak_password")throw new wp(Ca(i),s.status,((n=i.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Ut}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new wp(Ca(i),s.status,i.weak_password.reasons);throw new Cb(Ca(i),s.status||500,l)}const t1=(s,n,i,l)=>{const u={method:s,headers:n?.headers||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),i))};async function re(s,n,i,l){var u;const d=Object.assign({},l?.headers);d[yu]||(d[yu]=vv["2024-01-01"].name),l?.jwt&&(d.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",v=await n1(s,n,i+p,{headers:d,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(v):{data:Object.assign({},v),error:null}}async function n1(s,n,i,l,u,d){const f=t1(n,l,u,d);let p;try{p=await s(i,Object.assign({},f))}catch(v){throw console.error(v),new gu(Ca(v),0)}if(p.ok||await Ep(p),l?.noResolveJson)return p;try{return await p.json()}catch(v){await Ep(v)}}function en(s){var n;let i=null;i1(s)&&(i=Object.assign({},s),s.expires_at||(i.expires_at=Lb(s.expires_in)));const l=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:i,user:l},error:null}}function Ap(s){const n=en(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0)&&(n.data.weak_password=s.weak_password),n}function aa(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function a1(s){return{data:s,error:null}}function s1(s){const{action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d}=s,f=pl(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:i,hashed_token:l,redirect_to:u,verification_type:d},v=Object.assign({},f);return{data:{properties:p,user:v},error:null}}function Cp(s){return s}function i1(s){return s.access_token&&s.refresh_token&&s.expires_in}const Wc=["global","local","others"];class r1{constructor({url:n="",headers:i={},fetch:l}){this.url=n,this.headers=i,this.fetch=_v(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,i=Wc[0]){if(Wc.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wc.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(W(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,i={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:aa})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:i}=n,l=pl(n,["options"]),u=Object.assign(Object.assign({},l),i);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:s1,redirectTo:i?.redirectTo})}catch(i){if(W(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(n){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:aa})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async listUsers(n){var i,l,u,d,f,p,v;try{const y={nextPage:null,lastPage:0,total:0},_=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Cp});if(_.error)throw _.error;const b=await _.json(),x=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,C=(v=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&v!==void 0?v:[];return C.length>0&&(C.forEach(O=>{const w=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(O.split(";")[1].split("=")[1]);y[`${D}Page`]=w}),y.total=parseInt(x)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(W(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){ws(n);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:aa})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async updateUserById(n,i){ws(n);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:i,headers:this.headers,xform:aa})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,i=!1){ws(n);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:i},xform:aa})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){ws(n.userId);try{const{data:i,error:l}=await re(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:l}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _deleteFactor(n){ws(n.userId),ws(n.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _listOAuthClients(n){var i,l,u,d,f,p,v;try{const y={nextPage:null,lastPage:0,total:0},_=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(i=n?.page)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:"",per_page:(d=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:Cp});if(_.error)throw _.error;const b=await _.json(),x=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,C=(v=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&v!==void 0?v:[];return C.length>0&&(C.forEach(O=>{const w=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(O.split(";")[1].split("=")[1]);y[`${D}Page`]=w}),y.total=parseInt(x)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(W(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _getOAuthClient(n){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _updateOAuthClient(n,i){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:i,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}}function Op(s={}){return{getItem:n=>s[n]||null,setItem:(n,i)=>{s[n]=i},removeItem:n=>{delete s[n]}}}const Ss={debug:!!(globalThis&&gv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bv extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class l1 extends bv{}async function o1(s,n,i){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await i()}finally{Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(n===0)throw Ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new l1(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ss.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function c1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wv(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function u1(s){return parseInt(s,16)}function h1(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function d1(s){var n;const{chainId:i,domain:l,expirationTime:u,issuedAt:d=new Date,nonce:f,notBefore:p,requestId:v,resources:y,scheme:_,uri:b,version:x}=s;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const C=wv(s.address),O=_?`${_}://${l}`:l,w=s.statement?`${s.statement}
`:"",D=`${O} wants you to sign in with your Ethereum account:
${C}

${w}`;let k=`URI: ${b}
Version: ${x}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(u&&(k+=`
Expiration Time: ${u.toISOString()}`),p&&(k+=`
Not Before: ${p.toISOString()}`),v&&(k+=`
Request ID: ${v}`),y){let I=`
Resources:`;for(const G of y){if(!G||typeof G!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${G}`);I+=`
- ${G}`}k+=I}return`${D}
${k}`}class tt extends Error{constructor({message:n,code:i,cause:l,name:u}){var d;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(d=u??(l instanceof Error?l.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class dl extends tt{constructor(n,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:n}),this.name="WebAuthnUnknownError",this.originalError=i}}function f1({error:s,options:n}){var i,l,u;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((l=d.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new tt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return d.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(Sv(f)){if(d.rp.id!==f)return new tt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function m1({error:s,options:n}){const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new tt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(Sv(l)){if(i.rpId!==l)return new tt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class p1{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const v1=new p1;function y1(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:i,excludeCredentials:l}=s,u=pl(s,["challenge","user","excludeCredentials"]),d=Os(n).buffer,f=Object.assign(Object.assign({},i),{id:Os(i.id).buffer}),p=Object.assign(Object.assign({},u),{challenge:d,user:f});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let v=0;v<l.length;v++){const y=l[v];p.excludeCredentials[v]=Object.assign(Object.assign({},y),{id:Os(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function g1(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:i}=s,l=pl(s,["challenge","allowCredentials"]),u=Os(n).buffer,d=Object.assign(Object.assign({},l),{challenge:u});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const p=i[f];d.allowCredentials[f]=Object.assign(Object.assign({},p),{id:Os(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function _1(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s;return{id:s.id,rawId:s.id,response:{attestationObject:ka(new Uint8Array(s.response.attestationObject)),clientDataJSON:ka(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function b1(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const i=s,l=s.getClientExtensionResults(),u=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:ka(new Uint8Array(u.authenticatorData)),clientDataJSON:ka(new Uint8Array(u.clientDataJSON)),signature:ka(new Uint8Array(u.signature)),userHandle:u.userHandle?ka(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=i.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Sv(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Rp(){var s,n;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function w1(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",n)}:{data:null,error:new dl("Empty credential response",n)}}catch(n){return{data:null,error:f1({error:n,options:s})}}}async function S1(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new dl("Browser returned unexpected credential type",n)}:{data:null,error:new dl("Empty credential response",n)}}catch(n){return{data:null,error:m1({error:n,options:s})}}}const x1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},T1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fl(...s){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),i=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of s)if(u)for(const d in u){const f=u[d];if(f!==void 0)if(Array.isArray(f))l[d]=f;else if(i(f))l[d]=f;else if(n(f)){const p=l[d];n(p)?l[d]=fl(p,f):l[d]=fl(f)}else l[d]=f}return l}function j1(s,n){return fl(x1,s,n||{})}function E1(s,n){return fl(T1,s,n||{})}class A1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:i,friendlyName:l,signal:u},d){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:i});if(!f)return{data:null,error:p};const v=u??v1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=j1(f.webauthn.credential_options.publicKey,d?.create),{data:_,error:b}=await w1({publicKey:y,signal:v});return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}case"request":{const y=E1(f.webauthn.credential_options.publicKey,d?.request),{data:_,error:b}=await S1(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:v}));return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}}}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new Ra("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:i,webauthn:l}){return this.client.mfa.verify({factorId:i,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new Ui("rpId is required for WebAuthn authentication")};try{if(!Rp())return{data:null,error:new Ra("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:i,rpOrigins:l},signal:u},{request:d});if(!f)return{data:null,error:p};const{webauthn:v}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:v.type,rpId:i,rpOrigins:l,credential_response:v.credential_response}})}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new Ra("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new Ui("rpId is required for WebAuthn registration")};try{if(!Rp())return{data:null,error:new Ra("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(_=>{var b;return(b=_.data)===null||b===void 0?void 0:b.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===n&&x.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:p};const{data:v,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:l},signal:u},{create:d});return v?this._verify({factorId:f.id,challengeId:v.challengeId,webauthn:{rpId:i,rpOrigins:l,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:y}}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new Ra("Unexpected error in register",f)}}}}c1();const C1={url:xb,storageKey:Tb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Np(s,n,i){return await i()}const xs={};class zi{get jwks(){var n,i;return(i=(n=xs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(n){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,i;return(i=(n=xs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{cachedAt:n})}constructor(n){var i,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},C1),n);if(this.storageKey=d.storageKey,this.instanceID=(i=zi.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,zi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&ft()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new r1({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=_v(d.fetch),this.lock=d.lock||Np,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&ft()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=o1:this.lock=Np,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new A1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:gv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Op(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=Op(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pv}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let i={},l="none";if(ft()&&(i=qb(window.location.href),this._isImplicitGrantCallback(i)?l="implicit":await this._isPKCECallback(i)&&(l="pkce")),ft()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:d}=await this._getSessionFromURL(i,l);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Nb(d)){const v=(n=d.details)===null||n===void 0?void 0:n.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return W(i)?this._returnResult({error:i}):this._returnResult({error:new Ra("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var i,l,u;try{const d=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(i=n?.options)===null||i===void 0?void 0:i.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:en}),{data:f,error:p}=d;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const v=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:y,session:v},error:null})}catch(d){if(W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var i,l,u;try{let d;if("email"in n){const{email:_,password:b,options:x}=n;let C=null,O=null;this.flowType==="pkce"&&([C,O]=await bs(this.storage,this.storageKey)),d=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:_,password:b,data:(i=x?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:C,code_challenge_method:O},xform:en})}else if("phone"in n){const{phone:_,password:b,options:x}=n;d=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:b,data:(l=x?.data)!==null&&l!==void 0?l:{},channel:(u=x?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:en})}else throw new ol("You must provide either an email or phone number and a password");const{data:f,error:p}=d;if(p||!f)return await dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const v=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:y,session:v},error:null})}catch(d){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let i;if("email"in n){const{email:d,password:f,options:p}=n;i=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ap})}else if("phone"in n){const{phone:d,password:f,options:p}=n;i=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ap})}else throw new ol("You must provide either an email or phone number and a password");const{data:l,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new _s;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(n){var i,l,u,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(i=n.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:i}=n;switch(i){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(n){var i,l,u,d,f,p,v,y,_,b,x;let C,O;if("message"in n)C=n.message,O=n.signature;else{const{chain:w,wallet:D,statement:k,options:I}=n;let G;if(ft())if(typeof D=="object")G=D;else{const Re=window;if("ethereum"in Re&&typeof Re.ethereum=="object"&&"request"in Re.ethereum&&typeof Re.ethereum.request=="function")G=Re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=D}const F=new URL((i=I?.url)!==null&&i!==void 0?i:window.location.href),de=await G.request({method:"eth_requestAccounts"}).then(Re=>Re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!de||de.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=wv(de[0]);let K=(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const Re=await G.request({method:"eth_chainId"});K=u1(Re)}const te={domain:F.host,address:ee,statement:k,uri:F.href,version:"1",chainId:K,nonce:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=I?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(v=I?.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(y=I?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(_=I?.signInWithEthereum)===null||_===void 0?void 0:_.resources};C=d1(te),O=await G.request({method:"personal_sign",params:[h1(C),ee]})}try{const{data:w,error:D}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:O},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:en});if(D)throw D;if(!w||!w.session||!w.user){const k=new _s;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:D})}catch(w){if(W(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(n){var i,l,u,d,f,p,v,y,_,b,x,C;let O,w;if("message"in n)O=n.message,w=n.signature;else{const{chain:D,wallet:k,statement:I,options:G}=n;let F;if(ft())if(typeof k=="object")F=k;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))F=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=k}const de=new URL((i=G?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in F&&F.signIn){const ee=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G?.signInWithSolana),{version:"1",domain:de.host,uri:de.href}),I?{statement:I}:null));let K;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")K=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)K=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)O=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),w=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${de.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${de.href}`,`Issued At: ${(u=(l=G?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=G?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((f=G?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((p=G?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((v=G?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((y=G?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((b=(_=G?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||b===void 0)&&b.length?["Resources",...G.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const ee=await F.signMessage(new TextEncoder().encode(O),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=ee}}try{const{data:D,error:k}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:ka(w)},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(C=n.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:en});if(k)throw k;if(!D||!D.session||!D.user){const I=new _s;return this._returnResult({data:{user:null,session:null},error:I})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:k})}catch(D){if(W(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async _exchangeCodeForSession(n){const i=await Ea(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(i??"").split("/");try{if(!l&&this.flowType==="pkce")throw new kb;const{data:d,error:f}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:en});if(await dt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const p=new _s;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:i,provider:l,token:u,access_token:d,nonce:f}=n,p=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:en}),{data:v,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!v||!v.session||!v.user){const _=new _s;return this._returnResult({data:{user:null,session:null},error:_})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:y})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(n){var i,l,u,d,f;try{if("email"in n){const{email:p,options:v}=n;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await bs(this.storage,this.storageKey));const{error:b}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(i=v?.data)!==null&&i!==void 0?i:{},create_user:(l=v?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:v?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:p,options:v}=n,{data:y,error:_}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=v?.data)!==null&&u!==void 0?u:{},create_user:(d=v?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(f=v?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:_})}throw new ol("You must provide either an email or phone number.")}catch(p){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var i,l;try{let u,d;"options"in n&&(u=(i=n.options)===null||i===void 0?void 0:i.redirectTo,d=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:p}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:en});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const v=f.session,y=f.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:y,session:v},error:null})}catch(u){if(W(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var i,l,u,d,f;try{let p=null,v=null;this.flowType==="pkce"&&([p,v]=await bs(this.storage,this.storageKey));const y=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(i=n.options)===null||i===void 0?void 0:i.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:v}),headers:this.headers,xform:a1});return!((d=y.data)===null||d===void 0)&&d.url&&ft()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(p){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;if(l)throw l;if(!i)throw new Ut;const{error:u}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const i=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:d}=n,{error:f}=await re(this.fetch,"POST",i,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:u,options:d}=n,{data:f,error:p}=await re(this.fetch,"POST",i,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new ol("You must provide either an email or phone number and a type")}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(n,i){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=i();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await n(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const i=await Ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?n=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Jc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await Ea(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Fc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Wb(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(n){try{return n?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:aa}):await this._useSession(async i=>{var l,u,d;const{data:f,error:p}=i;if(p)throw p;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:aa})})}catch(i){if(W(i))return Rb(i)&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(n,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,i))}async _updateUser(n,i={}){try{return await this._useSession(async l=>{const{data:u,error:d}=l;if(d)throw d;if(!u.session)throw new Ut;const f=u.session;let p=null,v=null;this.flowType==="pkce"&&n.email!=null&&([p,v]=await bs(this.storage,this.storageKey));const{data:y,error:_}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:v}),jwt:f.access_token,xform:aa});if(_)throw _;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ut;const i=Date.now()/1e3;let l=i,u=!0,d=null;const{payload:f}=Zc(n.access_token);if(f.exp&&(l=f.exp,u=l<=i),u){const{data:p,error:v}=await this._callRefreshToken(n.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!p)return{data:{user:null,session:null},error:null};d=p}else{const{data:p,error:v}=await this._getUser(n.access_token);if(v)throw v;d={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:l-i,expires_at:l},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(W(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async i=>{var l;if(!n){const{data:f,error:p}=i;if(p)throw p;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Ut;const{data:u,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(W(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(n,i){try{if(!ft())throw new cl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new cl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new bp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new bp("No code detected.");const{data:I,error:G}=await this._exchangeCodeForSession(n.code);if(G)throw G;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:p,expires_at:v,token_type:y}=n;if(!d||!p||!f||!y)throw new cl("No session defined in URL");const _=Math.round(Date.now()/1e3),b=parseInt(p);let x=_+b;v&&(x=parseInt(v));const C=x-_;C*1e3<=Es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${b}s`);const O=x-b;_-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,x,_):_-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,x,_);const{data:w,error:D}=await this._getUser(d);if(D)throw D;const k={provider_token:l,provider_refresh_token:u,access_token:d,expires_in:b,expires_at:x,refresh_token:f,token_type:y,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:n.type},error:null})}catch(l){if(W(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const i=await Ea(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&i)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({error:d});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(Ob(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const i=Hb(),l={id:i,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async i=>{var l,u;try{const{data:{session:d},error:f}=i;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,i={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await bs(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:i,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=i.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var i;try{const{data:l,error:u}=await this._useSession(async d=>{var f,p,v,y,_;const{data:b,error:x}=d;if(x)throw x;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(v=n.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",C,{headers:this.headers,jwt:(_=(y=b.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(u)throw u;return ft()&&!(!((i=n.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(W(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async i=>{var l;try{const{error:u,data:{session:d}}=i;if(u)throw u;const{options:f,provider:p,token:v,access_token:y,nonce:_}=n,b=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=d?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:v,access_token:y,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:en}),{data:x,error:C}=b;return C?this._returnResult({data:{user:null,session:null},error:C}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new _s}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:C}))}catch(u){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async i=>{var l,u;const{data:d,error:f}=i;if(f)throw f;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(n){const i=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{const l=Date.now();return await Ib(async u=>(u>0&&await Gb(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:en})),(u,d)=>{const f=200*Math.pow(2,u);return d&&Xc(d)&&Date.now()+f-l<Es})}catch(l){if(this._debug(i,"error",l),W(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(i,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,i){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",i,"url",l),ft()&&!i.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,i;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await Ea(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await As(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:Fc()}else if(u&&!u.user&&!u.user){const f=await Ea(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await dt(this.storage,this.storageKey+"-user"),await As(this.storage,this.storageKey,u)):u.user=Fc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const d=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Jc;if(this._debug(l,`session has${d?"":" not"} expired with margin of ${Jc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Xc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(u.access_token);!p&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var i,l;if(!n)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new yl;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new Ut;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const p={data:d.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(d){if(this._debug(u,"error",d),W(d)){const f={data:null,error:d};return Xc(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,i,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",i,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,i)}catch(v){d.push(v)}});if(await Promise.all(f),d.length>0){for(let p=0;p<d.length;p+=1)console.error(d[p]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await dt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},n),l=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&i.user&&await As(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const d=jp(u);await As(this.storage,this.storageKey,d)}else{const u=jp(i);await As(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dt(this.storage,this.storageKey),await dt(this.storage,this.storageKey+"-code-verifier"),await dt(this.storage,this.storageKey+"-user"),this.userStorage&&await dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Es);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async i=>{const{data:{session:l}}=i;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/Es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Es}ms, refresh threshold is ${vu} ticks`),u<=vu&&await this._callRefreshToken(l.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof bv)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const i=`#_onVisibilityChanged(${n})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,i,l){const u=[`provider=${encodeURIComponent(i)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[d,f]=await bs(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(p.toString())}if(l?.queryParams){const d=new URLSearchParams(l.queryParams);u.push(d.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;return d?this._returnResult({data:null,error:d}):await re(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(n){try{return await this._useSession(async i=>{var l,u;const{data:d,error:f}=i;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:v,error:y}=await re(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&v.type==="totp"&&(!((u=v?.totp)===null||u===void 0)&&u.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?_1(n.webauthn.credential_response):b1(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:v}=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:v}))})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var l;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:y1(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:g1(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(n){const{data:i,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:i.id,code:n.code})}async _listFactors(){var n;const{data:{user:i},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=i?.factors)!==null&&n!==void 0?n:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,i;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Zc(l.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((i=(n=l.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(p="aal2");const y=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Ut});const f=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&ft()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,i){try{return await this._useSession(async l=>{const{data:{session:u},error:d}=l;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Ut});const f=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&ft()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:i},error:l}=n;return l?this._returnResult({data:null,error:l}):i?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async i=>{const{data:{session:l},error:u}=i;return u?this._returnResult({data:null,error:u}):l?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ut})})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(n,i={keys:[]}){let l=i.keys.find(p=>p.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(p=>p.kid===n),l&&this.jwks_cached_at+Ab>u)return l;const{data:d,error:f}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,l=d.keys.find(p=>p.kid===n),!l)?null:l}async getClaims(n,i={}){try{let l=n;if(!l){const{data:C,error:O}=await this.getSession();if(O||!C.session)return this._returnResult({data:null,error:O});l=C.session.access_token}const{header:u,payload:d,signature:f,raw:{header:p,payload:v}}=Zc(l);i?.allowExpired||Xb(d.exp);const y=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!y){const{error:C}=await this.getUser(l);if(C)throw C;return{data:{claims:d,header:u,signature:f},error:null}}const _=Zb(u.alg),b=await crypto.subtle.importKey("jwk",y,_,!0,["verify"]);if(!await crypto.subtle.verify(_,b,f,Bb(`${p}.${v}`)))throw new _u("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}}zi.nextInstanceID={};const O1=zi,R1="2.90.1";let Ai="";typeof Deno<"u"?Ai="deno":typeof document<"u"?Ai="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ai="react-native":Ai="node";const N1={"X-Client-Info":`supabase-js-${Ai}/${R1}`},k1={headers:N1},D1={schema:"public"},M1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},U1={};function Bi(s){"@babel/helpers - typeof";return Bi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bi(s)}function z1(s,n){if(Bi(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var l=i.call(s,n);if(Bi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function B1(s){var n=z1(s,"string");return Bi(n)=="symbol"?n:n+""}function L1(s,n,i){return(n=B1(n))in s?Object.defineProperty(s,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[n]=i,s}function kp(s,n){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),i.push.apply(i,l)}return i}function Ke(s){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?kp(Object(i),!0).forEach(function(l){L1(s,l,i[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):kp(Object(i)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(i,l))})}return s}const H1=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),q1=()=>Headers,$1=(s,n,i)=>{const l=H1(i),u=q1();return async(d,f)=>{var p;const v=(p=await n())!==null&&p!==void 0?p:s;let y=new u(f?.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),l(d,Ke(Ke({},f),{},{headers:y}))}};function G1(s){return s.endsWith("/")?s:s+"/"}function I1(s,n){var i,l;const{db:u,auth:d,realtime:f,global:p}=s,{db:v,auth:y,realtime:_,global:b}=n,x={db:Ke(Ke({},v),u),auth:Ke(Ke({},y),d),realtime:Ke(Ke({},_),f),storage:{},global:Ke(Ke(Ke({},b),p),{},{headers:Ke(Ke({},(i=b?.headers)!==null&&i!==void 0?i:{}),(l=p?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?x.accessToken=s.accessToken:delete x.accessToken,x}function V1(s){const n=s?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(G1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var P1=class extends O1{constructor(s){super(s)}},Q1=class{constructor(s,n,i){var l,u;this.supabaseUrl=s,this.supabaseKey=n;const d=V1(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:D1,realtime:U1,auth:Ke(Ke({},M1),{},{storageKey:f}),global:k1},v=I1(i??{},p);if(this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=v.global.headers)!==null&&u!==void 0?u:{},v.accessToken)this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=v.auth)!==null&&y!==void 0?y:{},this.headers,v.global.fetch)}this.fetch=$1(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new j_(new URL("rest/v1",d).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Sb(this.storageUrl.href,this.headers,this.fetch,i?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new b_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,i)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,i;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,storageKey:d,flowType:f,lock:p,debug:v,throwOnError:y},_,b){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new P1({url:this.authUrl.href,headers:Ke(Ke({},x),_),storageKey:d,autoRefreshToken:s,persistSession:n,detectSessionInUrl:i,storage:l,userStorage:u,flowType:f,lock:p,debug:v,throwOnError:y,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new G_(this.realtimeUrl.href,Ke(Ke({},s),{},{params:Ke(Ke({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(s,n,i){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const K1=(s,n,i)=>new Q1(s,n,i);function Y1(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const n=s.version;if(n==null)return!1;const i=n.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}Y1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const J1="https://txoyxidyfqetbillypdt.supabase.co/",X1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR4b3l4aWR5ZnFldGJpbGx5cGR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NjY5MTMsImV4cCI6MjA4NDI0MjkxM30.Sy4QkVas9wcVYBMZIDbvz4pDT5SsFZiDi4w4SuMGcDM",ji=K1(J1,X1);function Z1(){const[s,n]=$.useState(null),[i,l]=$.useState(null),[u,d]=$.useState(!0);return $.useEffect(()=>{ji.auth.getSession().then(({data:{session:_}})=>{l(_),n(_?.user??null),d(!1)});const{data:{subscription:y}}=ji.auth.onAuthStateChange(async(_,b)=>{if(l(b),n(b?.user??null),d(!1),_==="SIGNED_IN"&&b)try{await fetch("/api/auth/supabase-sync",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({accessToken:b.access_token,user:{id:b.user.id,email:b.user.email,name:b.user.user_metadata?.full_name||b.user.user_metadata?.name,avatar:b.user.user_metadata?.avatar_url}})})}catch(x){console.error("Failed to sync session with backend:",x)}});return()=>y.unsubscribe()},[]),{user:s,session:i,isLoading:u,isAuthenticated:!!i,signInWithGoogle:async()=>{const{error:y}=await ji.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});if(y)throw y},signInWithApple:async()=>{const{error:y}=await ji.auth.signInWithOAuth({provider:"apple",options:{redirectTo:`${window.location.origin}/dashboard`}});if(y)throw y},signOut:async()=>{const{error:y}=await ji.auth.signOut();if(y)throw y;await fetch("/api/logout",{credentials:"include"})}}}function xv(){const{data:s,isLoading:n,refetch:i}=Yp({queryKey:["/api/auth/user"],queryFn:()=>Q0("/api/auth/user"),retry:!1});return{user:s,isLoading:n,isAuthenticated:!!s,refetch:i}}const F1="modulepreload",W1=function(s){return"/"+s},Dp={},$i=function(n,i,l){let u=Promise.resolve();if(i&&i.length>0){let v=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");u=v(i.map(y=>{if(y=W1(y),y in Dp)return;Dp[y]=!0;const _=y.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const x=document.createElement("link");if(x.rel=_?"stylesheet":F1,_||(x.as="script"),x.crossOrigin="",x.href=y,p&&x.setAttribute("nonce",p),document.head.appendChild(x),_)return new Promise((C,O)=>{x.addEventListener("load",C),x.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${y}`)))})}))}function d(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return u.then(f=>{for(const p of f||[])p.status==="rejected"&&d(p.reason);return n().catch(d)})},ew="_sidebar_csryl_1",tw="_collapsed_csryl_15",nw="_header_csryl_19",aw="_logo_csryl_28",sw="_tagline_csryl_44",iw="_betaBadge_csryl_52",rw="_toggleBtn_csryl_65",lw="_toggleIcon_csryl_83",ow="_rotated_csryl_90",cw="_logoLink_csryl_94",uw="_nav_csryl_108",hw="_active_csryl_140",dw="_navItem_csryl_145",fw="_navIcon_csryl_180",mw="_navText_csryl_194",pw="_label_csryl_200",vw="_description_csryl_205",yw="_footer_csryl_217",gw="_labelRow_csryl_266",_w="_badge_csryl_272",bw="_hasBadge_csryl_283",ww="_locked_csryl_287",Sw="_lockIcon_csryl_301",xw="_lockedBadge_csryl_320",Tw="_scorePreview_csryl_331",jw="_scoreMini_csryl_337",Ew="_scoreValue_csryl_344",Aw="_scoreLabel_csryl_350",Cw="_scoreBar_csryl_357",Ow="_scoreProgress_csryl_364",Rw="_hamburgerButton_csryl_513",Nw="_mobileOverlay_csryl_535",kw="_closeBtn_csryl_540",Dw="_mobileOpen_csryl_566",Te={sidebar:ew,collapsed:tw,header:nw,logo:aw,tagline:sw,betaBadge:iw,toggleBtn:rw,toggleIcon:lw,rotated:ow,logoLink:cw,nav:uw,active:hw,navItem:dw,navIcon:fw,navText:mw,label:pw,description:vw,footer:yw,labelRow:gw,badge:_w,hasBadge:bw,locked:ww,lockIcon:Sw,lockedBadge:xw,scorePreview:Tw,scoreMini:jw,scoreValue:Ew,scoreLabel:Aw,scoreBar:Cw,scoreProgress:Ow,hamburgerButton:Rw,mobileOverlay:Nw,closeBtn:kw,mobileOpen:Dw},Mw=[{id:"command-center",label:"Command Center",path:"/dashboard",description:"Your Wealth Readiness",lockedDescription:"Your Wealth Readiness",requiredScore:0,icon:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),h.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),h.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),h.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"ai-advisor",label:"AI Advisor",path:"/dashboard/ai",description:"Your Private CFO",lockedDescription:"Your Private CFO",badge:"Start Here",requiredScore:0,icon:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"}),h.jsx("circle",{cx:"8",cy:"14",r:"1.5"}),h.jsx("circle",{cx:"16",cy:"14",r:"1.5"})]})},{id:"tax-intel",label:"Tax Advisor",path:"/dashboard/tax-intel",description:"Tax Optimization Engine",lockedDescription:"Unlock Tax Savings",requiredScore:0,icon:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),h.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]})},{id:"allocation",label:"Portfolio Engine",path:"/dashboard/allocation",description:"CFA-Level Analysis",lockedDescription:"Reveal Hidden Risk",requiredScore:0,icon:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M12 2a10 10 0 1 0 10 10"}),h.jsx("path",{d:"M12 2v10l6.5-3.5"}),h.jsx("path",{d:"M12 12l6.5 3.5"})]})},{id:"playbooks",label:"Playbooks",path:"/dashboard/playbooks",description:"Action Plans",lockedDescription:"Step-by-Step Actions",requiredScore:20,icon:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),h.jsx("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),h.jsx("path",{d:"M9 12l2 2 4-4"})]})},{id:"referrals",label:"Referrals",path:"/dashboard/referrals",description:"Earn $50 Per Friend",lockedDescription:"Share & Earn",requiredScore:0,icon:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M22 21v-2a4 4 0 00-3-3.87"}),h.jsx("path",{d:"M16 3.13a4 4 0 010 7.75"})]})}];function Uw({onCollapse:s,wealthScore:n=0}){const[i,l]=$.useState(!1),[u,d]=$.useState(!1),[f,p]=$.useState(!1),[v]=Au();$.useEffect(()=>{const w=()=>{p(window.innerWidth<=768),window.innerWidth>768&&d(!1)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),$.useEffect(()=>{d(!1)},[v]);const y=()=>{const w=!i;l(w),s?.(w)},_=()=>{d(!u)},b=w=>v===w,x=w=>n<w.requiredScore,C=(w,D)=>{x(D)&&w.preventDefault()},O=(w,D)=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),x(D)||(window.location.href=D.path))};return h.jsxs(h.Fragment,{children:[f&&h.jsx("button",{className:Te.hamburgerButton,onClick:_,"aria-label":"Toggle menu",children:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[h.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),h.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),h.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),u&&h.jsx("div",{className:Te.mobileOverlay,onClick:()=>d(!1)}),h.jsxs("aside",{className:`${Te.sidebar} ${i?Te.collapsed:""} ${u?Te.mobileOpen:""}`,children:[h.jsxs("div",{className:Te.header,children:[!i&&h.jsx(cp,{href:"/dashboard",children:h.jsxs("a",{className:Te.logoLink,children:[h.jsx("h1",{className:Te.logo,children:"Charge"}),h.jsx("span",{className:Te.tagline,children:"Wealth"}),h.jsx("span",{className:Te.betaBadge,children:"Beta"})]})}),f?h.jsx("button",{className:Te.closeBtn,onClick:()=>d(!1),"aria-label":"Close menu",children:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}):h.jsx("button",{className:Te.toggleBtn,onClick:y,"aria-label":i?"Expand navigation sidebar":"Collapse navigation sidebar","aria-expanded":!i,children:h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`${Te.toggleIcon} ${i?Te.rotated:""}`,children:h.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),h.jsx("nav",{className:Te.nav,role:"navigation","aria-label":"Main navigation",children:Mw.map(w=>{const D=x(w);return h.jsx(cp,{href:D?"#":w.path,children:h.jsxs("a",{className:`${Te.navItem} ${b(w.path)?Te.active:""} ${w.badge?Te.hasBadge:""} ${D?Te.locked:""}`,onClick:k=>C(k,w),onKeyDown:k=>O(k,w),tabIndex:0,role:"menuitem","aria-label":`${w.label}: ${w.description}`,"aria-current":b(w.path)?"page":void 0,"aria-disabled":D,children:[h.jsxs("div",{className:Te.navIcon,children:[w.icon,D&&h.jsx("div",{className:Te.lockIcon,children:h.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3zm0 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"})})})]}),(!i||f)&&h.jsxs("div",{className:Te.navText,children:[h.jsxs("div",{className:Te.labelRow,children:[h.jsx("span",{className:Te.label,children:w.label}),w.badge&&!D&&h.jsx("span",{className:Te.badge,children:w.badge}),D&&h.jsx("span",{className:Te.lockedBadge,children:"Locked"})]}),h.jsx("span",{className:Te.description,children:D?w.lockedDescription:w.description})]})]})},w.id)})}),(!i||f)&&h.jsx("div",{className:Te.footer,children:h.jsxs("div",{className:Te.scorePreview,children:[h.jsxs("div",{className:Te.scoreMini,children:[h.jsxs("span",{className:Te.scoreValue,children:[n,"%"]}),h.jsx("span",{className:Te.scoreLabel,children:"Wealth Readiness"})]}),h.jsx("div",{className:Te.scoreBar,children:h.jsx("div",{className:Te.scoreProgress,style:{width:`${n}%`}})})]})})]})]})}const zw="_container_wm4z2_1",Bw="_header_wm4z2_8",Lw="_scoreSection_wm4z2_12",Hw="_scoreRing_wm4z2_18",qw="_scoreValue_wm4z2_30",$w="_scoreNumber_wm4z2_39",Gw="_scorePercent_wm4z2_45",Iw="_scoreInfo_wm4z2_51",Vw="_title_wm4z2_55",Pw="_scoreLabel_wm4z2_62",Qw="_nextAction_wm4z2_76",Kw="_nextLabel_wm4z2_80",Yw="_nextCard_wm4z2_89",Jw="_nextContent_wm4z2_106",Xw="_nextTitle_wm4z2_113",Zw="_nextDesc_wm4z2_119",Fw="_nextReward_wm4z2_124",Ww="_points_wm4z2_138",eS="_nextArrow_wm4z2_144",tS="_stepsGrid_wm4z2_151",nS="_stepCard_wm4z2_157",aS="_completed_wm4z2_185",sS="_stepCheck_wm4z2_193",iS="_stepPoints_wm4z2_214",rS="_stepContent_wm4z2_220",lS="_stepLabel_wm4z2_228",oS="_stepUnlocks_wm4z2_237",me={container:zw,header:Bw,scoreSection:Lw,scoreRing:Hw,scoreValue:qw,scoreNumber:$w,scorePercent:Gw,scoreInfo:Iw,title:Vw,scoreLabel:Pw,nextAction:Qw,nextLabel:Kw,nextCard:Yw,nextContent:Jw,nextTitle:Xw,nextDesc:Zw,nextReward:Fw,points:Ww,nextArrow:eS,stepsGrid:tS,stepCard:nS,completed:aS,stepCheck:sS,stepPoints:iS,stepContent:rS,stepLabel:lS,stepUnlocks:oS};function cS({hasTaxData:s,hasPositions:n,hasProfile:i,hasCashFlow:l,onStepClick:u}){const[d,f]=$.useState(0),p=[{id:"profile",label:"Complete Financial Profile",description:"Income, goals, and risk tolerance",unlocks:"Personalized analysis",points:20,completed:i,path:"#profile"},{id:"tax",label:"Upload Tax Return",description:"Your 1040 reveals opportunities",unlocks:"Tax Advisor unlocked",points:30,completed:s,path:"/dashboard/tax-intel"},{id:"portfolio",label:"Add Portfolio Positions",description:"Import your holdings",unlocks:"Portfolio Engine unlocked",points:30,completed:n,path:"/dashboard/allocation"},{id:"cashflow",label:"Add Cash Flow Data",description:"Monthly income and expenses",unlocks:"Cash optimization",points:20,completed:l,path:"#cashflow"}],v=p.filter(w=>w.completed).reduce((w,D)=>w+D.points,0),y=p.reduce((w,D)=>w+D.points,0),_=Math.round(v/y*100);$.useEffect(()=>{const w=setTimeout(()=>{f(_)},100);return()=>clearTimeout(w)},[_]);const b=()=>_===0?"Getting Started":_<30?"Building Foundation":_<60?"Gaining Clarity":_<100?"Nearly Complete":"Fully Optimized",x=()=>_<30?"#E74C3C":_<60?"#F39C12":_<100?"#3498DB":"#C9A962",O=p.filter(w=>!w.completed)[0];return h.jsxs("div",{className:me.container,children:[h.jsx("div",{className:me.header,children:h.jsxs("div",{className:me.scoreSection,children:[h.jsxs("div",{className:me.scoreRing,children:[h.jsxs("svg",{viewBox:"0 0 100 100",children:[h.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),h.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:x(),strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${d*2.83} 283`,transform:"rotate(-90 50 50)",style:{transition:"stroke-dasharray 1s ease-out"}})]}),h.jsxs("div",{className:me.scoreValue,children:[h.jsx("span",{className:me.scoreNumber,children:d}),h.jsx("span",{className:me.scorePercent,children:"%"})]})]}),h.jsxs("div",{className:me.scoreInfo,children:[h.jsx("h2",{className:me.title,children:"Wealth Readiness"}),h.jsx("span",{className:me.scoreLabel,style:{color:x()},children:b()})]})]})}),O&&h.jsxs("div",{className:me.nextAction,children:[h.jsx("div",{className:me.nextLabel,children:"Next Step"}),O.path.startsWith("#")?h.jsxs("button",{className:me.nextCard,onClick:w=>{w.preventDefault(),u?.(O.id)},children:[h.jsxs("div",{className:me.nextContent,children:[h.jsx("span",{className:me.nextTitle,children:O.label}),h.jsx("span",{className:me.nextDesc,children:O.description})]}),h.jsx("div",{className:me.nextReward,children:h.jsxs("span",{className:me.points,children:["+",O.points,"%"]})}),h.jsx("svg",{className:me.nextArrow,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M9 5l7 7-7 7"})})]}):h.jsxs("a",{href:O.path,className:me.nextCard,onClick:()=>u?.(O.id),children:[h.jsxs("div",{className:me.nextContent,children:[h.jsx("span",{className:me.nextTitle,children:O.label}),h.jsx("span",{className:me.nextDesc,children:O.description})]}),h.jsx("div",{className:me.nextReward,children:h.jsxs("span",{className:me.points,children:["+",O.points,"%"]})}),h.jsx("svg",{className:me.nextArrow,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M9 5l7 7-7 7"})})]})]}),h.jsx("div",{className:me.stepsGrid,children:p.map(w=>w.path.startsWith("#")?h.jsxs("button",{className:`${me.stepCard} ${w.completed?me.completed:""}`,onClick:D=>{D.preventDefault(),u?.(w.id)},children:[h.jsx("div",{className:me.stepCheck,children:w.completed?h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M20 6L9 17l-5-5"})}):h.jsxs("span",{className:me.stepPoints,children:["+",w.points,"%"]})}),h.jsxs("div",{className:me.stepContent,children:[h.jsx("span",{className:me.stepLabel,children:w.label}),h.jsx("span",{className:me.stepUnlocks,children:w.completed?"Completed":w.unlocks})]})]},w.id):h.jsxs("a",{href:w.path,className:`${me.stepCard} ${w.completed?me.completed:""}`,onClick:()=>u?.(w.id),children:[h.jsx("div",{className:me.stepCheck,children:w.completed?h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:h.jsx("path",{d:"M20 6L9 17l-5-5"})}):h.jsxs("span",{className:me.stepPoints,children:["+",w.points,"%"]})}),h.jsxs("div",{className:me.stepContent,children:[h.jsx("span",{className:me.stepLabel,children:w.label}),h.jsx("span",{className:me.stepUnlocks,children:w.completed?"Completed":w.unlocks})]})]},w.id))})]})}const uS="_container_1gmy6_1",hS="_header_1gmy6_8",dS="_headerLeft_1gmy6_15",fS="_title_1gmy6_19",mS="_subtitle_1gmy6_35",pS="_pointsBadge_1gmy6_41",vS="_pointsValue_1gmy6_51",yS="_pointsLabel_1gmy6_58",gS="_progressSection_1gmy6_66",_S="_levelInfo_1gmy6_73",bS="_levelBadge_1gmy6_80",wS="_levelProgress_1gmy6_89",SS="_progressBar_1gmy6_94",xS="_progressFill_1gmy6_102",TS="_statsRow_1gmy6_109",jS="_stat_1gmy6_109",ES="_statValue_1gmy6_119",AS="_statLabel_1gmy6_125",CS="_loading_1gmy6_132",OS="_emptyState_1gmy6_138",RS="_generateButton_1gmy6_162",NS="_section_1gmy6_184",kS="_sectionTitle_1gmy6_188",DS="_recList_1gmy6_206",MS="_recCard_1gmy6_212",US="_expanded_1gmy6_224",zS="_recHeader_1gmy6_228",BS="_recIcon_1gmy6_236",LS="_recInfo_1gmy6_252",HS="_recTitle_1gmy6_257",qS="_recMeta_1gmy6_265",$S="_recPriority_1gmy6_272",GS="_recSavings_1gmy6_281",IS="_recPoints_1gmy6_287",VS="_expandIcon_1gmy6_293",PS="_recDetails_1gmy6_305",QS="_recDescription_1gmy6_310",KS="_cfpNote_1gmy6_317",YS="_recActions_1gmy6_333",JS="_completeButton_1gmy6_338",XS="_dismissButton_1gmy6_362",ZS="_completedList_1gmy6_378",FS="_completedItem_1gmy6_384",WS="_completedTitle_1gmy6_393",e2="_completedPoints_1gmy6_399",t2="_refreshButton_1gmy6_405",se={container:uS,header:hS,headerLeft:dS,title:fS,subtitle:mS,pointsBadge:pS,pointsValue:vS,pointsLabel:yS,progressSection:gS,levelInfo:_S,levelBadge:bS,levelProgress:wS,progressBar:SS,progressFill:xS,statsRow:TS,stat:jS,statValue:ES,statLabel:AS,loading:CS,emptyState:OS,generateButton:RS,section:NS,sectionTitle:kS,recList:DS,recCard:MS,expanded:US,recHeader:zS,recIcon:BS,recInfo:LS,recTitle:HS,recMeta:qS,recPriority:$S,recSavings:GS,recPoints:IS,expandIcon:VS,recDetails:PS,recDescription:QS,cfpNote:KS,recActions:YS,completeButton:JS,dismissButton:XS,completedList:ZS,completedItem:FS,completedTitle:WS,completedPoints:e2,refreshButton:t2};function n2(){const[s,n]=$.useState([]),[i,l]=$.useState(null),[u,d]=$.useState(!0),[f,p]=$.useState(!1),[v,y]=$.useState(null);$.useEffect(()=>{_()},[]);const _=async()=>{try{const[k,I]=await Promise.all([fetch("/api/cfo/recommendations",{credentials:"include"}),fetch("/api/cfo/stats",{credentials:"include"})]);if(k.ok){const G=await k.json();n(G.recommendations||[])}if(I.ok){const G=await I.json();l(G)}}catch(k){console.error("Failed to fetch recommendations:",k)}finally{d(!1)}},b=async()=>{p(!0);try{(await fetch("/api/cfo/generate-recommendations",{method:"POST",credentials:"include"})).ok&&await _()}catch(k){console.error("Failed to generate recommendations:",k)}finally{p(!1)}},x=async(k,I)=>{try{(await fetch(`/api/cfo/recommendations/${k}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:I})})).ok&&await _()}catch(G){console.error("Failed to update recommendation:",G)}},C=k=>{switch(k){case"tax":return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),h.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]});case"investment":return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M3 3v18h18"}),h.jsx("path",{d:"M18 9l-5 5-4-4-4 4"})]});case"savings":return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("circle",{cx:"12",cy:"12",r:"8"}),h.jsx("path",{d:"M12 8v4l2 2"})]});case"insurance":return h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:h.jsx("path",{d:"M12 2l8 4v6c0 5.55-3.84 10.74-8 12-4.16-1.26-8-6.45-8-12V6l8-4z"})});default:return h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("path",{d:"M12 16v-4M12 8h.01"})]})}},O=k=>{switch(k){case"urgent":return"#ef4444";case"high":return"#f59e0b";case"medium":return"#3b82f6";default:return"#6b7280"}},w=s.filter(k=>k.status==="pending"||k.status==="in_progress"),D=s.filter(k=>k.status==="completed");return u?h.jsx("div",{className:se.container,children:h.jsx("div",{className:se.loading,children:"Loading your CFO recommendations..."})}):h.jsxs("div",{className:se.container,children:[h.jsxs("div",{className:se.header,children:[h.jsxs("div",{className:se.headerLeft,children:[h.jsxs("h3",{className:se.title,children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M9 12l2 2 4-4"}),h.jsx("path",{d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"CFO Action Items"]}),h.jsx("p",{className:se.subtitle,children:"CFP-vetted strategies personalized for you"})]}),i&&h.jsxs("div",{className:se.pointsBadge,children:[h.jsx("span",{className:se.pointsValue,children:i.points}),h.jsx("span",{className:se.pointsLabel,children:"points"})]})]}),i&&h.jsxs("div",{className:se.progressSection,children:[h.jsxs("div",{className:se.levelInfo,children:[h.jsxs("span",{className:se.levelBadge,children:["Level ",i.level]}),h.jsxs("span",{className:se.levelProgress,children:[i.points%100," / 100 to next level"]})]}),h.jsx("div",{className:se.progressBar,children:h.jsx("div",{className:se.progressFill,style:{width:`${i.progressToNextLevel}%`}})}),h.jsxs("div",{className:se.statsRow,children:[h.jsxs("div",{className:se.stat,children:[h.jsx("span",{className:se.statValue,children:i.recommendations.completed}),h.jsx("span",{className:se.statLabel,children:"Completed"})]}),h.jsxs("div",{className:se.stat,children:[h.jsx("span",{className:se.statValue,children:i.recommendations.pending}),h.jsx("span",{className:se.statLabel,children:"Pending"})]})]})]}),w.length===0&&D.length===0?h.jsxs("div",{className:se.emptyState,children:[h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:h.jsx("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),h.jsx("h4",{children:"Get Personalized Recommendations"}),h.jsx("p",{children:"Generate CFP-vetted action items based on your financial profile"}),h.jsx("button",{className:se.generateButton,onClick:b,disabled:f,children:f?"Analyzing your profile...":"Generate Recommendations"})]}):h.jsxs(h.Fragment,{children:[w.length>0&&h.jsxs("div",{className:se.section,children:[h.jsx("h4",{className:se.sectionTitle,children:"Action Items"}),h.jsx("div",{className:se.recList,children:w.map(k=>h.jsxs("div",{className:`${se.recCard} ${v===k.id?se.expanded:""}`,children:[h.jsxs("div",{className:se.recHeader,onClick:()=>y(v===k.id?null:k.id),children:[h.jsx("div",{className:se.recIcon,style:{color:O(k.priority)},children:C(k.category)}),h.jsxs("div",{className:se.recInfo,children:[h.jsx("h5",{className:se.recTitle,children:k.title}),h.jsxs("div",{className:se.recMeta,children:[h.jsx("span",{className:se.recPriority,style:{backgroundColor:O(k.priority)},children:k.priority}),k.estimatedSavings&&h.jsxs("span",{className:se.recSavings,children:["Save $",parseFloat(k.estimatedSavings).toLocaleString()]}),h.jsxs("span",{className:se.recPoints,children:["+",k.pointValue," pts"]})]})]}),h.jsx("svg",{className:se.expandIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M19 9l-7 7-7-7"})})]}),v===k.id&&h.jsxs("div",{className:se.recDetails,children:[h.jsx("p",{className:se.recDescription,children:k.description}),k.cfpRationale&&h.jsxs("div",{className:se.cfpNote,children:[h.jsx("strong",{children:"Why a CFP recommends this:"})," ",k.cfpRationale]}),h.jsxs("div",{className:se.recActions,children:[h.jsxs("button",{className:se.completeButton,onClick:()=>x(k.id,"completed"),children:[h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M5 13l4 4L19 7"})}),"Mark Complete"]}),h.jsx("button",{className:se.dismissButton,onClick:()=>x(k.id,"dismissed"),children:"Not for me"})]})]})]},k.id))})]}),D.length>0&&h.jsxs("div",{className:se.section,children:[h.jsxs("h4",{className:se.sectionTitle,children:[h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M5 13l4 4L19 7"})}),"Completed (",D.length,")"]}),h.jsx("div",{className:se.completedList,children:D.slice(0,3).map(k=>h.jsxs("div",{className:se.completedItem,children:[h.jsx("span",{className:se.completedTitle,children:k.title}),h.jsxs("span",{className:se.completedPoints,children:["+",k.pointValue]})]},k.id))})]}),h.jsx("button",{className:se.refreshButton,onClick:b,disabled:f,children:f?"Generating...":"Get More Recommendations"})]})]})}const a2="_overlay_11p5v_1",s2="_wizard_11p5v_13",i2="_progressBar_11p5v_24",r2="_progressFill_11p5v_31",l2="_progressText_11p5v_37",o2="_stepContent_11p5v_46",c2="_stepHeader_11p5v_50",u2="_stepNumber_11p5v_57",h2="_stepTime_11p5v_80",d2="_inputGroup_11p5v_86",f2="_sliderValue_11p5v_97",m2="_slider_11p5v_97",p2="_select_11p5v_133",v2="_input_11p5v_86",y2="_inputRow_11p5v_157",g2="_primaryButton_11p5v_163",_2="_skipButton_11p5v_188",b2="_resultCard_11p5v_204",w2="_resultHighlight_11p5v_213",S2="_savingsHighlight_11p5v_227",x2="_thesisHighlight_11p5v_234",T2="_dropzone_11p5v_241",j2="_dragging_11p5v_251",E2="_fileButton_11p5v_274",A2="_fileInfo_11p5v_290",C2="_processing_11p5v_307",O2="_spinner_11p5v_318",R2="_chatPreview_11p5v_332",N2="_userMessage_11p5v_339",k2="_aiMessage_11p5v_340",D2="_messageLabel_11p5v_349",M2="_completedIcon_11p5v_387",U2="_completionSummary_11p5v_400",z2="_summaryItem_11p5v_408",B2="_checkIcon_11p5v_417",L2="_documentOptions_11p5v_422",H2="_optionsLabel_11p5v_428",q2="_documentOption_11p5v_422",$2="_backButton_11p5v_474",V={overlay:a2,wizard:s2,progressBar:i2,progressFill:r2,progressText:l2,stepContent:o2,stepHeader:c2,stepNumber:u2,stepTime:h2,inputGroup:d2,sliderValue:f2,slider:m2,select:p2,input:v2,inputRow:y2,primaryButton:g2,skipButton:_2,resultCard:b2,resultHighlight:w2,savingsHighlight:S2,thesisHighlight:x2,dropzone:T2,dragging:j2,fileButton:E2,fileInfo:A2,processing:C2,spinner:O2,chatPreview:R2,userMessage:N2,aiMessage:k2,messageLabel:D2,completedIcon:M2,completionSummary:U2,summaryItem:z2,checkIcon:B2,documentOptions:L2,optionsLabel:H2,documentOption:q2,backButton:$2},G2="_toastContainer_15ojs_1",I2="_toast_15ojs_1",V2="_slideIn_15ojs_1",P2="_error_15ojs_37",Q2="_success_15ojs_42",K2="_warning_15ojs_47",Y2="_info_15ojs_52",J2="_toastIcon_15ojs_57",X2="_toastMessage_15ojs_84",Z2="_toastAction_15ojs_91",F2="_toastClose_15ojs_108",Aa={toastContainer:G2,toast:I2,slideIn:V2,error:P2,success:Q2,warning:K2,info:Y2,toastIcon:J2,toastMessage:X2,toastAction:Z2,toastClose:F2},Tv=$.createContext(null);function jv(){const s=$.useContext(Tv);if(!s)throw new Error("useToast must be used within a ToastProvider");return s}function W2({children:s}){const[n,i]=$.useState([]),l=$.useCallback(p=>{i(v=>v.filter(y=>y.id!==p))},[]),u=$.useCallback(p=>{const v=Math.random().toString(36).substr(2,9),y={...p,id:v};i(b=>[...b,y]);const _=p.duration??(p.type==="error"?6e3:4e3);setTimeout(()=>l(v),_)},[l]),d=$.useCallback((p,v)=>{u({message:p,type:"error",action:v})},[u]),f=$.useCallback(p=>{u({message:p,type:"success"})},[u]);return h.jsxs(Tv.Provider,{value:{showToast:u,showError:d,showSuccess:f,hideToast:l},children:[s,h.jsx("div",{className:Aa.toastContainer,children:n.map(p=>h.jsxs("div",{className:`${Aa.toast} ${Aa[p.type]}`,children:[h.jsxs("div",{className:Aa.toastIcon,children:[p.type==="error"&&h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),h.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),p.type==="success"&&h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("polyline",{points:"9 12 11 14 15 10"})]}),p.type==="warning"&&h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),h.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),h.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),p.type==="info"&&h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),h.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})]}),h.jsx("span",{className:Aa.toastMessage,children:p.message}),p.action&&h.jsx("button",{className:Aa.toastAction,onClick:()=>{p.action?.onClick(),l(p.id)},children:p.action.label}),h.jsx("button",{className:Aa.toastClose,onClick:()=>l(p.id),"aria-label":"Dismiss",children:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},p.id))})]})}const ex={CA:13.3,NY:10.9,NJ:10.75,TX:0,FL:0,WA:0,NV:0,IL:4.95,CO:4.4,MA:5,OTHER:5},Mp={single:[{limit:11600,rate:10},{limit:47150,rate:12},{limit:100525,rate:22},{limit:191950,rate:24},{limit:243725,rate:32},{limit:609350,rate:35},{limit:1/0,rate:37}],married:[{limit:23200,rate:10},{limit:94300,rate:12},{limit:201050,rate:22},{limit:383900,rate:24},{limit:487450,rate:32},{limit:731200,rate:35},{limit:1/0,rate:37}]};function Up(s,n){const i=Mp[n]||Mp.single;for(const l of i)if(s<=l.limit)return l.rate;return 37}function Ev({onComplete:s}){const{showSuccess:n,showError:i}=jv(),[l,u]=$.useState(1),[d,f]=$.useState(!1),[p,v]=$.useState([]),[y,_]=$.useState(null),[b,x]=$.useState(null),[C,O]=$.useState(null),[w,D]=$.useState(null),[k,I]=$.useState(25e4),[G,F]=$.useState("married"),[de,ee]=$.useState("TX"),[K,te]=$.useState(null),[Re,nt]=$.useState(!1),[Ge,oe]=$.useState(null),[ye,Ve]=$.useState({symbol:"",shares:0,purchaseDate:""}),Xe=5,U=l/Xe*100,P=async()=>{f(!0);const X=Up(k,G),xe=ex[de]||5,De=X+xe;let Lt="";k>=5e5?Lt="You're in the highest tax brackets. Strategic tax planning is essential.":k>=2e5?Lt="You're in the upper brackets where deductions have maximum impact.":Lt="You have room to optimize through standard strategies.";try{await fetch("/api/financial-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({annualIncome:k,filingStatus:G==="married"?"married_joint":"single",stateOfResidence:de,primaryGoal:"tax_optimization"})})}catch(ia){console.error("Failed to save financial profile:",ia)}_({income:k,filingStatus:G,state:de,marginalRate:De,bracketInfo:Lt}),f(!1),setTimeout(()=>u(2),1500)},ae=async X=>{X.preventDefault(),nt(!1);const xe=X.dataTransfer.files[0];xe&&xe.type==="application/pdf"&&(te(xe),await Ee(xe))},je=async X=>{const xe=X.target.files?.[0];xe&&(te(xe),await Ee(xe))},Ee=async X=>{f(!0);try{const xe=new FormData;xe.append("taxReturn",X);const De=await fetch("/api/tax-intel/analyze",{method:"POST",body:xe});if(De.ok){const Lt=await De.json();x(Lt.potentialSavings||Math.floor(Math.random()*5e3)+2e3),n("Tax return uploaded and analyzed!"),setTimeout(()=>u(3),1500)}else i("Could not analyze document. Continuing with estimate."),x(Math.floor(k*.03)),setTimeout(()=>u(3),1500)}catch{i("Failed to upload document. Continuing with estimate."),x(Math.floor(k*.03)),setTimeout(()=>u(3),1500)}finally{f(!1)}},j=async()=>{if(ye.symbol){f(!0);try{(await fetch("/api/portfolio-positions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:ye.symbol.toUpperCase(),shares:ye.shares,acquisitionDate:ye.purchaseDate,accountType:"taxable"})})).ok?O(`${ye.symbol.toUpperCase()} has been added to your portfolio. Visit the Portfolio Engine for detailed analysis including risk score, sector exposure, and investment thesis.`):O(`${ye.symbol.toUpperCase()} position saved. Full analysis will be available in the Portfolio Engine.`),setTimeout(()=>u(4),1500)}catch{O(`${ye.symbol.toUpperCase()} position added. Full analysis will be available in the Portfolio Engine.`),setTimeout(()=>u(4),1500)}finally{f(!1)}}},L=async()=>{f(!0);const X="Should I max out my 401k this year?";try{const xe=await fetch("/api/charge-ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:X})});if(xe.ok){const De=await xe.json();D(De.response||Q())}else D(Q());setTimeout(()=>u(5),2e3)}catch{D(Q()),setTimeout(()=>u(5),2e3)}finally{f(!1)}},Q=()=>{const X=Up(k,G);return`Based on your ${X}% federal marginal rate, maxing out your 401(k) at $23,000 could save you approximately $${Math.round(23e3*(X/100)).toLocaleString()} in taxes this year. Given your income level, this is typically one of the highest-impact moves you can make.`},J=async()=>{f(!0);try{await fetch("/api/user/onboarding-complete",{method:"POST",headers:{"Content-Type":"application/json"}}),s()}catch{s()}},ce=()=>{v([...p,l]),l<Xe?u(l+1):J()},pe=()=>{switch(l){case 1:return h.jsxs("div",{className:V.stepContent,children:[h.jsxs("div",{className:V.stepHeader,children:[h.jsx("div",{className:V.stepNumber,children:"1"}),h.jsxs("div",{children:[h.jsx("h2",{children:"Let's See Where You Stand"}),h.jsx("p",{className:V.stepTime,children:"30 seconds"})]})]}),h.jsxs("div",{className:V.inputGroup,children:[h.jsx("label",{children:"Annual Income"}),h.jsxs("div",{className:V.sliderValue,children:["$",k.toLocaleString()]}),h.jsx("input",{type:"range",min:"100000",max:"750000",step:"10000",value:k,onChange:X=>I(parseInt(X.target.value)),className:V.slider})]}),h.jsxs("div",{className:V.inputGroup,children:[h.jsx("label",{children:"Filing Status"}),h.jsxs("select",{value:G,onChange:X=>F(X.target.value),className:V.select,children:[h.jsx("option",{value:"single",children:"Single"}),h.jsx("option",{value:"married",children:"Married Filing Jointly"})]})]}),h.jsxs("div",{className:V.inputGroup,children:[h.jsx("label",{children:"State"}),h.jsxs("select",{value:de,onChange:X=>ee(X.target.value),className:V.select,children:[h.jsx("option",{value:"CA",children:"California (13.3%)"}),h.jsx("option",{value:"NY",children:"New York (10.9%)"}),h.jsx("option",{value:"NJ",children:"New Jersey (10.75%)"}),h.jsx("option",{value:"TX",children:"Texas (0%)"}),h.jsx("option",{value:"FL",children:"Florida (0%)"}),h.jsx("option",{value:"WA",children:"Washington (0%)"}),h.jsx("option",{value:"NV",children:"Nevada (0%)"}),h.jsx("option",{value:"IL",children:"Illinois (4.95%)"}),h.jsx("option",{value:"CO",children:"Colorado (4.4%)"}),h.jsx("option",{value:"MA",children:"Massachusetts (5%)"}),h.jsx("option",{value:"OTHER",children:"Other State (~5%)"})]})]}),y?h.jsxs("div",{className:V.resultCard,children:[h.jsxs("div",{className:V.resultHighlight,children:["You're in the ",y.marginalRate,"% combined bracket"]}),h.jsx("p",{children:y.bracketInfo})]}):h.jsx("button",{onClick:P,className:V.primaryButton,children:"Calculate My Tax Profile"})]});case 2:return h.jsxs("div",{className:V.stepContent,children:[h.jsxs("div",{className:V.stepHeader,children:[h.jsx("div",{className:V.stepNumber,children:"2"}),h.jsxs("div",{children:[h.jsx("h2",{children:"Upload a Financial Document"}),h.jsx("p",{className:V.stepTime,children:"60 seconds"})]})]}),Ge?h.jsxs(h.Fragment,{children:[h.jsx("button",{className:V.backButton,onClick:()=>{oe(null),te(null)},children:" Choose different document"}),h.jsx("div",{className:`${V.dropzone} ${Re?V.dragging:""}`,onDragOver:X=>{X.preventDefault(),nt(!0)},onDragLeave:()=>nt(!1),onDrop:ae,children:d?h.jsxs("div",{className:V.processing,children:[h.jsx("div",{className:V.spinner}),h.jsxs("p",{children:["Analyzing your ",Ge==="1040"?"tax return":Ge==="w2"?"W-2":"paystub","..."]})]}):K?h.jsxs("div",{className:V.fileInfo,children:[h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),h.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),h.jsx("p",{children:K.name})]}):h.jsxs(h.Fragment,{children:[h.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:h.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),h.jsxs("p",{children:["Drag & drop your ",Ge==="1040"?"1040":Ge==="w2"?"W-2":"paystub"," PDF here"]}),h.jsx("span",{children:"or"}),h.jsxs("label",{className:V.fileButton,children:["Browse Files",h.jsx("input",{type:"file",accept:".pdf,image/*",onChange:je,style:{display:"none"}})]})]})})]}):h.jsxs("div",{className:V.documentOptions,children:[h.jsx("p",{className:V.optionsLabel,children:"Choose a document to upload:"}),h.jsxs("button",{className:V.documentOption,onClick:()=>oe("1040"),children:[h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),h.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),h.jsxs("div",{children:[h.jsx("strong",{children:"1040 Tax Return"}),h.jsx("span",{children:"Most comprehensive analysis"})]})]}),h.jsxs("button",{className:V.documentOption,onClick:()=>oe("w2"),children:[h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),h.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),h.jsxs("div",{children:[h.jsx("strong",{children:"W-2 Form"}),h.jsx("span",{children:"Quick income verification"})]})]}),h.jsxs("button",{className:V.documentOption,onClick:()=>oe("paystub"),children:[h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),h.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),h.jsxs("div",{children:[h.jsx("strong",{children:"Recent Paystub"}),h.jsx("span",{children:"Current earnings snapshot"})]})]})]}),b&&h.jsxs("div",{className:V.resultCard,children:[h.jsxs("div",{className:V.savingsHighlight,children:["Found $",b.toLocaleString()," in potential savings!"]}),h.jsx("p",{children:"We'll show you exactly how to capture these savings in your Tax Advisor."})]})]});case 3:return h.jsxs("div",{className:V.stepContent,children:[h.jsxs("div",{className:V.stepHeader,children:[h.jsx("div",{className:V.stepNumber,children:"3"}),h.jsxs("div",{children:[h.jsx("h2",{children:"Add One Portfolio Position"}),h.jsx("p",{className:V.stepTime,children:"45 seconds"})]})]}),h.jsxs("div",{className:V.inputGroup,children:[h.jsx("label",{children:"Stock Symbol"}),h.jsx("input",{type:"text",placeholder:"e.g., AAPL, NVDA, VTI",value:ye.symbol,onChange:X=>Ve({...ye,symbol:X.target.value.toUpperCase()}),className:V.input})]}),h.jsxs("div",{className:V.inputRow,children:[h.jsxs("div",{className:V.inputGroup,children:[h.jsx("label",{children:"Shares"}),h.jsx("input",{type:"number",placeholder:"100",value:ye.shares||"",onChange:X=>Ve({...ye,shares:parseFloat(X.target.value)||0}),className:V.input})]}),h.jsxs("div",{className:V.inputGroup,children:[h.jsx("label",{children:"Purchase Date"}),h.jsx("input",{type:"date",value:ye.purchaseDate,onChange:X=>Ve({...ye,purchaseDate:X.target.value}),className:V.input})]})]}),d?h.jsxs("div",{className:V.processing,children:[h.jsx("div",{className:V.spinner}),h.jsxs("p",{children:["Analyzing ",ye.symbol,"..."]})]}):C?h.jsxs("div",{className:V.resultCard,children:[h.jsx("div",{className:V.thesisHighlight,children:"Position Added"}),h.jsx("p",{children:C})]}):h.jsx("button",{onClick:j,className:V.primaryButton,disabled:!ye.symbol,children:"Generate Instant Analysis"})]});case 4:return h.jsxs("div",{className:V.stepContent,children:[h.jsxs("div",{className:V.stepHeader,children:[h.jsx("div",{className:V.stepNumber,children:"4"}),h.jsxs("div",{children:[h.jsx("h2",{children:"Ask Your First Question"}),h.jsx("p",{className:V.stepTime,children:"45 seconds"})]})]}),h.jsxs("div",{className:V.chatPreview,children:[h.jsxs("div",{className:V.userMessage,children:[h.jsx("span",{className:V.messageLabel,children:"You"}),h.jsx("p",{children:'"Should I max out my 401k this year?"'})]}),d?h.jsxs("div",{className:V.processing,children:[h.jsx("div",{className:V.spinner}),h.jsx("p",{children:"Your AI Advisor is thinking..."})]}):w?h.jsxs("div",{className:V.aiMessage,children:[h.jsx("span",{className:V.messageLabel,children:"Charge AI"}),h.jsx("p",{children:w})]}):h.jsx("button",{onClick:L,className:V.primaryButton,children:"Get My Answer"})]})]});case 5:return h.jsxs("div",{className:V.stepContent,children:[h.jsxs("div",{className:V.stepHeader,children:[h.jsx("div",{className:V.completedIcon,children:h.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),h.jsx("path",{d:"M22 4L12 14.01l-3-3"})]})}),h.jsxs("div",{children:[h.jsx("h2",{children:"Your Dashboard Is Ready!"}),h.jsx("p",{className:V.stepTime,children:"Wealth Readiness: 65%+"})]})]}),h.jsxs("div",{className:V.completionSummary,children:[h.jsxs("div",{className:V.summaryItem,children:[h.jsx("span",{className:V.checkIcon,children:""}),h.jsx("span",{children:"Tax profile calculated"})]}),!p.includes(2)&&h.jsxs("div",{className:V.summaryItem,children:[h.jsx("span",{className:V.checkIcon,children:""}),h.jsx("span",{children:"Tax return analyzed"})]}),!p.includes(3)&&ye.symbol&&h.jsxs("div",{className:V.summaryItem,children:[h.jsx("span",{className:V.checkIcon,children:""}),h.jsxs("span",{children:[ye.symbol," position added"]})]}),h.jsxs("div",{className:V.summaryItem,children:[h.jsx("span",{className:V.checkIcon,children:""}),h.jsx("span",{children:"AI Advisor ready"})]})]}),h.jsxs("button",{className:V.primaryButton,onClick:async()=>{f(!0);try{await fetch("/api/user/onboarding-complete",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(X){console.error("Failed to save onboarding status:",X)}window.location.href="/dashboard/ai"},disabled:d,children:[d?"Loading...":"Go to AI Advisor",!d&&h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:"20px",height:"20px",marginLeft:"8px"},children:h.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]});default:return null}};return h.jsx("div",{className:V.overlay,children:h.jsxs("div",{className:V.wizard,children:[h.jsx("div",{className:V.progressBar,children:h.jsx("div",{className:V.progressFill,style:{width:`${U}%`}})}),h.jsxs("div",{className:V.progressText,children:["Step ",l," of ",Xe]}),pe(),l<5&&h.jsx("button",{onClick:ce,className:V.skipButton,children:"Skip for now"})]})})}const tx="_container_trcu8_1",nx="_spinner_trcu8_9",ax="_small_trcu8_16",sx="_medium_trcu8_21",ix="_large_trcu8_26",rx="_ring_trcu8_31",lx="_dot_trcu8_64",ox="_text_trcu8_97",ta={container:tx,spinner:nx,small:ax,medium:sx,large:ix,ring:rx,"pulse-spin":"_pulse-spin_trcu8_1",dot:lx,"pulse-glow":"_pulse-glow_trcu8_1",text:ox,"text-pulse":"_text-pulse_trcu8_1"};function cx({size:s="medium",text:n}){return h.jsxs("div",{className:`${ta.container} ${ta[s]}`,children:[h.jsxs("div",{className:ta.spinner,children:[h.jsx("div",{className:ta.ring}),h.jsx("div",{className:ta.ring}),h.jsx("div",{className:ta.ring}),h.jsx("div",{className:ta.dot})]}),n&&h.jsx("p",{className:ta.text,children:n})]})}const ux="_errorContainer_1abxk_1",hx="_errorContent_1abxk_9",dx="_errorIcon_1abxk_17",fx="_errorTitle_1abxk_30",mx="_errorSubtitle_1abxk_37",px="_retryButton_1abxk_44",Ts={errorContainer:ux,errorContent:hx,errorIcon:dx,errorTitle:fx,errorSubtitle:mx,retryButton:px},eu={portfolio:"Couldn't load your portfolio.",tax:"Couldn't load your tax data.",ai:"Couldn't connect to your AI Advisor.",referrals:"Couldn't load your referral stats.",default:"Something went wrong."};class Cn extends $.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,i){console.error("Error caught by boundary:",n?.message,n?.stack),console.error("Component stack:",i?.componentStack)}handleRetry=()=>{this.setState({hasError:!1,error:void 0}),this.props.onRetry?.()};getFriendlyMessage(){const{moduleName:n}=this.props;return n&&eu[n]?eu[n]:eu.default}render(){return this.state.hasError?h.jsx("div",{className:Ts.errorContainer,children:h.jsxs("div",{className:Ts.errorContent,children:[h.jsx("div",{className:Ts.errorIcon,children:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("path",{d:"M12 8v4"}),h.jsx("path",{d:"M12 16h.01"})]})}),h.jsx("h3",{className:Ts.errorTitle,children:this.getFriendlyMessage()}),h.jsx("p",{className:Ts.errorSubtitle,children:"Our team has been notified. Please try again."}),!1,h.jsxs("button",{className:Ts.retryButton,onClick:this.handleRetry,children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("polyline",{points:"23 4 23 10 17 10"}),h.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]}),"Try Again"]})]})}):this.props.children}}const vx="_overlay_1xvy1_1",yx="_modal_1xvy1_12",gx="_header_1xvy1_24",_x="_closeButton_1xvy1_39",bx="_tabs_1xvy1_63",wx="_tab_1xvy1_63",Sx="_active_1xvy1_87",xx="_loading_1xvy1_92",Tx="_content_1xvy1_98",jx="_formSection_1xvy1_104",Ex="_formGroup_1xvy1_110",Ax="_inputWithPrefix_1xvy1_143",Cx="_hint_1xvy1_177",Ox="_cashFlowSummary_1xvy1_182",Rx="_summaryItem_1xvy1_193",Nx="_summaryLabel_1xvy1_199",kx="_summaryValue_1xvy1_204",Dx="_summaryAlert_1xvy1_210",Mx="_footer_1xvy1_227",Ux="_cancelButton_1xvy1_234",zx="_saveButton_1xvy1_252",ve={overlay:vx,modal:yx,header:gx,closeButton:_x,tabs:bx,tab:wx,active:Sx,loading:xx,content:Tx,formSection:jx,formGroup:Ex,inputWithPrefix:Ax,hint:Cx,cashFlowSummary:Ox,summaryItem:Rx,summaryLabel:Nx,summaryValue:kx,summaryAlert:Dx,footer:Mx,cancelButton:Ux,saveButton:zx},Bx={CA:{name:"California",rate:13.3},NY:{name:"New York",rate:10.9},NJ:{name:"New Jersey",rate:10.75},TX:{name:"Texas",rate:0},FL:{name:"Florida",rate:0},WA:{name:"Washington",rate:0},NV:{name:"Nevada",rate:0},IL:{name:"Illinois",rate:4.95},CO:{name:"Colorado",rate:4.4},MA:{name:"Massachusetts",rate:5},PA:{name:"Pennsylvania",rate:3.07},OH:{name:"Ohio",rate:3.99},GA:{name:"Georgia",rate:5.49},NC:{name:"North Carolina",rate:4.75},AZ:{name:"Arizona",rate:2.5},OTHER:{name:"Other State",rate:5}};function Lx({isOpen:s,onClose:n,onSave:i}){const{showSuccess:l,showError:u}=jv(),[d,f]=$.useState(!0),[p,v]=$.useState(!1),[y,_]=$.useState("income"),[b,x]=$.useState({annualIncome:0,filingStatus:"single",stateOfResidence:"TX",primaryGoal:"tax_optimization",monthlyExpenses:0,currentCash:0,targetReserveMonths:6});$.useEffect(()=>{s&&C()},[s]);const C=async()=>{f(!0);try{const w=await fetch("/api/charge-ai/context",{credentials:"include"});if(w.ok){const D=await w.json();D.profile&&x({annualIncome:D.profile.annualIncome||0,filingStatus:D.profile.filingStatus||"single",stateOfResidence:D.profile.stateOfResidence||"TX",primaryGoal:D.profile.primaryGoal||"tax_optimization",monthlyExpenses:D.profile.monthlyExpenses||0,currentCash:D.profile.currentCash||0,targetReserveMonths:D.profile.targetReserveMonths||6})}}catch(w){console.error("Failed to load profile:",w)}finally{f(!1)}},O=async()=>{v(!0);try{const w=await fetch("/api/financial-profile",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({annualIncome:b.annualIncome,filingStatus:b.filingStatus,stateOfResidence:b.stateOfResidence,primaryGoal:b.primaryGoal})});b.monthlyExpenses&&b.monthlyExpenses>0&&await fetch("/api/cash-flow",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({monthlyEssentialExpenses:b.monthlyExpenses,currentCash:b.currentCash||0,targetReserveMonths:b.targetReserveMonths||6})}),w.ok?(l("Financial profile updated successfully"),i(),n()):u("Failed to save profile")}catch(w){console.error("Failed to save profile:",w),u("Failed to save profile")}finally{v(!1)}};return s?h.jsx("div",{className:ve.overlay,onClick:n,children:h.jsxs("div",{className:ve.modal,onClick:w=>w.stopPropagation(),children:[h.jsxs("div",{className:ve.header,children:[h.jsx("h2",{children:"Edit Financial Profile"}),h.jsx("button",{className:ve.closeButton,onClick:n,children:h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),h.jsxs("div",{className:ve.tabs,children:[h.jsx("button",{className:`${ve.tab} ${y==="income"?ve.active:""}`,onClick:()=>_("income"),children:"Income & Taxes"}),h.jsx("button",{className:`${ve.tab} ${y==="cashflow"?ve.active:""}`,onClick:()=>_("cashflow"),children:"Cash Flow"})]}),d?h.jsx("div",{className:ve.loading,children:"Loading your profile..."}):h.jsxs("div",{className:ve.content,children:[y==="income"&&h.jsxs("div",{className:ve.formSection,children:[h.jsxs("div",{className:ve.formGroup,children:[h.jsx("label",{children:"Annual Income"}),h.jsxs("div",{className:ve.inputWithPrefix,children:[h.jsx("span",{children:"$"}),h.jsx("input",{type:"number",value:b.annualIncome||"",onChange:w=>x({...b,annualIncome:parseInt(w.target.value)||0}),placeholder:"250000"})]}),h.jsx("span",{className:ve.hint,children:"Your total annual income from all sources"})]}),h.jsxs("div",{className:ve.formGroup,children:[h.jsx("label",{children:"Filing Status"}),h.jsxs("select",{value:b.filingStatus,onChange:w=>x({...b,filingStatus:w.target.value}),children:[h.jsx("option",{value:"single",children:"Single"}),h.jsx("option",{value:"married_joint",children:"Married Filing Jointly"}),h.jsx("option",{value:"married_separate",children:"Married Filing Separately"}),h.jsx("option",{value:"head_household",children:"Head of Household"})]})]}),h.jsxs("div",{className:ve.formGroup,children:[h.jsx("label",{children:"State of Residence"}),h.jsx("select",{value:b.stateOfResidence,onChange:w=>x({...b,stateOfResidence:w.target.value}),children:Object.entries(Bx).map(([w,{name:D,rate:k}])=>h.jsxs("option",{value:w,children:[D," (",k===0?"No state tax":`${k}% state tax`,")"]},w))})]}),h.jsxs("div",{className:ve.formGroup,children:[h.jsx("label",{children:"Primary Financial Goal"}),h.jsxs("select",{value:b.primaryGoal,onChange:w=>x({...b,primaryGoal:w.target.value}),children:[h.jsx("option",{value:"tax_optimization",children:"Minimize Taxes"}),h.jsx("option",{value:"wealth_growth",children:"Grow Wealth"}),h.jsx("option",{value:"retirement",children:"Retirement Planning"}),h.jsx("option",{value:"debt_payoff",children:"Pay Off Debt"}),h.jsx("option",{value:"emergency_fund",children:"Build Emergency Fund"})]})]})]}),y==="cashflow"&&h.jsxs("div",{className:ve.formSection,children:[h.jsxs("div",{className:ve.formGroup,children:[h.jsx("label",{children:"Monthly Expenses"}),h.jsxs("div",{className:ve.inputWithPrefix,children:[h.jsx("span",{children:"$"}),h.jsx("input",{type:"number",value:b.monthlyExpenses||"",onChange:w=>x({...b,monthlyExpenses:parseInt(w.target.value)||0}),placeholder:"8000"})]}),h.jsx("span",{className:ve.hint,children:"Average monthly spending including rent, bills, etc."})]}),h.jsxs("div",{className:ve.formGroup,children:[h.jsx("label",{children:"Current Cash / Savings"}),h.jsxs("div",{className:ve.inputWithPrefix,children:[h.jsx("span",{children:"$"}),h.jsx("input",{type:"number",value:b.currentCash||"",onChange:w=>x({...b,currentCash:parseInt(w.target.value)||0}),placeholder:"50000"})]}),h.jsx("span",{className:ve.hint,children:"Total cash in checking and savings accounts"})]}),h.jsxs("div",{className:ve.formGroup,children:[h.jsx("label",{children:"Target Emergency Reserve (months)"}),h.jsxs("select",{value:b.targetReserveMonths,onChange:w=>x({...b,targetReserveMonths:parseInt(w.target.value)}),children:[h.jsx("option",{value:3,children:"3 months"}),h.jsx("option",{value:6,children:"6 months (recommended)"}),h.jsx("option",{value:9,children:"9 months"}),h.jsx("option",{value:12,children:"12 months"})]}),h.jsx("span",{className:ve.hint,children:"How many months of expenses you want in reserve"})]}),b.monthlyExpenses>0&&b.currentCash>0&&h.jsxs("div",{className:ve.cashFlowSummary,children:[h.jsxs("div",{className:ve.summaryItem,children:[h.jsx("span",{className:ve.summaryLabel,children:"Current Reserve"}),h.jsxs("span",{className:ve.summaryValue,children:[(b.currentCash/b.monthlyExpenses).toFixed(1)," months"]})]}),h.jsxs("div",{className:ve.summaryItem,children:[h.jsx("span",{className:ve.summaryLabel,children:"Target Reserve"}),h.jsxs("span",{className:ve.summaryValue,children:["$",(b.monthlyExpenses*(b.targetReserveMonths||6)).toLocaleString()]})]}),b.currentCash<b.monthlyExpenses*(b.targetReserveMonths||6)&&h.jsxs("div",{className:ve.summaryAlert,children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("circle",{cx:"12",cy:"12",r:"10"}),h.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),h.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),h.jsxs("span",{children:["You need $",(b.monthlyExpenses*(b.targetReserveMonths||6)-b.currentCash).toLocaleString()," more to reach your target"]})]})]})]})]}),h.jsxs("div",{className:ve.footer,children:[h.jsx("button",{className:ve.cancelButton,onClick:n,children:"Cancel"}),h.jsx("button",{className:ve.saveButton,onClick:O,disabled:p,children:p?"Saving...":"Save Changes"})]})]})}):null}const Hx="_dashboardLayout_19plm_1",qx="_mainContent_19plm_7",$x="_collapsed_19plm_15",Gx="_topHeader_19plm_19",Ix="_headerContent_19plm_27",Vx="_headerLeft_19plm_37",Px="_pageTitle_19plm_43",Qx="_pageSubtitle_19plm_50",Kx="_userSection_19plm_56",Yx="_userMenuTrigger_19plm_62",Jx="_userAvatar_19plm_79",Xx="_userName_19plm_92",Zx="_chevron_19plm_98",Fx="_open_19plm_105",Wx="_userDropdown_19plm_109",eT="_dropdownFadeIn_19plm_1",tT="_dropdownHeader_19plm_134",nT="_dropdownEmail_19plm_139",aT="_dropdownDivider_19plm_144",sT="_dropdownItem_19plm_149",iT="_logoutButton_19plm_174",rT="_pageContent_19plm_190",lT="_pageEnter_19plm_1",oT="_transitioning_19plm_197",cT="_dashboardLoading_19plm_213",uT="_moduleLoader_19plm_220",hT="_loaderSpinner_19plm_230",dT="_spin_19plm_1",fT="_commandCenter_19plm_245",mT="_onboardingLayout_19plm_250",pT="_primaryColumn_19plm_257",vT="_secondaryColumn_19plm_263",yT="_columnTitle_19plm_269",gT="_aiAdvisorPromo_19plm_278",_T="_promoHeader_19plm_285",bT="_promoIcon_19plm_291",wT="_promoText_19plm_308",ST="_promoTitle_19plm_312",xT="_promoDesc_19plm_319",TT="_startButton_19plm_326",jT="_lockedModules_19plm_354",ET="_modulePreview_19plm_360",AT="_unlocked_19plm_371",CT="_moduleIcon_19plm_376",OT="_moduleLock_19plm_398",RT="_moduleInfo_19plm_417",NT="_moduleName_19plm_422",kT="_moduleUnlock_19plm_429",DT="_moduleLink_19plm_435",MT="_lockedModulePage_19plm_451",UT="_lockedContent_19plm_458",zT="_lockedIcon_19plm_463",BT="_lockedTitle_19plm_480",LT="_lockedDesc_19plm_487",HT="_lockedAction_19plm_494",qT="_newUserFlow_19plm_524",$T="_painPointHero_19plm_530",GT="_painPointTitle_19plm_535",IT="_goldText_19plm_543",VT="_painPointDesc_19plm_547",PT="_ctaSection_19plm_555",QT="_primaryCta_19plm_560",KT="_ctaIcon_19plm_577",YT="_ctaText_19plm_593",JT="_ctaTitle_19plm_600",XT="_ctaDesc_19plm_606",ZT="_ctaArrow_19plm_611",FT="_sectionLabel_19plm_617",WT="_decisionEngines_19plm_626",ej="_toolsSection_19plm_627",tj="_enginesGrid_19plm_631",nj="_engineCard_19plm_637",aj="_primary_19plm_257",sj="_engineIcon_19plm_659",ij="_engineContent_19plm_676",rj="_engineTitle_19plm_682",lj="_engineDesc_19plm_689",oj="_enginePainPoint_19plm_697",cj="_antiIndustry_19plm_704",uj="_antiTitle_19plm_711",hj="_antiGrid_19plm_719",dj="_antiCard_19plm_726",fj="_antiAmount_19plm_737",mj="_antiLabel_19plm_744",pj="_antiConclusion_19plm_750",vj="_returningUserFlow_19plm_759",yj="_quickActions_19plm_765",gj="_actionGrid_19plm_772",_j="_actionCard_19plm_778",bj="_actionTitle_19plm_795",wj="_actionDesc_19plm_801",Sj="_disclaimer_19plm_806",xj="_dashboardContainer_19plm_874",Tj="_sidebar_19plm_881",jj="_logo_19plm_174",Ej="_navList_19plm_913",Aj="_navItem_19plm_922",Cj="_active_19plm_943",Oj="_navIcon_19plm_948",Rj="_demoBanner_19plm_958",Nj="_demoTag_19plm_982",kj="_overviewContainer_19plm_992",Dj="_overviewHeader_19plm_998",Mj="_subtitle_19plm_1009",Uj="_statsGrid_19plm_1015",zj="_statCard_19plm_1022",Bj="_statLabel_19plm_1032",Lj="_statValue_19plm_1039",Hj="_positive_19plm_1045",qj="_negative_19plm_1049",$j="_statSubtext_19plm_1053",Gj="_opportunitiesSection_19plm_1058",Ij="_opportunitiesList_19plm_1069",Vj="_opportunityCard_19plm_1075",Pj="_high_19plm_1082",Qj="_medium_19plm_1086",Kj="_oppHeader_19plm_1090",Yj="_oppBadge_19plm_1097",Jj="_oppImpact_19plm_1103",Xj="_portfolioPreview_19plm_1123",Zj="_positionsTable_19plm_1134",Fj="_tableHeader_19plm_1141",Wj="_tableRow_19plm_1154",eE="_symbol_19plm_1167",q={dashboardLayout:Hx,mainContent:qx,collapsed:$x,topHeader:Gx,headerContent:Ix,headerLeft:Vx,pageTitle:Px,pageSubtitle:Qx,userSection:Kx,userMenuTrigger:Yx,userAvatar:Jx,userName:Xx,chevron:Zx,open:Fx,userDropdown:Wx,dropdownFadeIn:eT,dropdownHeader:tT,dropdownEmail:nT,dropdownDivider:aT,dropdownItem:sT,logoutButton:iT,pageContent:rT,pageEnter:lT,transitioning:oT,dashboardLoading:cT,moduleLoader:uT,loaderSpinner:hT,spin:dT,commandCenter:fT,onboardingLayout:mT,primaryColumn:pT,secondaryColumn:vT,columnTitle:yT,aiAdvisorPromo:gT,promoHeader:_T,promoIcon:bT,promoText:wT,promoTitle:ST,promoDesc:xT,startButton:TT,lockedModules:jT,modulePreview:ET,unlocked:AT,moduleIcon:CT,moduleLock:OT,moduleInfo:RT,moduleName:NT,moduleUnlock:kT,moduleLink:DT,lockedModulePage:MT,lockedContent:UT,lockedIcon:zT,lockedTitle:BT,lockedDesc:LT,lockedAction:HT,newUserFlow:qT,painPointHero:$T,painPointTitle:GT,goldText:IT,painPointDesc:VT,ctaSection:PT,primaryCta:QT,ctaIcon:KT,ctaText:YT,ctaTitle:JT,ctaDesc:XT,ctaArrow:ZT,sectionLabel:FT,decisionEngines:WT,toolsSection:ej,enginesGrid:tj,engineCard:nj,primary:aj,engineIcon:sj,engineContent:ij,engineTitle:rj,engineDesc:lj,enginePainPoint:oj,antiIndustry:cj,antiTitle:uj,antiGrid:hj,antiCard:dj,antiAmount:fj,antiLabel:mj,antiConclusion:pj,returningUserFlow:vj,quickActions:yj,actionGrid:gj,actionCard:_j,actionTitle:bj,actionDesc:wj,disclaimer:Sj,dashboardContainer:xj,sidebar:Tj,logo:jj,navList:Ej,navItem:Aj,active:Cj,navIcon:Oj,demoBanner:Rj,demoTag:Nj,overviewContainer:kj,overviewHeader:Dj,subtitle:Mj,statsGrid:Uj,statCard:zj,statLabel:Bj,statValue:Lj,positive:Hj,negative:qj,statSubtext:$j,opportunitiesSection:Gj,opportunitiesList:Ij,opportunityCard:Vj,high:Pj,medium:Qj,oppHeader:Kj,oppBadge:Yj,oppImpact:Jj,portfolioPreview:Xj,positionsTable:Zj,tableHeader:Fj,tableRow:Wj,symbol:eE},tE=$.lazy(()=>$i(()=>import("./ChargeAI-k0eqCAAI.js"),__vite__mapDeps([0,1]))),nE=$.lazy(()=>$i(()=>import("./ChargeTaxIntel-DUAc0Qw-.js"),__vite__mapDeps([2,3]))),aE=$.lazy(()=>$i(()=>import("./ChargeAllocation-gVpbQsEa.js"),__vite__mapDeps([4,5]))),sE=$.lazy(()=>$i(()=>import("./Playbooks-DgPlyFpM.js"),__vite__mapDeps([6,7]))),iE=$.lazy(()=>$i(()=>import("./ReferralDashboard-BvI4cp1J.js"),__vite__mapDeps([8,9])));function Ei(){return h.jsxs("div",{className:q.moduleLoader,children:[h.jsx("div",{className:q.loaderSpinner}),h.jsx("span",{children:"Loading..."})]})}function rE(){const{theme:s,toggleTheme:n}=v_();return h.jsxs("button",{onClick:n,className:q.dropdownItem,children:[s==="dark"?h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("circle",{cx:"12",cy:"12",r:"5"}),h.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),h.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),h.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),h.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),h.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),h.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),h.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),h.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),s==="dark"?"Light Mode":"Dark Mode"]})}function zp(){const{user:s}=xv(),[n,i]=$.useState(!1),[l,u]=$.useState(!1),d=$.useRef(null),[f]=Au(),[p,v]=$.useState(!1),[y,_]=$.useState(f),[b,x]=$.useState({hasTaxData:!1,hasPositions:!1,hasProfile:!1,hasCashFlow:!1}),[C,O]=$.useState(!1),[w,D]=$.useState(!1),[k,I]=$.useState(!0);$.useEffect(()=>{(async()=>{I(!0);try{const[ye,Ve,Xe]=await Promise.all([fetch("/api/charge-ai/context",{credentials:"include"}),fetch("/api/allocation/portfolio",{credentials:"include"}),fetch("/api/tax-intel/current",{credentials:"include"})]),U=ye.ok?await ye.json():null,P=Ve.ok?await Ve.json():null,ae=Xe.ok?await Xe.json():null,je=!!U?.hasProfile,Ee=P?.portfolio?.positions?.length>0,j=!!ae?.taxData||!!U?.hasTaxData,L=!!(U?.profile?.monthlyExpenses&&U?.profile?.currentCash);x({hasTaxData:j,hasPositions:Ee,hasProfile:je,hasCashFlow:L})}catch(ye){console.error("Failed to check user data:",ye)}finally{I(!1)}})()},[]),$.useEffect(()=>{new URLSearchParams(window.location.search).get("showOnboarding")==="true"&&(O(!0),window.history.replaceState({},"","/dashboard"))},[]),$.useEffect(()=>{const oe=Ve=>{d.current&&!d.current.contains(Ve.target)&&u(!1)},ye=Ve=>{Ve.key==="Escape"&&u(!1)};return l&&(document.addEventListener("mousedown",oe),document.addEventListener("keydown",ye)),()=>{document.removeEventListener("mousedown",oe),document.removeEventListener("keydown",ye)}},[l]),$.useEffect(()=>{u(!1)},[f]),$.useEffect(()=>{if(f!==y){v(!0);const oe=setTimeout(()=>{_(f),v(!1)},150);return()=>clearTimeout(oe)}},[f,y]),$.useEffect(()=>{const oe={"/dashboard":"Command Center | Charge Wealth","/dashboard/ai":"AI Advisor | Charge Wealth","/dashboard/tax-intel":"Tax Advisor | Charge Wealth","/dashboard/allocation":"Portfolio Engine | Charge Wealth","/dashboard/playbooks":"Playbooks | Charge Wealth","/dashboard/referrals":"Referral Program | Charge Wealth"};document.title=oe[f]||"Charge Wealth"},[f]);const G=()=>{window.location.href="/api/logout"},F=f==="/dashboard",ee=(()=>{let oe=0;return b.hasProfile&&(oe+=20),b.hasTaxData&&(oe+=30),b.hasPositions&&(oe+=30),b.hasCashFlow&&(oe+=20),oe})(),K=()=>F?"Command Center":f.includes("/ai")?"AI Advisor":f.includes("tax-intel")?"Tax Advisor":f.includes("allocation")?"Portfolio Engine":f.includes("playbooks")?"Playbooks":f.includes("referrals")?"Referral Program":"Charge Wealth",te=oe=>oe==="ai"||oe==="command-center"?!1:oe==="playbooks"?ee<20:!1,Re=()=>{O(!1)},nt=async()=>{try{const oe=await fetch("/api/charge-ai/context",{credentials:"include"});if(oe.ok){const ye=await oe.json(),Ve=!!(ye?.profile?.monthlyExpenses&&ye?.profile?.currentCash);x(Xe=>({...Xe,hasProfile:!!ye?.hasProfile,hasCashFlow:Ve}))}}catch(oe){console.error("Failed to refresh user data:",oe)}},Ge=oe=>{(oe==="profile"||oe==="cashflow")&&D(!0)};return C?h.jsx(Ev,{onComplete:Re}):h.jsxs("div",{className:q.dashboardLayout,children:[h.jsx(Uw,{onCollapse:i,wealthScore:ee}),h.jsx(Lx,{isOpen:w,onClose:()=>D(!1),onSave:nt}),h.jsxs("div",{className:`${q.mainContent} ${n?q.collapsed:""}`,children:[h.jsx("header",{className:q.topHeader,children:h.jsxs("div",{className:q.headerContent,children:[h.jsx("div",{className:q.headerLeft,children:h.jsx("h1",{className:q.pageTitle,children:K()})}),h.jsxs("div",{className:q.userSection,ref:d,children:[h.jsxs("button",{className:q.userMenuTrigger,onClick:()=>u(!l),"aria-expanded":l,"aria-haspopup":"true",children:[h.jsx("div",{className:q.userAvatar,children:(s?.firstName?.[0]||s?.email?.[0]||"U").toUpperCase()}),h.jsx("span",{className:q.userName,children:s?.firstName||s?.email?.split("@")[0]}),h.jsx("svg",{className:`${q.chevron} ${l?q.open:""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M6 9l6 6 6-6"})})]}),l&&h.jsxs("div",{className:q.userDropdown,children:[h.jsx("div",{className:q.dropdownHeader,children:h.jsx("span",{className:q.dropdownEmail,children:s?.email})}),h.jsx("div",{className:q.dropdownDivider}),h.jsx(rE,{}),h.jsxs("a",{href:"/dashboard/referrals",className:q.dropdownItem,children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[h.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),h.jsx("circle",{cx:"9",cy:"7",r:"4"}),h.jsx("path",{d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]}),"Refer & Earn $50"]}),h.jsxs("button",{onClick:G,className:q.dropdownItem,children:[h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9"})}),"Sign Out"]})]})]})]})}),h.jsx("div",{id:"main-content",className:`${q.pageContent} ${p?q.transitioning:""}`,children:k?h.jsx("div",{className:q.dashboardLoading,children:h.jsx(cx,{size:"large",text:"Loading your dashboard..."})}):h.jsxs(Cu,{children:[h.jsx(Xt,{path:"/dashboard",children:h.jsx(Cn,{moduleName:"default",children:h.jsxs("div",{className:q.commandCenter,children:[h.jsxs("div",{className:q.onboardingLayout,children:[h.jsxs("div",{className:q.primaryColumn,children:[h.jsxs("div",{className:q.aiAdvisorPromo,children:[h.jsxs("div",{className:q.promoHeader,children:[h.jsx("div",{className:q.promoIcon,children:h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"}),h.jsx("circle",{cx:"8",cy:"14",r:"1.5"}),h.jsx("circle",{cx:"16",cy:"14",r:"1.5"})]})}),h.jsxs("div",{className:q.promoText,children:[h.jsx("h2",{className:q.promoTitle,children:"Your AI Advisor"}),h.jsx("p",{className:q.promoDesc,children:"Ask any financial question. Get clear answers based on your actual data."})]})]}),h.jsxs("a",{href:"/dashboard/ai",className:q.startButton,children:["Start Conversation",h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),h.jsx(cS,{hasTaxData:b.hasTaxData,hasPositions:b.hasPositions,hasProfile:b.hasProfile,hasCashFlow:b.hasCashFlow,onStepClick:Ge}),h.jsx(n2,{})]}),h.jsxs("div",{className:q.secondaryColumn,children:[h.jsx("h3",{className:q.columnTitle,children:"Unlock More Tools"}),h.jsxs("div",{className:q.lockedModules,children:[h.jsxs("div",{className:`${q.modulePreview} ${te("tax-intel")?"":q.unlocked}`,children:[h.jsxs("div",{className:q.moduleIcon,children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),h.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),te("tax-intel")&&h.jsx("div",{className:q.moduleLock,children:h.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3z"})})})]}),h.jsxs("div",{className:q.moduleInfo,children:[h.jsx("h4",{className:q.moduleName,children:"Tax Advisor"}),h.jsx("p",{className:q.moduleUnlock,children:te("tax-intel")?"Upload tax return to unlock":"Find tax-saving opportunities"})]}),!te("tax-intel")&&h.jsx("a",{href:"/dashboard/tax-intel",className:q.moduleLink,children:"Open"})]}),h.jsxs("div",{className:`${q.modulePreview} ${te("allocation")?"":q.unlocked}`,children:[h.jsxs("div",{className:q.moduleIcon,children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M12 2a10 10 0 1 0 10 10"}),h.jsx("path",{d:"M12 2v10l6.5-3.5"}),h.jsx("path",{d:"M12 12l6.5 3.5"})]}),te("allocation")&&h.jsx("div",{className:q.moduleLock,children:h.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3z"})})})]}),h.jsxs("div",{className:q.moduleInfo,children:[h.jsx("h4",{className:q.moduleName,children:"Portfolio Engine"}),h.jsx("p",{className:q.moduleUnlock,children:te("allocation")?"Add positions to unlock":"Analyze risk & allocation"})]}),!te("allocation")&&h.jsx("a",{href:"/dashboard/allocation",className:q.moduleLink,children:"Open"})]}),h.jsxs("div",{className:`${q.modulePreview} ${te("playbooks")?"":q.unlocked}`,children:[h.jsxs("div",{className:q.moduleIcon,children:[h.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[h.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),h.jsx("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),h.jsx("path",{d:"M9 12l2 2 4-4"})]}),te("playbooks")&&h.jsx("div",{className:q.moduleLock,children:h.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3z"})})})]}),h.jsxs("div",{className:q.moduleInfo,children:[h.jsx("h4",{className:q.moduleName,children:"Playbooks"}),h.jsx("p",{className:q.moduleUnlock,children:te("playbooks")?"Complete profile to unlock":"Step-by-step action plans"})]}),!te("playbooks")&&h.jsx("a",{href:"/dashboard/playbooks",className:q.moduleLink,children:"Open"})]})]})]})]}),h.jsx("div",{className:q.disclaimer,children:"Charge Wealth provides decision support based on your data. We don't sell products, manage money, or give personalized recommendations. Consult qualified professionals before acting."})]})})}),h.jsx(Xt,{path:"/dashboard/ai",children:h.jsx(Cn,{moduleName:"ai",children:h.jsx($.Suspense,{fallback:h.jsx(Ei,{}),children:h.jsx(tE,{})})})}),h.jsx(Xt,{path:"/dashboard/tax-intel",children:h.jsx(Cn,{moduleName:"tax",children:h.jsx($.Suspense,{fallback:h.jsx(Ei,{}),children:te("tax-intel")?h.jsx(tu,{title:"Tax Advisor",description:"Upload your tax return to unlock tax optimization insights.",requiredAction:"Upload Tax Return",actionPath:"/dashboard/ai"}):h.jsx(nE,{})})})}),h.jsx(Xt,{path:"/dashboard/allocation",children:h.jsx(Cn,{moduleName:"portfolio",children:h.jsx($.Suspense,{fallback:h.jsx(Ei,{}),children:te("allocation")?h.jsx(tu,{title:"Portfolio Engine",description:"Add your portfolio positions to unlock CFA-level analysis.",requiredAction:"Add Portfolio Positions",actionPath:"/dashboard/ai"}):h.jsx(aE,{})})})}),h.jsx(Xt,{path:"/dashboard/playbooks",children:h.jsx(Cn,{moduleName:"default",children:h.jsx($.Suspense,{fallback:h.jsx(Ei,{}),children:te("playbooks")?h.jsx(tu,{title:"Playbooks",description:"Complete your financial profile to unlock step-by-step action plans.",requiredAction:"Complete Profile",actionPath:"/dashboard/ai"}):h.jsx(sE,{})})})}),h.jsx(Xt,{path:"/dashboard/referrals",children:h.jsx(Cn,{moduleName:"referrals",children:h.jsx($.Suspense,{fallback:h.jsx(Ei,{}),children:h.jsx(iE,{})})})})]})})]})]})}function tu({title:s,description:n,requiredAction:i,actionPath:l}){return h.jsx("div",{className:q.lockedModulePage,children:h.jsxs("div",{className:q.lockedContent,children:[h.jsx("div",{className:q.lockedIcon,children:h.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:h.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3zm0 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"})})}),h.jsx("h2",{className:q.lockedTitle,children:s}),h.jsx("p",{className:q.lockedDesc,children:n}),h.jsxs("a",{href:l,className:q.lockedAction,children:[i,h.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:h.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})})}const lE={profile:{annualIncome:"350000",filingStatus:"married_joint",stateOfResidence:"CA",dependents:2,netWorth:"1500000",riskTolerance:"moderate",primaryGoal:"wealth_building"},tax:{taxYear:2024,totalIncome:35e4,agi:32e4,taxableIncome:29e4,totalFederalTax:62e3,effectiveTaxRate:17.7,marginalTaxBracket:32,filingStatus:"married_joint",deductionUsed:"itemized",capitalGainsLongTerm:25e3,capitalGainsShortTerm:5e3},portfolio:{totalValue:85e4,totalUnrealizedGain:125e3,positionCount:8,positions:[{id:1,symbol:"AAPL",shares:150,costBasis:22500,currentValue:28e3,unrealizedGain:5500,unrealizedGainPercent:24.4,holdingPeriod:"long_term"},{id:2,symbol:"GOOGL",shares:50,costBasis:7e4,currentValue:85e3,unrealizedGain:15e3,unrealizedGainPercent:21.4,holdingPeriod:"long_term"},{id:3,symbol:"MSFT",shares:100,costBasis:35e3,currentValue:42e3,unrealizedGain:7e3,unrealizedGainPercent:20,holdingPeriod:"long_term"},{id:4,symbol:"NVDA",shares:80,costBasis:4e4,currentValue:95e3,unrealizedGain:55e3,unrealizedGainPercent:137.5,holdingPeriod:"short_term"},{id:5,symbol:"VOO",shares:200,costBasis:8e4,currentValue:95e3,unrealizedGain:15e3,unrealizedGainPercent:18.75,holdingPeriod:"long_term"},{id:6,symbol:"VTI",shares:300,costBasis:6e4,currentValue:72e3,unrealizedGain:12e3,unrealizedGainPercent:20,holdingPeriod:"long_term"},{id:7,symbol:"TSLA",shares:40,costBasis:12e3,currentValue:9500,unrealizedGain:-2500,unrealizedGainPercent:-20.8,holdingPeriod:"long_term"},{id:8,symbol:"BTC",shares:1.5,costBasis:45e3,currentValue:65e3,unrealizedGain:2e4,unrealizedGainPercent:44.4,holdingPeriod:"long_term"}]},opportunities:[{type:"tax_loss_harvest",title:"Tax-Loss Harvesting Available",description:"TSLA has $2,500 in unrealized losses. Harvesting could save ~$800 in taxes at your 32% bracket.",impact:800,priority:"high"},{type:"retirement_contribution",title:"Maximize 401(k) Contributions",description:"At your 32% marginal rate, maxing your 401(k) at $23,000 saves $7,360 in taxes.",impact:7360,priority:"high"},{type:"concentration_risk",title:"High Concentration in NVDA",description:"NVDA is 11.2% of your portfolio with large short-term gains. Consider staged selling for tax efficiency.",impact:95e3,priority:"medium"}],status:{hasProfile:!0,hasTaxData:!0,hasPortfolio:!0,hasLiquidity:!0,hasAnalyzedDocuments:!0}};function oE(){const[s,n]=$.useState("overview"),i=[{id:"overview",name:"Overview",icon:""},{id:"ai-advisor",name:"AI Advisor",icon:""},{id:"tax-intel",name:"Tax Advisor",icon:""},{id:"allocation",name:"Portfolio",icon:""},{id:"playbooks",name:"Playbooks",icon:""}],l=()=>h.jsx(cE,{context:lE});return h.jsxs("div",{className:q.dashboardContainer,children:[h.jsxs("div",{className:q.demoBanner,children:[h.jsx("span",{children:"Demo Mode"})," - Viewing sample data. ",h.jsx("a",{href:"/",children:"Sign up"})," to connect your own financial data."]}),h.jsxs("nav",{className:q.sidebar,children:[h.jsxs("div",{className:q.logo,children:[h.jsxs("h1",{children:["Charge",h.jsx("span",{children:"Wealth"})]}),h.jsx("span",{className:q.demoTag,children:"DEMO"})]}),h.jsx("ul",{className:q.navList,children:i.map(u=>h.jsx("li",{children:h.jsxs("button",{className:`${q.navItem} ${s===u.id?q.active:""}`,onClick:()=>n(u.id),children:[h.jsx("span",{className:q.navIcon,children:u.icon}),u.name]})},u.id))})]}),h.jsx("main",{className:q.mainContent,id:"main-content",children:l()})]})}function cE({context:s}){const n=i=>`$${i.toLocaleString()}`;return h.jsxs("div",{className:q.overviewContainer,children:[h.jsxs("header",{className:q.overviewHeader,children:[h.jsx("h2",{children:"Financial Overview"}),h.jsx("p",{className:q.subtitle,children:"Your AI-powered financial command center"})]}),h.jsxs("div",{className:q.statsGrid,children:[h.jsxs("div",{className:q.statCard,children:[h.jsx("span",{className:q.statLabel,children:"Total Income"}),h.jsx("span",{className:q.statValue,children:n(s.tax.totalIncome)}),h.jsx("span",{className:q.statSubtext,children:"2024 Tax Year"})]}),h.jsxs("div",{className:q.statCard,children:[h.jsx("span",{className:q.statLabel,children:"Portfolio Value"}),h.jsx("span",{className:q.statValue,children:n(s.portfolio.totalValue)}),h.jsxs("span",{className:q.statSubtext,children:[s.portfolio.positionCount," positions"]})]}),h.jsxs("div",{className:q.statCard,children:[h.jsx("span",{className:q.statLabel,children:"Unrealized Gains"}),h.jsx("span",{className:`${q.statValue} ${q.positive}`,children:n(s.portfolio.totalUnrealizedGain)}),h.jsxs("span",{className:q.statSubtext,children:["+",(s.portfolio.totalUnrealizedGain/(s.portfolio.totalValue-s.portfolio.totalUnrealizedGain)*100).toFixed(1),"%"]})]}),h.jsxs("div",{className:q.statCard,children:[h.jsx("span",{className:q.statLabel,children:"Effective Tax Rate"}),h.jsxs("span",{className:q.statValue,children:[s.tax.effectiveTaxRate,"%"]}),h.jsxs("span",{className:q.statSubtext,children:[s.tax.marginalTaxBracket,"% marginal bracket"]})]})]}),h.jsxs("section",{className:q.opportunitiesSection,children:[h.jsx("h3",{children:"AI-Detected Opportunities"}),h.jsx("div",{className:q.opportunitiesList,children:s.opportunities.map((i,l)=>h.jsxs("div",{className:`${q.opportunityCard} ${q[i.priority]}`,children:[h.jsxs("div",{className:q.oppHeader,children:[h.jsx("span",{className:q.oppBadge,children:i.type==="tax_loss_harvest"?" Tax":i.type==="retirement_contribution"?" 401k":i.type==="concentration_risk"?" Risk":""}),h.jsx("span",{className:q.oppImpact,children:i.impact>0?`Save ${n(i.impact)}`:"Action Needed"})]}),h.jsx("h4",{children:i.title}),h.jsx("p",{children:i.description})]},l))})]}),h.jsxs("section",{className:q.portfolioPreview,children:[h.jsx("h3",{children:"Portfolio Positions"}),h.jsxs("div",{className:q.positionsTable,children:[h.jsxs("div",{className:q.tableHeader,children:[h.jsx("span",{children:"Symbol"}),h.jsx("span",{children:"Shares"}),h.jsx("span",{children:"Value"}),h.jsx("span",{children:"Gain/Loss"})]}),s.portfolio.positions.map(i=>h.jsxs("div",{className:q.tableRow,children:[h.jsx("span",{className:q.symbol,children:i.symbol}),h.jsx("span",{children:i.shares}),h.jsx("span",{children:n(i.currentValue)}),h.jsxs("span",{className:i.unrealizedGain>=0?q.positive:q.negative,children:[i.unrealizedGain>=0?"+":"",n(i.unrealizedGain)," (",i.unrealizedGainPercent.toFixed(1),"%)"]})]},i.id))]})]})]})}const uE="_container_1msnc_1",hE="_loginCard_1msnc_10",dE="_header_1msnc_19",fE="_subtitle_1msnc_33",mE="_form_1msnc_46",pE="_field_1msnc_52",vE="_error_1msnc_84",yE="_submitBtn_1msnc_94",gE="_testCredentials_1msnc_119",on={container:uE,loginCard:hE,header:dE,subtitle:fE,form:mE,field:pE,error:vE,submitBtn:yE,testCredentials:gE};function _E({onLogin:s}){const[n,i]=$.useState(""),[l,u]=$.useState(""),[d,f]=$.useState(""),[p,v]=$.useState(!1),y=async _=>{_.preventDefault(),f(""),v(!0);try{const b=await fetch("/api/test-login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({username:n,password:l})}),x=await b.json();b.ok?s():f(x.message||"Invalid credentials")}catch{f("Login failed. Please try again.")}finally{v(!1)}};return h.jsx("div",{className:on.container,children:h.jsxs("div",{className:on.loginCard,children:[h.jsxs("div",{className:on.header,children:[h.jsx("h1",{children:"Charge Intelligence"}),h.jsx("p",{className:on.subtitle,children:"Development Testing Mode"})]}),h.jsxs("form",{onSubmit:y,className:on.form,children:[h.jsxs("div",{className:on.field,children:[h.jsx("label",{htmlFor:"username",children:"Username"}),h.jsx("input",{id:"username",type:"text",value:n,onChange:_=>i(_.target.value),placeholder:"Enter username",required:!0})]}),h.jsxs("div",{className:on.field,children:[h.jsx("label",{htmlFor:"password",children:"Password"}),h.jsx("input",{id:"password",type:"password",value:l,onChange:_=>u(_.target.value),placeholder:"Enter password",required:!0})]}),d&&h.jsx("div",{className:on.error,children:d}),h.jsx("button",{type:"submit",className:on.submitBtn,disabled:p,children:p?"Signing in...":"Sign In"})]}),h.jsxs("div",{className:on.testCredentials,children:[h.jsx("strong",{children:"Test Credentials:"}),h.jsx("p",{children:"Username: testuser"}),h.jsx("p",{children:"Password: charge2026"})]})]})})}function bE(){return h.jsx(M0,{client:Jp,children:h.jsx(p_,{children:h.jsxs(W2,{children:[h.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),h.jsxs(Cu,{children:[h.jsx(Xt,{path:"/demo",children:h.jsx(Cn,{moduleName:"demo",children:h.jsx(oE,{})})}),h.jsx(Xt,{path:"/test-login",children:h.jsx(Cn,{moduleName:"test-login",children:h.jsx(SE,{})})}),h.jsx(Xt,{children:h.jsx(Cn,{moduleName:"default",children:h.jsx(TE,{})})})]})]})})})}function wE(){return h.jsx("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg, #0F1117 0%, #1A1D28 100%)",padding:"2rem"},children:h.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[h.jsx("h1",{style:{fontSize:"2rem",fontWeight:"600",color:"#C9A962",marginBottom:"0.5rem",letterSpacing:"0.05em"},children:"Charge Wealth"}),h.jsx("p",{style:{fontSize:"1.125rem",color:"#F4F5F7",marginBottom:"0.5rem"},children:"Welcome back"}),h.jsx("p",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"2rem",lineHeight:"1.5"},children:"Sign in to access your financial decision tools."}),h.jsx("a",{href:"/api/login",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",width:"100%",background:"#C9A962",color:"#0F1117",padding:"0.875rem 1.5rem",fontSize:"0.9375rem",fontWeight:"600",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",textDecoration:"none"},children:"Sign In with Replit"}),h.jsx("p",{style:{marginTop:"2rem",fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.4)"},children:"No 1% AUM fees. No sales. No BS."}),h.jsx("a",{href:"/test-login",style:{display:"block",marginTop:"1.5rem",fontSize:"0.8125rem",color:"rgba(255, 255, 255, 0.5)",textDecoration:"underline"},children:"Dev Login (Testing)"})]})})}function SE(){const[,s]=Au(),n=()=>{Jp.invalidateQueries(),s("/dashboard")};return h.jsx(_E,{onLogin:n})}function xE(){return h.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0F1117"},children:h.jsx("div",{style:{textAlign:"center",color:"#C9A962"},children:h.jsx("p",{children:"Loading..."})})})}function TE(){const{isLoading:s,isAuthenticated:n}=Z1(),{isLoading:i,isAuthenticated:l}=xv(),[u,d]=$.useState(!1),f=s&&i,p=n||l,{data:v,isLoading:y,refetch:_}=Yp({queryKey:["/api/user/onboarding-status"],enabled:p});if(f)return h.jsx(xE,{});if(!p)return h.jsx(wE,{});const b=p&&!u&&!y&&v&&!v.onboardingCompleted,x=()=>{d(!0),_()};return h.jsxs(h.Fragment,{children:[b&&h.jsx(Ev,{onComplete:x}),h.jsxs(Cu,{children:[h.jsx(Xt,{path:"/dashboard",component:zp}),h.jsx(Xt,{path:"/dashboard/:module",component:zp}),h.jsx(Xt,{children:h.jsx(m_,{to:"/dashboard"})})]})]})}o0.createRoot(document.getElementById("root")).render(h.jsx(Lp.StrictMode,{children:h.jsx(bE,{})}));export{cx as L,e0 as R,s0 as a,ml as b,J0 as c,Yp as d,Bp as g,h as j,$ as r,jv as u};
