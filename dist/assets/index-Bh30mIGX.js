const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChargeAI-B1ZrMBTd.js","assets/ChargeAI-AikWRKLe.css","assets/ChargeTaxIntel-DmjuHL32.js","assets/ChargeTaxIntel-Dvpo0GDk.css","assets/ChargeAllocation-DjsrF3Uj.js","assets/ChargeAllocation-0lPBkanV.css","assets/Playbooks-DNOhuXhZ.js","assets/Playbooks-CHddX_Gw.css","assets/ReferralDashboard-Bm0shTqy.js","assets/ReferralDashboard-DaSsfwYX.css"])))=>i.map(i=>d[i]);
function Kg(s,n){for(var r=0;r<n.length;r++){const l=n[r];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in s)){const h=Object.getOwnPropertyDescriptor(l,c);h&&Object.defineProperty(s,c,h.get?h:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function r(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(c){if(c.ep)return;c.ep=!0;const h=r(c);fetch(c.href,h)}})();function Dp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Mu={exports:{}},wi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function Yg(){if(Nm)return wi;Nm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,c,h){var d=null;if(h!==void 0&&(d=""+h),c.key!==void 0&&(d=""+c.key),"key"in c){h={};for(var p in c)p!=="key"&&(h[p]=c[p])}else h=c;return c=h.ref,{$$typeof:s,type:l,key:d,ref:c!==void 0?c:null,props:h}}return wi.Fragment=n,wi.jsx=r,wi.jsxs=r,wi}var Dm;function Pg(){return Dm||(Dm=1,Mu.exports=Yg()),Mu.exports}var f=Pg(),zu={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function Jg(){if(Um)return ue;Um=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function C(T){return T===null||typeof T!="object"?null:(T=S&&T[S]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,U={};function N(T,q,Q){this.props=T,this.context=q,this.refs=U,this.updater=Q||k}N.prototype.isReactComponent={},N.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},N.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function G(){}G.prototype=N.prototype;function H(T,q,Q){this.props=T,this.context=q,this.refs=U,this.updater=Q||k}var F=H.prototype=new G;F.constructor=H,x(F,N.prototype),F.isPureReactComponent=!0;var ce=Array.isArray;function Y(){}var K={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function ge(T,q,Q){var X=Q.ref;return{$$typeof:s,type:T,key:q,ref:X!==void 0?X:null,props:Q}}function qe(T,q){return ge(T.type,q,T.props)}function He(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function Ve(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Q){return q[Q]})}var De=/\/+/g;function mt(T,q){return typeof T=="object"&&T!==null&&T.key!=null?Ve(""+T.key):q.toString(36)}function st(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Y,Y):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function M(T,q,Q,X,oe){var fe=typeof T;(fe==="undefined"||fe==="boolean")&&(T=null);var Z=!1;if(T===null)Z=!0;else switch(fe){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(T.$$typeof){case s:case n:Z=!0;break;case _:return Z=T._init,M(Z(T._payload),q,Q,X,oe)}}if(Z)return oe=oe(T),Z=X===""?"."+mt(T,0):X,ce(oe)?(Q="",Z!=null&&(Q=Z.replace(De,"$&/")+"/"),M(oe,q,Q,"",function(Bt){return Bt})):oe!=null&&(He(oe)&&(oe=qe(oe,Q+(oe.key==null||T&&T.key===oe.key?"":(""+oe.key).replace(De,"$&/")+"/")+Z)),q.push(oe)),1;Z=0;var be=X===""?".":X+":";if(ce(T))for(var Ce=0;Ce<T.length;Ce++)X=T[Ce],fe=be+mt(X,Ce),Z+=M(X,q,Q,fe,oe);else if(Ce=C(T),typeof Ce=="function")for(T=Ce.call(T),Ce=0;!(X=T.next()).done;)X=X.value,fe=be+mt(X,Ce++),Z+=M(X,q,Q,fe,oe);else if(fe==="object"){if(typeof T.then=="function")return M(st(T),q,Q,X,oe);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Z}function I(T,q,Q){if(T==null)return T;var X=[],oe=0;return M(T,X,"","",function(fe){return q.call(Q,fe,oe++)}),X}function ie(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(Q){(T._status===0||T._status===-1)&&(T._status=1,T._result=Q)},function(Q){(T._status===0||T._status===-1)&&(T._status=2,T._result=Q)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var Te=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},je={map:I,forEach:function(T,q,Q){I(T,function(){q.apply(this,arguments)},Q)},count:function(T){var q=0;return I(T,function(){q++}),q},toArray:function(T){return I(T,function(q){return q})||[]},only:function(T){if(!He(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ue.Activity=b,ue.Children=je,ue.Component=N,ue.Fragment=r,ue.Profiler=c,ue.PureComponent=H,ue.StrictMode=l,ue.Suspense=v,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ue.__COMPILER_RUNTIME={__proto__:null,c:function(T){return K.H.useMemoCache(T)}},ue.cache=function(T){return function(){return T.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(T,q,Q){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var X=x({},T.props),oe=T.key;if(q!=null)for(fe in q.key!==void 0&&(oe=""+q.key),q)!ee.call(q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&q.ref===void 0||(X[fe]=q[fe]);var fe=arguments.length-2;if(fe===1)X.children=Q;else if(1<fe){for(var Z=Array(fe),be=0;be<fe;be++)Z[be]=arguments[be+2];X.children=Z}return ge(T.type,oe,X)},ue.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:h,_context:T},T},ue.createElement=function(T,q,Q){var X,oe={},fe=null;if(q!=null)for(X in q.key!==void 0&&(fe=""+q.key),q)ee.call(q,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(oe[X]=q[X]);var Z=arguments.length-2;if(Z===1)oe.children=Q;else if(1<Z){for(var be=Array(Z),Ce=0;Ce<Z;Ce++)be[Ce]=arguments[Ce+2];oe.children=be}if(T&&T.defaultProps)for(X in Z=T.defaultProps,Z)oe[X]===void 0&&(oe[X]=Z[X]);return ge(T,fe,oe)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(T){return{$$typeof:p,render:T}},ue.isValidElement=He,ue.lazy=function(T){return{$$typeof:_,_payload:{_status:-1,_result:T},_init:ie}},ue.memo=function(T,q){return{$$typeof:y,type:T,compare:q===void 0?null:q}},ue.startTransition=function(T){var q=K.T,Q={};K.T=Q;try{var X=T(),oe=K.S;oe!==null&&oe(Q,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(Y,Te)}catch(fe){Te(fe)}finally{q!==null&&Q.types!==null&&(q.types=Q.types),K.T=q}},ue.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ue.use=function(T){return K.H.use(T)},ue.useActionState=function(T,q,Q){return K.H.useActionState(T,q,Q)},ue.useCallback=function(T,q){return K.H.useCallback(T,q)},ue.useContext=function(T){return K.H.useContext(T)},ue.useDebugValue=function(){},ue.useDeferredValue=function(T,q){return K.H.useDeferredValue(T,q)},ue.useEffect=function(T,q){return K.H.useEffect(T,q)},ue.useEffectEvent=function(T){return K.H.useEffectEvent(T)},ue.useId=function(){return K.H.useId()},ue.useImperativeHandle=function(T,q,Q){return K.H.useImperativeHandle(T,q,Q)},ue.useInsertionEffect=function(T,q){return K.H.useInsertionEffect(T,q)},ue.useLayoutEffect=function(T,q){return K.H.useLayoutEffect(T,q)},ue.useMemo=function(T,q){return K.H.useMemo(T,q)},ue.useOptimistic=function(T,q){return K.H.useOptimistic(T,q)},ue.useReducer=function(T,q,Q){return K.H.useReducer(T,q,Q)},ue.useRef=function(T){return K.H.useRef(T)},ue.useState=function(T){return K.H.useState(T)},ue.useSyncExternalStore=function(T,q,Q){return K.H.useSyncExternalStore(T,q,Q)},ue.useTransition=function(){return K.H.useTransition()},ue.version="19.2.0",ue}var Mm;function dl(){return Mm||(Mm=1,zu.exports=Jg()),zu.exports}var $=dl();const Up=Dp($),Xg=Kg({__proto__:null,default:Up},[$]);var Bu={exports:{}},Si={},Lu={exports:{}},qu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function Zg(){return zm||(zm=1,(function(s){function n(M,I){var ie=M.length;M.push(I);e:for(;0<ie;){var Te=ie-1>>>1,je=M[Te];if(0<c(je,I))M[Te]=I,M[ie]=je,ie=Te;else break e}}function r(M){return M.length===0?null:M[0]}function l(M){if(M.length===0)return null;var I=M[0],ie=M.pop();if(ie!==I){M[0]=ie;e:for(var Te=0,je=M.length,T=je>>>1;Te<T;){var q=2*(Te+1)-1,Q=M[q],X=q+1,oe=M[X];if(0>c(Q,ie))X<je&&0>c(oe,Q)?(M[Te]=oe,M[X]=ie,Te=X):(M[Te]=Q,M[q]=ie,Te=q);else if(X<je&&0>c(oe,ie))M[Te]=oe,M[X]=ie,Te=X;else break e}}return I}function c(M,I){var ie=M.sortIndex-I.sortIndex;return ie!==0?ie:M.id-I.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],y=[],_=1,b=null,S=3,C=!1,k=!1,x=!1,U=!1,N=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function F(M){for(var I=r(y);I!==null;){if(I.callback===null)l(y);else if(I.startTime<=M)l(y),I.sortIndex=I.expirationTime,n(v,I);else break;I=r(y)}}function ce(M){if(x=!1,F(M),!k)if(r(v)!==null)k=!0,Y||(Y=!0,Ve());else{var I=r(y);I!==null&&st(ce,I.startTime-M)}}var Y=!1,K=-1,ee=5,ge=-1;function qe(){return U?!0:!(s.unstable_now()-ge<ee)}function He(){if(U=!1,Y){var M=s.unstable_now();ge=M;var I=!0;try{e:{k=!1,x&&(x=!1,G(K),K=-1),C=!0;var ie=S;try{t:{for(F(M),b=r(v);b!==null&&!(b.expirationTime>M&&qe());){var Te=b.callback;if(typeof Te=="function"){b.callback=null,S=b.priorityLevel;var je=Te(b.expirationTime<=M);if(M=s.unstable_now(),typeof je=="function"){b.callback=je,F(M),I=!0;break t}b===r(v)&&l(v),F(M)}else l(v);b=r(v)}if(b!==null)I=!0;else{var T=r(y);T!==null&&st(ce,T.startTime-M),I=!1}}break e}finally{b=null,S=ie,C=!1}I=void 0}}finally{I?Ve():Y=!1}}}var Ve;if(typeof H=="function")Ve=function(){H(He)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,mt=De.port2;De.port1.onmessage=He,Ve=function(){mt.postMessage(null)}}else Ve=function(){N(He,0)};function st(M,I){K=N(function(){M(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(M){switch(S){case 1:case 2:case 3:var I=3;break;default:I=S}var ie=S;S=I;try{return M()}finally{S=ie}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(M,I){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ie=S;S=M;try{return I()}finally{S=ie}},s.unstable_scheduleCallback=function(M,I,ie){var Te=s.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Te+ie:Te):ie=Te,M){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ie+je,M={id:_++,callback:I,priorityLevel:M,startTime:ie,expirationTime:je,sortIndex:-1},ie>Te?(M.sortIndex=ie,n(y,M),r(v)===null&&M===r(y)&&(x?(G(K),K=-1):x=!0,st(ce,ie-Te))):(M.sortIndex=je,n(v,M),k||C||(k=!0,Y||(Y=!0,Ve()))),M},s.unstable_shouldYield=qe,s.unstable_wrapCallback=function(M){var I=S;return function(){var ie=S;S=I;try{return M.apply(this,arguments)}finally{S=ie}}}})(qu)),qu}var Bm;function Fg(){return Bm||(Bm=1,Lu.exports=Zg()),Lu.exports}var Hu={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function Wg(){if(Lm)return ft;Lm=1;var s=dl();function n(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(v,y,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:v,containerInfo:y,implementation:_}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ft.createPortal=function(v,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return h(v,y,null,_)},ft.flushSync=function(v){var y=d.T,_=l.p;try{if(d.T=null,l.p=2,v)return v()}finally{d.T=y,l.p=_,l.d.f()}},ft.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,l.d.C(v,y))},ft.prefetchDNS=function(v){typeof v=="string"&&l.d.D(v)},ft.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var _=y.as,b=p(_,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?l.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:C}):_==="script"&&l.d.X(v,{crossOrigin:b,integrity:S,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ft.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=p(y.as,y.crossOrigin);l.d.M(v,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&l.d.M(v)},ft.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,b=p(_,y.crossOrigin);l.d.L(v,_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ft.preloadModule=function(v,y){if(typeof v=="string")if(y){var _=p(y.as,y.crossOrigin);l.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else l.d.m(v)},ft.requestFormReset=function(v){l.d.r(v)},ft.unstable_batchedUpdates=function(v,y){return v(y)},ft.useFormState=function(v,y,_){return d.H.useFormState(v,y,_)},ft.useFormStatus=function(){return d.H.useHostTransitionStatus()},ft.version="19.2.0",ft}var qm;function e0(){if(qm)return Hu.exports;qm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Hu.exports=Wg(),Hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function t0(){if(Hm)return Si;Hm=1;var s=Fg(),n=dl(),r=e0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(l(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,i=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){a=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return v(o),e;if(u===i)return v(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==i.return)a=o,i=u;else{for(var m=!1,g=o.child;g;){if(g===a){m=!0,a=o,i=u;break}if(g===i){m=!0,i=o,a=u;break}g=g.sibling}if(!m){for(g=u.child;g;){if(g===a){m=!0,a=u,i=o;break}if(g===i){m=!0,i=u,a=o;break}g=g.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==i)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),H=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ge=Symbol.for("react.activity"),qe=Symbol.for("react.memo_cache_sentinel"),He=Symbol.iterator;function Ve(e){return e===null||typeof e!="object"?null:(e=He&&e[He]||e["@@iterator"],typeof e=="function"?e:null)}var De=Symbol.for("react.client.reference");function mt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===De?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case N:return"Profiler";case U:return"StrictMode";case ce:return"Suspense";case Y:return"SuspenseList";case ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case H:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:mt(e.type)||"Memo";case ee:t=e._payload,e=e._init;try{return mt(e(t))}catch{}}return null}var st=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Te=[],je=-1;function T(e){return{current:e}}function q(e){0>je||(e.current=Te[je],Te[je]=null,je--)}function Q(e,t){je++,Te[je]=e.current,e.current=t}var X=T(null),oe=T(null),fe=T(null),Z=T(null);function be(e,t){switch(Q(fe,t),Q(oe,e),Q(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tm(t),e=nm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(X),Q(X,e)}function Ce(){q(X),q(oe),q(fe)}function Bt(e){e.memoizedState!==null&&Q(Z,e);var t=X.current,a=nm(t,e.type);t!==a&&(Q(oe,e),Q(X,a))}function na(e){oe.current===e&&(q(X),q(oe)),Z.current===e&&(q(Z),yi._currentValue=ie)}var vl,Rc;function aa(e){if(vl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);vl=t&&t[1]||"",Rc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vl+e+Rc}var yl=!1;function gl(e,t){if(!e||yl)return"";yl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(D){var R=D}Reflect.construct(e,[],L)}else{try{L.call()}catch(D){R=D}e.call(L.prototype)}}else{try{throw Error()}catch(D){R=D}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),m=u[0],g=u[1];if(m&&g){var w=m.split(`
`),O=g.split(`
`);for(o=i=0;i<w.length&&!w[i].includes("DetermineComponentFrameRoot");)i++;for(;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;if(i===w.length||o===O.length)for(i=w.length-1,o=O.length-1;1<=i&&0<=o&&w[i]!==O[o];)o--;for(;1<=i&&0<=o;i--,o--)if(w[i]!==O[o]){if(i!==1||o!==1)do if(i--,o--,0>o||w[i]!==O[o]){var z=`
`+w[i].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=i&&0<=o);break}}}finally{yl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?aa(a):""}function Ev(e,t){switch(e.tag){case 26:case 27:case 5:return aa(e.type);case 16:return aa("Lazy");case 13:return e.child!==t&&t!==null?aa("Suspense Fallback"):aa("Suspense");case 19:return aa("SuspenseList");case 0:case 15:return gl(e.type,!1);case 11:return gl(e.type.render,!1);case 1:return gl(e.type,!0);case 31:return aa("Activity");default:return""}}function kc(e){try{var t="",a=null;do t+=Ev(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var _l=Object.prototype.hasOwnProperty,bl=s.unstable_scheduleCallback,wl=s.unstable_cancelCallback,xv=s.unstable_shouldYield,Tv=s.unstable_requestPaint,xt=s.unstable_now,jv=s.unstable_getCurrentPriorityLevel,Nc=s.unstable_ImmediatePriority,Dc=s.unstable_UserBlockingPriority,Hi=s.unstable_NormalPriority,Av=s.unstable_LowPriority,Uc=s.unstable_IdlePriority,Ov=s.log,Cv=s.unstable_setDisableYieldValue,Cs=null,Tt=null;function An(e){if(typeof Ov=="function"&&Cv(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Cs,e)}catch{}}var jt=Math.clz32?Math.clz32:Nv,Rv=Math.log,kv=Math.LN2;function Nv(e){return e>>>=0,e===0?32:31-(Rv(e)/kv|0)|0}var $i=256,Gi=262144,Vi=4194304;function sa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ii(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var g=i&134217727;return g!==0?(i=g&~u,i!==0?o=sa(i):(m&=g,m!==0?o=sa(m):a||(a=g&~e,a!==0&&(o=sa(a))))):(g=i&~u,g!==0?o=sa(g):m!==0?o=sa(m):a||(a=i&~e,a!==0&&(o=sa(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Rs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Dv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mc(){var e=Vi;return Vi<<=1,(Vi&62914560)===0&&(Vi=4194304),e}function Sl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ks(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uv(e,t,a,i,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var g=e.entanglements,w=e.expirationTimes,O=e.hiddenUpdates;for(a=m&~a;0<a;){var z=31-jt(a),L=1<<z;g[z]=0,w[z]=-1;var R=O[z];if(R!==null)for(O[z]=null,z=0;z<R.length;z++){var D=R[z];D!==null&&(D.lane&=-536870913)}a&=~L}i!==0&&zc(e,i,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function zc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-jt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function Bc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-jt(a),o=1<<i;o&t|e[i]&t&&(e[i]|=t),a&=~o}}function Lc(e,t){var a=t&-t;return a=(a&42)!==0?1:El(a),(a&(e.suspendedLanes|t))!==0?0:a}function El(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qc(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Tm(e.type))}function Hc(e,t){var a=I.p;try{return I.p=e,t()}finally{I.p=a}}var On=Math.random().toString(36).slice(2),it="__reactFiber$"+On,vt="__reactProps$"+On,Na="__reactContainer$"+On,Tl="__reactEvents$"+On,Mv="__reactListeners$"+On,zv="__reactHandles$"+On,$c="__reactResources$"+On,Ns="__reactMarker$"+On;function jl(e){delete e[it],delete e[vt],delete e[Tl],delete e[Mv],delete e[zv]}function Da(e){var t=e[it];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Na]||a[it]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=um(e);e!==null;){if(a=e[it])return a;e=um(e)}return t}e=a,a=e.parentNode}return null}function Ua(e){if(e=e[it]||e[Na]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ds(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Ma(e){var t=e[$c];return t||(t=e[$c]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Ns]=!0}var Gc=new Set,Vc={};function ia(e,t){za(e,t),za(e+"Capture",t)}function za(e,t){for(Vc[e]=t,e=0;e<t.length;e++)Gc.add(t[e])}var Bv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ic={},Qc={};function Lv(e){return _l.call(Qc,e)?!0:_l.call(Ic,e)?!1:Bv.test(e)?Qc[e]=!0:(Ic[e]=!0,!1)}function Qi(e,t,a){if(Lv(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ki(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function rn(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qv(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Al(e){if(!e._valueTracker){var t=Kc(e)?"checked":"value";e._valueTracker=qv(e,t,""+e[t])}}function Yc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=Kc(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hv=/[\n"\\]/g;function qt(e){return e.replace(Hv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ol(e,t,a,i,o,u,m,g){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Cl(e,m,Lt(t)):a!=null?Cl(e,m,Lt(a)):i!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Lt(g):e.removeAttribute("name")}function Pc(e,t,a,i,o,u,m,g){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Al(e);return}a=a!=null?""+Lt(a):"",t=t!=null?""+Lt(t):a,g||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=g?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Al(e)}function Cl(e,t,a){t==="number"&&Yi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ba(e,t,a,i){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Lt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Jc(e,t,a){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Lt(a):""}function Xc(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(l(92));if(st(i)){if(1<i.length)throw Error(l(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Lt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),Al(e)}function La(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var $v=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zc(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||$v.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Fc(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&a[o]!==i&&Zc(e,o,i)}else for(var u in t)t.hasOwnProperty(u)&&Zc(e,u,t[u])}function Rl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pi(e){return Vv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ln(){}var kl=null;function Nl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qa=null,Ha=null;function Wc(e){var t=Ua(e);if(t&&(e=t.stateNode)){var a=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ol(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var o=i[vt]||null;if(!o)throw Error(l(90));Ol(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&Yc(i)}break e;case"textarea":Jc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ba(e,!!a.multiple,t,!1)}}}var Dl=!1;function eh(e,t,a){if(Dl)return e(t,a);Dl=!0;try{var i=e(t);return i}finally{if(Dl=!1,(qa!==null||Ha!==null)&&(Mr(),qa&&(t=qa,e=Ha,Ha=qa=null,Wc(t),e)))for(t=0;t<e.length;t++)Wc(e[t])}}function Us(e,t){var a=e.stateNode;if(a===null)return null;var i=a[vt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ul=!1;if(on)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Ul=!1}var Cn=null,Ml=null,Ji=null;function th(){if(Ji)return Ji;var e,t=Ml,a=t.length,i,o="value"in Cn?Cn.value:Cn.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(i=1;i<=m&&t[a-i]===o[u-i];i++);return Ji=o.slice(e,1<i?1-i:void 0)}function Xi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function nh(){return!1}function yt(e){function t(a,i,o,u,m){this._reactName=a,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(u):u[g]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Zi:nh,this.isPropagationStopped=nh,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),t}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=yt(ra),zs=b({},ra,{view:0,detail:0}),Iv=yt(zs),zl,Bl,Bs,Wi=b({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ql,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bs&&(Bs&&e.type==="mousemove"?(zl=e.screenX-Bs.screenX,Bl=e.screenY-Bs.screenY):Bl=zl=0,Bs=e),zl)},movementY:function(e){return"movementY"in e?e.movementY:Bl}}),ah=yt(Wi),Qv=b({},Wi,{dataTransfer:0}),Kv=yt(Qv),Yv=b({},zs,{relatedTarget:0}),Ll=yt(Yv),Pv=b({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),Jv=yt(Pv),Xv=b({},ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zv=yt(Xv),Fv=b({},ra,{data:0}),sh=yt(Fv),Wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ty={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ny(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ty[e])?!!t[e]:!1}function ql(){return ny}var ay=b({},zs,{key:function(e){if(e.key){var t=Wv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ey[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ql,charCode:function(e){return e.type==="keypress"?Xi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sy=yt(ay),iy=b({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ih=yt(iy),ry=b({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ql}),ly=yt(ry),oy=b({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),uy=yt(oy),cy=b({},Wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hy=yt(cy),dy=b({},ra,{newState:0,oldState:0}),fy=yt(dy),my=[9,13,27,32],Hl=on&&"CompositionEvent"in window,Ls=null;on&&"documentMode"in document&&(Ls=document.documentMode);var py=on&&"TextEvent"in window&&!Ls,rh=on&&(!Hl||Ls&&8<Ls&&11>=Ls),lh=" ",oh=!1;function uh(e,t){switch(e){case"keyup":return my.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ch(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $a=!1;function vy(e,t){switch(e){case"compositionend":return ch(t);case"keypress":return t.which!==32?null:(oh=!0,lh);case"textInput":return e=t.data,e===lh&&oh?null:e;default:return null}}function yy(e,t){if($a)return e==="compositionend"||!Hl&&uh(e,t)?(e=th(),Ji=Ml=Cn=null,$a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rh&&t.locale!=="ko"?null:t.data;default:return null}}var gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gy[e.type]:t==="textarea"}function dh(e,t,a,i){qa?Ha?Ha.push(i):Ha=[i]:qa=i,t=Gr(t,"onChange"),0<t.length&&(a=new Fi("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var qs=null,Hs=null;function _y(e){Jf(e,0)}function er(e){var t=Ds(e);if(Yc(t))return e}function fh(e,t){if(e==="change")return t}var mh=!1;if(on){var $l;if(on){var Gl="oninput"in document;if(!Gl){var ph=document.createElement("div");ph.setAttribute("oninput","return;"),Gl=typeof ph.oninput=="function"}$l=Gl}else $l=!1;mh=$l&&(!document.documentMode||9<document.documentMode)}function vh(){qs&&(qs.detachEvent("onpropertychange",yh),Hs=qs=null)}function yh(e){if(e.propertyName==="value"&&er(Hs)){var t=[];dh(t,Hs,e,Nl(e)),eh(_y,t)}}function by(e,t,a){e==="focusin"?(vh(),qs=t,Hs=a,qs.attachEvent("onpropertychange",yh)):e==="focusout"&&vh()}function wy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return er(Hs)}function Sy(e,t){if(e==="click")return er(t)}function Ey(e,t){if(e==="input"||e==="change")return er(t)}function xy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:xy;function $s(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var o=a[i];if(!_l.call(t,o)||!At(e[o],t[o]))return!1}return!0}function gh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _h(e,t){var a=gh(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gh(a)}}function bh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Yi(e.document)}return t}function Vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ty=on&&"documentMode"in document&&11>=document.documentMode,Ga=null,Il=null,Gs=null,Ql=!1;function Sh(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ql||Ga==null||Ga!==Yi(i)||(i=Ga,"selectionStart"in i&&Vl(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gs&&$s(Gs,i)||(Gs=i,i=Gr(Il,"onSelect"),0<i.length&&(t=new Fi("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Ga)))}function la(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Va={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},Kl={},Eh={};on&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function oa(e){if(Kl[e])return Kl[e];if(!Va[e])return e;var t=Va[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Eh)return Kl[e]=t[a];return e}var xh=oa("animationend"),Th=oa("animationiteration"),jh=oa("animationstart"),jy=oa("transitionrun"),Ay=oa("transitionstart"),Oy=oa("transitioncancel"),Ah=oa("transitionend"),Oh=new Map,Yl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yl.push("scrollEnd");function Jt(e,t){Oh.set(e,t),ia(t,[e])}var tr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ht=[],Ia=0,Pl=0;function nr(){for(var e=Ia,t=Pl=Ia=0;t<e;){var a=Ht[t];Ht[t++]=null;var i=Ht[t];Ht[t++]=null;var o=Ht[t];Ht[t++]=null;var u=Ht[t];if(Ht[t++]=null,i!==null&&o!==null){var m=i.pending;m===null?o.next=o:(o.next=m.next,m.next=o),i.pending=o}u!==0&&Ch(a,o,u)}}function ar(e,t,a,i){Ht[Ia++]=e,Ht[Ia++]=t,Ht[Ia++]=a,Ht[Ia++]=i,Pl|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Jl(e,t,a,i){return ar(e,t,a,i),sr(e)}function ua(e,t){return ar(e,null,null,t),sr(e)}function Ch(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,i=u.alternate,i!==null&&(i.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-jt(a),e=u.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=a|536870912),u):null}function sr(e){if(50<ci)throw ci=0,iu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qa={};function Cy(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,a,i){return new Cy(e,t,a,i)}function Xl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function un(e,t){var a=e.alternate;return a===null?(a=Ot(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Rh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ir(e,t,a,i,o,u){var m=0;if(i=e,typeof e=="function")Xl(e)&&(m=1);else if(typeof e=="string")m=Ug(e,a,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ge:return e=Ot(31,a,t,o),e.elementType=ge,e.lanes=u,e;case x:return ca(a.children,o,u,t);case U:m=8,o|=24;break;case N:return e=Ot(12,a,t,o|2),e.elementType=N,e.lanes=u,e;case ce:return e=Ot(13,a,t,o),e.elementType=ce,e.lanes=u,e;case Y:return e=Ot(19,a,t,o),e.elementType=Y,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:m=10;break e;case G:m=9;break e;case F:m=11;break e;case K:m=14;break e;case ee:m=16,i=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Ot(m,a,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function ca(e,t,a,i){return e=Ot(7,e,i,t),e.lanes=a,e}function Zl(e,t,a){return e=Ot(6,e,null,t),e.lanes=a,e}function kh(e){var t=Ot(18,null,null,0);return t.stateNode=e,t}function Fl(e,t,a){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Nh=new WeakMap;function $t(e,t){if(typeof e=="object"&&e!==null){var a=Nh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:kc(t)},Nh.set(e,t),t)}return{value:e,source:t,stack:kc(t)}}var Ka=[],Ya=0,rr=null,Vs=0,Gt=[],Vt=0,Rn=null,tn=1,nn="";function cn(e,t){Ka[Ya++]=Vs,Ka[Ya++]=rr,rr=e,Vs=t}function Dh(e,t,a){Gt[Vt++]=tn,Gt[Vt++]=nn,Gt[Vt++]=Rn,Rn=e;var i=tn;e=nn;var o=32-jt(i)-1;i&=~(1<<o),a+=1;var u=32-jt(t)+o;if(30<u){var m=o-o%5;u=(i&(1<<m)-1).toString(32),i>>=m,o-=m,tn=1<<32-jt(t)+o|a<<o|i,nn=u+e}else tn=1<<u|a<<o|i,nn=e}function Wl(e){e.return!==null&&(cn(e,1),Dh(e,1,0))}function eo(e){for(;e===rr;)rr=Ka[--Ya],Ka[Ya]=null,Vs=Ka[--Ya],Ka[Ya]=null;for(;e===Rn;)Rn=Gt[--Vt],Gt[Vt]=null,nn=Gt[--Vt],Gt[Vt]=null,tn=Gt[--Vt],Gt[Vt]=null}function Uh(e,t){Gt[Vt++]=tn,Gt[Vt++]=nn,Gt[Vt++]=Rn,tn=t.id,nn=t.overflow,Rn=e}var rt=null,Be=null,_e=!1,kn=null,It=!1,to=Error(l(519));function Nn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Is($t(t,e)),to}function Mh(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[it]=e,t[vt]=i,a){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(a=0;a<di.length;a++)pe(di[a],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),Pc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),Xc(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Wf(t.textContent,a)?(i.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),i.onScroll!=null&&pe("scroll",t),i.onScrollEnd!=null&&pe("scrollend",t),i.onClick!=null&&(t.onclick=ln),t=!0):t=!1,t||Nn(e,!0)}function zh(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:rt=rt.return}}function Pa(e){if(e!==rt)return!1;if(!_e)return zh(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||bu(e.type,e.memoizedProps)),a=!a),a&&Be&&Nn(e),zh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Be=om(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Be=om(e)}else t===27?(t=Be,Kn(e.type)?(e=Tu,Tu=null,Be=e):Be=t):Be=rt?Kt(e.stateNode.nextSibling):null;return!0}function ha(){Be=rt=null,_e=!1}function no(){var e=kn;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),kn=null),e}function Is(e){kn===null?kn=[e]:kn.push(e)}var ao=T(null),da=null,hn=null;function Dn(e,t,a){Q(ao,t._currentValue),t._currentValue=a}function dn(e){e._currentValue=ao.current,q(ao)}function so(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function io(e,t,a,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var g=u;u=o;for(var w=0;w<t.length;w++)if(g.context===t[w]){u.lanes|=a,g=u.alternate,g!==null&&(g.lanes|=a),so(u.return,a,e),i||(m=null);break e}u=g.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(l(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),so(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Ja(e,t,a,i){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var g=o.type;At(o.pendingProps.value,m.value)||(e!==null?e.push(g):e=[g])}}else if(o===Z.current){if(m=o.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(yi):e=[yi])}o=o.return}e!==null&&io(t,e,a,i),t.flags|=262144}function lr(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fa(e){da=e,hn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return Bh(da,e)}function or(e,t){return da===null&&fa(e),Bh(e,t)}function Bh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},hn===null){if(e===null)throw Error(l(308));hn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hn=hn.next=t;return a}var Ry=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ky=s.unstable_scheduleCallback,Ny=s.unstable_NormalPriority,Je={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ro(){return{controller:new Ry,data:new Map,refCount:0}}function Qs(e){e.refCount--,e.refCount===0&&ky(Ny,function(){e.controller.abort()})}var Ks=null,lo=0,Xa=0,Za=null;function Dy(e,t){if(Ks===null){var a=Ks=[];lo=0,Xa=hu(),Za={status:"pending",value:void 0,then:function(i){a.push(i)}}}return lo++,t.then(Lh,Lh),t}function Lh(){if(--lo===0&&Ks!==null){Za!==null&&(Za.status="fulfilled");var e=Ks;Ks=null,Xa=0,Za=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Uy(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),i}var qh=M.S;M.S=function(e,t){Ef=xt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Dy(e,t),qh!==null&&qh(e,t)};var ma=T(null);function oo(){var e=ma.current;return e!==null?e:Ue.pooledCache}function ur(e,t){t===null?Q(ma,ma.current):Q(ma,t.pool)}function Hh(){var e=oo();return e===null?null:{parent:Je._currentValue,pool:e}}var Fa=Error(l(460)),uo=Error(l(474)),cr=Error(l(542)),hr={then:function(){}};function $h(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ln,ln),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ih(e),e;default:if(typeof t.status=="string")t.then(ln,ln);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ih(e),e}throw va=t,Fa}}function pa(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(va=a,Fa):a}}var va=null;function Vh(){if(va===null)throw Error(l(459));var e=va;return va=null,e}function Ih(e){if(e===Fa||e===cr)throw Error(l(483))}var Wa=null,Ys=0;function dr(e){var t=Ys;return Ys+=1,Wa===null&&(Wa=[]),Gh(Wa,e,t)}function Ps(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fr(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qh(e){function t(j,E){if(e){var A=j.deletions;A===null?(j.deletions=[E],j.flags|=16):A.push(E)}}function a(j,E){if(!e)return null;for(;E!==null;)t(j,E),E=E.sibling;return null}function i(j){for(var E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function o(j,E){return j=un(j,E),j.index=0,j.sibling=null,j}function u(j,E,A){return j.index=A,e?(A=j.alternate,A!==null?(A=A.index,A<E?(j.flags|=67108866,E):A):(j.flags|=67108866,E)):(j.flags|=1048576,E)}function m(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function g(j,E,A,B){return E===null||E.tag!==6?(E=Zl(A,j.mode,B),E.return=j,E):(E=o(E,A),E.return=j,E)}function w(j,E,A,B){var ne=A.type;return ne===x?z(j,E,A.props.children,B,A.key):E!==null&&(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ee&&pa(ne)===E.type)?(E=o(E,A.props),Ps(E,A),E.return=j,E):(E=ir(A.type,A.key,A.props,null,j.mode,B),Ps(E,A),E.return=j,E)}function O(j,E,A,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Fl(A,j.mode,B),E.return=j,E):(E=o(E,A.children||[]),E.return=j,E)}function z(j,E,A,B,ne){return E===null||E.tag!==7?(E=ca(A,j.mode,B,ne),E.return=j,E):(E=o(E,A),E.return=j,E)}function L(j,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Zl(""+E,j.mode,A),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case C:return A=ir(E.type,E.key,E.props,null,j.mode,A),Ps(A,E),A.return=j,A;case k:return E=Fl(E,j.mode,A),E.return=j,E;case ee:return E=pa(E),L(j,E,A)}if(st(E)||Ve(E))return E=ca(E,j.mode,A,null),E.return=j,E;if(typeof E.then=="function")return L(j,dr(E),A);if(E.$$typeof===H)return L(j,or(j,E),A);fr(j,E)}return null}function R(j,E,A,B){var ne=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ne!==null?null:g(j,E,""+A,B);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case C:return A.key===ne?w(j,E,A,B):null;case k:return A.key===ne?O(j,E,A,B):null;case ee:return A=pa(A),R(j,E,A,B)}if(st(A)||Ve(A))return ne!==null?null:z(j,E,A,B,null);if(typeof A.then=="function")return R(j,E,dr(A),B);if(A.$$typeof===H)return R(j,E,or(j,A),B);fr(j,A)}return null}function D(j,E,A,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return j=j.get(A)||null,g(E,j,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case C:return j=j.get(B.key===null?A:B.key)||null,w(E,j,B,ne);case k:return j=j.get(B.key===null?A:B.key)||null,O(E,j,B,ne);case ee:return B=pa(B),D(j,E,A,B,ne)}if(st(B)||Ve(B))return j=j.get(A)||null,z(E,j,B,ne,null);if(typeof B.then=="function")return D(j,E,A,dr(B),ne);if(B.$$typeof===H)return D(j,E,A,or(E,B),ne);fr(E,B)}return null}function J(j,E,A,B){for(var ne=null,Se=null,W=E,de=E=0,ye=null;W!==null&&de<A.length;de++){W.index>de?(ye=W,W=null):ye=W.sibling;var Ee=R(j,W,A[de],B);if(Ee===null){W===null&&(W=ye);break}e&&W&&Ee.alternate===null&&t(j,W),E=u(Ee,E,de),Se===null?ne=Ee:Se.sibling=Ee,Se=Ee,W=ye}if(de===A.length)return a(j,W),_e&&cn(j,de),ne;if(W===null){for(;de<A.length;de++)W=L(j,A[de],B),W!==null&&(E=u(W,E,de),Se===null?ne=W:Se.sibling=W,Se=W);return _e&&cn(j,de),ne}for(W=i(W);de<A.length;de++)ye=D(W,j,de,A[de],B),ye!==null&&(e&&ye.alternate!==null&&W.delete(ye.key===null?de:ye.key),E=u(ye,E,de),Se===null?ne=ye:Se.sibling=ye,Se=ye);return e&&W.forEach(function(Zn){return t(j,Zn)}),_e&&cn(j,de),ne}function se(j,E,A,B){if(A==null)throw Error(l(151));for(var ne=null,Se=null,W=E,de=E=0,ye=null,Ee=A.next();W!==null&&!Ee.done;de++,Ee=A.next()){W.index>de?(ye=W,W=null):ye=W.sibling;var Zn=R(j,W,Ee.value,B);if(Zn===null){W===null&&(W=ye);break}e&&W&&Zn.alternate===null&&t(j,W),E=u(Zn,E,de),Se===null?ne=Zn:Se.sibling=Zn,Se=Zn,W=ye}if(Ee.done)return a(j,W),_e&&cn(j,de),ne;if(W===null){for(;!Ee.done;de++,Ee=A.next())Ee=L(j,Ee.value,B),Ee!==null&&(E=u(Ee,E,de),Se===null?ne=Ee:Se.sibling=Ee,Se=Ee);return _e&&cn(j,de),ne}for(W=i(W);!Ee.done;de++,Ee=A.next())Ee=D(W,j,de,Ee.value,B),Ee!==null&&(e&&Ee.alternate!==null&&W.delete(Ee.key===null?de:Ee.key),E=u(Ee,E,de),Se===null?ne=Ee:Se.sibling=Ee,Se=Ee);return e&&W.forEach(function(Qg){return t(j,Qg)}),_e&&cn(j,de),ne}function Ne(j,E,A,B){if(typeof A=="object"&&A!==null&&A.type===x&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case C:e:{for(var ne=A.key;E!==null;){if(E.key===ne){if(ne=A.type,ne===x){if(E.tag===7){a(j,E.sibling),B=o(E,A.props.children),B.return=j,j=B;break e}}else if(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ee&&pa(ne)===E.type){a(j,E.sibling),B=o(E,A.props),Ps(B,A),B.return=j,j=B;break e}a(j,E);break}else t(j,E);E=E.sibling}A.type===x?(B=ca(A.props.children,j.mode,B,A.key),B.return=j,j=B):(B=ir(A.type,A.key,A.props,null,j.mode,B),Ps(B,A),B.return=j,j=B)}return m(j);case k:e:{for(ne=A.key;E!==null;){if(E.key===ne)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){a(j,E.sibling),B=o(E,A.children||[]),B.return=j,j=B;break e}else{a(j,E);break}else t(j,E);E=E.sibling}B=Fl(A,j.mode,B),B.return=j,j=B}return m(j);case ee:return A=pa(A),Ne(j,E,A,B)}if(st(A))return J(j,E,A,B);if(Ve(A)){if(ne=Ve(A),typeof ne!="function")throw Error(l(150));return A=ne.call(A),se(j,E,A,B)}if(typeof A.then=="function")return Ne(j,E,dr(A),B);if(A.$$typeof===H)return Ne(j,E,or(j,A),B);fr(j,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(a(j,E.sibling),B=o(E,A),B.return=j,j=B):(a(j,E),B=Zl(A,j.mode,B),B.return=j,j=B),m(j)):a(j,E)}return function(j,E,A,B){try{Ys=0;var ne=Ne(j,E,A,B);return Wa=null,ne}catch(W){if(W===Fa||W===cr)throw W;var Se=Ot(29,W,null,j.mode);return Se.lanes=B,Se.return=j,Se}finally{}}}var ya=Qh(!0),Kh=Qh(!1),Un=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ho(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Mn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zn(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(xe&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=sr(e),Ch(e,null,a),t}return ar(e,i,t,a),sr(e)}function Js(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Bc(e,a)}}function fo(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var mo=!1;function Xs(){if(mo){var e=Za;if(e!==null)throw e}}function Zs(e,t,a,i){mo=!1;var o=e.updateQueue;Un=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var w=g,O=w.next;w.next=null,m===null?u=O:m.next=O,m=w;var z=e.alternate;z!==null&&(z=z.updateQueue,g=z.lastBaseUpdate,g!==m&&(g===null?z.firstBaseUpdate=O:g.next=O,z.lastBaseUpdate=w))}if(u!==null){var L=o.baseState;m=0,z=O=w=null,g=u;do{var R=g.lane&-536870913,D=R!==g.lane;if(D?(ve&R)===R:(i&R)===R){R!==0&&R===Xa&&(mo=!0),z!==null&&(z=z.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var J=e,se=g;R=t;var Ne=a;switch(se.tag){case 1:if(J=se.payload,typeof J=="function"){L=J.call(Ne,L,R);break e}L=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=se.payload,R=typeof J=="function"?J.call(Ne,L,R):J,R==null)break e;L=b({},L,R);break e;case 2:Un=!0}}R=g.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[R]:D.push(R))}else D={lane:R,tag:g.tag,payload:g.payload,callback:g.callback,next:null},z===null?(O=z=D,w=L):z=z.next=D,m|=R;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;D=g,g=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);z===null&&(w=L),o.baseState=w,o.firstBaseUpdate=O,o.lastBaseUpdate=z,u===null&&(o.shared.lanes=0),$n|=m,e.lanes=m,e.memoizedState=L}}function Yh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Ph(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Yh(a[e],t)}var es=T(null),mr=T(0);function Jh(e,t){e=wn,Q(mr,e),Q(es,t),wn=e|t.baseLanes}function po(){Q(mr,wn),Q(es,es.current)}function vo(){wn=mr.current,q(es),q(mr)}var Ct=T(null),Qt=null;function Bn(e){var t=e.alternate;Q(Ye,Ye.current&1),Q(Ct,e),Qt===null&&(t===null||es.current!==null||t.memoizedState!==null)&&(Qt=e)}function yo(e){Q(Ye,Ye.current),Q(Ct,e),Qt===null&&(Qt=e)}function Xh(e){e.tag===22?(Q(Ye,Ye.current),Q(Ct,e),Qt===null&&(Qt=e)):Ln()}function Ln(){Q(Ye,Ye.current),Q(Ct,Ct.current)}function Rt(e){q(Ct),Qt===e&&(Qt=null),q(Ye)}var Ye=T(0);function pr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Eu(a)||xu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fn=0,he=null,Re=null,Xe=null,vr=!1,ts=!1,ga=!1,yr=0,Fs=0,ns=null,My=0;function Ie(){throw Error(l(321))}function go(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!At(e[a],t[a]))return!1;return!0}function _o(e,t,a,i,o,u){return fn=u,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Dd:Uo,ga=!1,u=a(i,o),ga=!1,ts&&(u=Fh(t,a,i,o)),Zh(e),u}function Zh(e){M.H=ti;var t=Re!==null&&Re.next!==null;if(fn=0,Xe=Re=he=null,vr=!1,Fs=0,ns=null,t)throw Error(l(300));e===null||Ze||(e=e.dependencies,e!==null&&lr(e)&&(Ze=!0))}function Fh(e,t,a,i){he=e;var o=0;do{if(ts&&(ns=null),Fs=0,ts=!1,25<=o)throw Error(l(301));if(o+=1,Xe=Re=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}M.H=Ud,u=t(a,i)}while(ts);return u}function zy(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Ws(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(he.flags|=1024),t}function bo(){var e=yr!==0;return yr=0,e}function wo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function So(e){if(vr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vr=!1}fn=0,Xe=Re=he=null,ts=!1,Fs=yr=0,ns=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?he.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Pe(){if(Re===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Xe===null?he.memoizedState:Xe.next;if(t!==null)Xe=t,Re=e;else{if(e===null)throw he.alternate===null?Error(l(467)):Error(l(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Xe===null?he.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function gr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ws(e){var t=Fs;return Fs+=1,ns===null&&(ns=[]),e=Gh(ns,e,t),t=he,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Dd:Uo),e}function _r(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ws(e);if(e.$$typeof===H)return lt(e)}throw Error(l(438,String(e)))}function Eo(e){var t=null,a=he.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=he.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=gr(),he.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=qe;return t.index++,a}function mn(e,t){return typeof t=="function"?t(e):t}function br(e){var t=Pe();return xo(t,Re,e)}function xo(e,t,a){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=a;var o=e.baseQueue,u=i.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,i.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var g=m=null,w=null,O=t,z=!1;do{var L=O.lane&-536870913;if(L!==O.lane?(ve&L)===L:(fn&L)===L){var R=O.revertLane;if(R===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),L===Xa&&(z=!0);else if((fn&R)===R){O=O.next,R===Xa&&(z=!0);continue}else L={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},w===null?(g=w=L,m=u):w=w.next=L,he.lanes|=R,$n|=R;L=O.action,ga&&a(u,L),u=O.hasEagerState?O.eagerState:a(u,L)}else R={lane:L,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},w===null?(g=w=R,m=u):w=w.next=R,he.lanes|=L,$n|=L;O=O.next}while(O!==null&&O!==t);if(w===null?m=u:w.next=g,!At(u,e.memoizedState)&&(Ze=!0,z&&(a=Za,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=w,i.lastRenderedState=u}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function To(e){var t=Pe(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var i=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);At(u,t.memoizedState)||(Ze=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,i]}function Wh(e,t,a){var i=he,o=Pe(),u=_e;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!At((Re||o).memoizedState,a);if(m&&(o.memoizedState=a,Ze=!0),o=o.queue,Oo(nd.bind(null,i,o,e),[e]),o.getSnapshot!==t||m||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,as(9,{destroy:void 0},td.bind(null,i,o,a,t),null),Ue===null)throw Error(l(349));u||(fn&127)!==0||ed(i,t,a)}return a}function ed(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=he.updateQueue,t===null?(t=gr(),he.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function td(e,t,a,i){t.value=a,t.getSnapshot=i,ad(t)&&sd(e)}function nd(e,t,a){return a(function(){ad(t)&&sd(e)})}function ad(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!At(e,a)}catch{return!0}}function sd(e){var t=ua(e,2);t!==null&&St(t,e,2)}function jo(e){var t=pt();if(typeof e=="function"){var a=e;if(e=a(),ga){An(!0);try{a()}finally{An(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},t}function id(e,t,a,i){return e.baseState=a,xo(e,Re,typeof i=="function"?i:mn)}function By(e,t,a,i,o){if(Er(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};M.T!==null?a(!0):u.isTransition=!1,i(u),a=t.pending,a===null?(u.next=t.pending=u,rd(t,u)):(u.next=a.next,t.pending=a.next=u)}}function rd(e,t){var a=t.action,i=t.payload,o=e.state;if(t.isTransition){var u=M.T,m={};M.T=m;try{var g=a(o,i),w=M.S;w!==null&&w(m,g),ld(e,t,g)}catch(O){Ao(e,t,O)}finally{u!==null&&m.types!==null&&(u.types=m.types),M.T=u}}else try{u=a(o,i),ld(e,t,u)}catch(O){Ao(e,t,O)}}function ld(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){od(e,t,i)},function(i){return Ao(e,t,i)}):od(e,t,a)}function od(e,t,a){t.status="fulfilled",t.value=a,ud(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,rd(e,a)))}function Ao(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,ud(t),t=t.next;while(t!==i)}e.action=null}function ud(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cd(e,t){return t}function hd(e,t){if(_e){var a=Ue.formState;if(a!==null){e:{var i=he;if(_e){if(Be){t:{for(var o=Be,u=It;o.nodeType!==8;){if(!u){o=null;break t}if(o=Kt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Be=Kt(o.nextSibling),i=o.data==="F!";break e}}Nn(i)}i=!1}i&&(t=a[0])}}return a=pt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cd,lastRenderedState:t},a.queue=i,a=Rd.bind(null,he,i),i.dispatch=a,i=jo(!1),u=Do.bind(null,he,!1,i.queue),i=pt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,a=By.bind(null,he,o,u,a),o.dispatch=a,i.memoizedState=e,[t,a,!1]}function dd(e){var t=Pe();return fd(t,Re,e)}function fd(e,t,a){if(t=xo(e,t,cd)[0],e=br(mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Ws(t)}catch(m){throw m===Fa?cr:m}else i=t;t=Pe();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(he.flags|=2048,as(9,{destroy:void 0},Ly.bind(null,o,a),null)),[i,u,e]}function Ly(e,t){e.action=t}function md(e){var t=Pe(),a=Re;if(a!==null)return fd(t,a,e);Pe(),t=t.memoizedState,a=Pe();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function as(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=he.updateQueue,t===null&&(t=gr(),he.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function pd(){return Pe().memoizedState}function wr(e,t,a,i){var o=pt();he.flags|=e,o.memoizedState=as(1|t,{destroy:void 0},a,i===void 0?null:i)}function Sr(e,t,a,i){var o=Pe();i=i===void 0?null:i;var u=o.memoizedState.inst;Re!==null&&i!==null&&go(i,Re.memoizedState.deps)?o.memoizedState=as(t,u,a,i):(he.flags|=e,o.memoizedState=as(1|t,u,a,i))}function vd(e,t){wr(8390656,8,e,t)}function Oo(e,t){Sr(2048,8,e,t)}function qy(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=gr(),he.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function yd(e){var t=Pe().memoizedState;return qy({ref:t,nextImpl:e}),function(){if((xe&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function gd(e,t){return Sr(4,2,e,t)}function _d(e,t){return Sr(4,4,e,t)}function bd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wd(e,t,a){a=a!=null?a.concat([e]):null,Sr(4,4,bd.bind(null,t,e),a)}function Co(){}function Sd(e,t){var a=Pe();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&go(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Ed(e,t){var a=Pe();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&go(t,i[1]))return i[0];if(i=e(),ga){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[i,t],i}function Ro(e,t,a){return a===void 0||(fn&1073741824)!==0&&(ve&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Tf(),he.lanes|=e,$n|=e,a)}function xd(e,t,a,i){return At(a,t)?a:es.current!==null?(e=Ro(e,a,i),At(e,t)||(Ze=!0),e):(fn&42)===0||(fn&1073741824)!==0&&(ve&261930)===0?(Ze=!0,e.memoizedState=a):(e=Tf(),he.lanes|=e,$n|=e,t)}function Td(e,t,a,i,o){var u=I.p;I.p=u!==0&&8>u?u:8;var m=M.T,g={};M.T=g,Do(e,!1,t,a);try{var w=o(),O=M.S;if(O!==null&&O(g,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var z=Uy(w,i);ei(e,t,z,Dt(e))}else ei(e,t,i,Dt(e))}catch(L){ei(e,t,{then:function(){},status:"rejected",reason:L},Dt())}finally{I.p=u,m!==null&&g.types!==null&&(m.types=g.types),M.T=m}}function Hy(){}function ko(e,t,a,i){if(e.tag!==5)throw Error(l(476));var o=jd(e).queue;Td(e,o,t,ie,a===null?Hy:function(){return Ad(e),a(i)})}function jd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:ie},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ad(e){var t=jd(e);t.next===null&&(t=e.alternate.memoizedState),ei(e,t.next.queue,{},Dt())}function No(){return lt(yi)}function Od(){return Pe().memoizedState}function Cd(){return Pe().memoizedState}function $y(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Dt();e=Mn(a);var i=zn(t,e,a);i!==null&&(St(i,t,a),Js(i,t,a)),t={cache:ro()},e.payload=t;return}t=t.return}}function Gy(e,t,a){var i=Dt();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Er(e)?kd(t,a):(a=Jl(e,t,a,i),a!==null&&(St(a,e,i),Nd(a,t,i)))}function Rd(e,t,a){var i=Dt();ei(e,t,a,i)}function ei(e,t,a,i){var o={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Er(e))kd(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,g=u(m,a);if(o.hasEagerState=!0,o.eagerState=g,At(g,m))return ar(e,t,o,0),Ue===null&&nr(),!1}catch{}finally{}if(a=Jl(e,t,o,i),a!==null)return St(a,e,i),Nd(a,t,i),!0}return!1}function Do(e,t,a,i){if(i={lane:2,revertLane:hu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Er(e)){if(t)throw Error(l(479))}else t=Jl(e,a,i,2),t!==null&&St(t,e,2)}function Er(e){var t=e.alternate;return e===he||t!==null&&t===he}function kd(e,t){ts=vr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Nd(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Bc(e,a)}}var ti={readContext:lt,use:_r,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useLayoutEffect:Ie,useInsertionEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useSyncExternalStore:Ie,useId:Ie,useHostTransitionStatus:Ie,useFormState:Ie,useActionState:Ie,useOptimistic:Ie,useMemoCache:Ie,useCacheRefresh:Ie};ti.useEffectEvent=Ie;var Dd={readContext:lt,use:_r,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:vd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,wr(4194308,4,bd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return wr(4194308,4,e,t)},useInsertionEffect:function(e,t){wr(4,2,e,t)},useMemo:function(e,t){var a=pt();t=t===void 0?null:t;var i=e();if(ga){An(!0);try{e()}finally{An(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=pt();if(a!==void 0){var o=a(t);if(ga){An(!0);try{a(t)}finally{An(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Gy.bind(null,he,e),[i.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=jo(e);var t=e.queue,a=Rd.bind(null,he,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Co,useDeferredValue:function(e,t){var a=pt();return Ro(a,e,t)},useTransition:function(){var e=jo(!1);return e=Td.bind(null,he,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=he,o=pt();if(_e){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Ue===null)throw Error(l(349));(ve&127)!==0||ed(i,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,vd(nd.bind(null,i,u,e),[e]),i.flags|=2048,as(9,{destroy:void 0},td.bind(null,i,u,a,t),null),a},useId:function(){var e=pt(),t=Ue.identifierPrefix;if(_e){var a=nn,i=tn;a=(i&~(1<<32-jt(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=yr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=My++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:No,useFormState:hd,useActionState:hd,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Do.bind(null,he,!0,a),a.dispatch=t,[e,t]},useMemoCache:Eo,useCacheRefresh:function(){return pt().memoizedState=$y.bind(null,he)},useEffectEvent:function(e){var t=pt(),a={impl:e};return t.memoizedState=a,function(){if((xe&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Uo={readContext:lt,use:_r,useCallback:Sd,useContext:lt,useEffect:Oo,useImperativeHandle:wd,useInsertionEffect:gd,useLayoutEffect:_d,useMemo:Ed,useReducer:br,useRef:pd,useState:function(){return br(mn)},useDebugValue:Co,useDeferredValue:function(e,t){var a=Pe();return xd(a,Re.memoizedState,e,t)},useTransition:function(){var e=br(mn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ws(e),t]},useSyncExternalStore:Wh,useId:Od,useHostTransitionStatus:No,useFormState:dd,useActionState:dd,useOptimistic:function(e,t){var a=Pe();return id(a,Re,e,t)},useMemoCache:Eo,useCacheRefresh:Cd};Uo.useEffectEvent=yd;var Ud={readContext:lt,use:_r,useCallback:Sd,useContext:lt,useEffect:Oo,useImperativeHandle:wd,useInsertionEffect:gd,useLayoutEffect:_d,useMemo:Ed,useReducer:To,useRef:pd,useState:function(){return To(mn)},useDebugValue:Co,useDeferredValue:function(e,t){var a=Pe();return Re===null?Ro(a,e,t):xd(a,Re.memoizedState,e,t)},useTransition:function(){var e=To(mn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Ws(e),t]},useSyncExternalStore:Wh,useId:Od,useHostTransitionStatus:No,useFormState:md,useActionState:md,useOptimistic:function(e,t){var a=Pe();return Re!==null?id(a,Re,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Eo,useCacheRefresh:Cd};Ud.useEffectEvent=yd;function Mo(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zo={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Dt(),o=Mn(i);o.payload=t,a!=null&&(o.callback=a),t=zn(e,o,i),t!==null&&(St(t,e,i),Js(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Dt(),o=Mn(i);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=zn(e,o,i),t!==null&&(St(t,e,i),Js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Dt(),i=Mn(a);i.tag=2,t!=null&&(i.callback=t),t=zn(e,i,a),t!==null&&(St(t,e,a),Js(t,e,a))}};function Md(e,t,a,i,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,m):t.prototype&&t.prototype.isPureReactComponent?!$s(a,i)||!$s(o,u):!0}function zd(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function _a(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Bd(e){tr(e)}function Ld(e){console.error(e)}function qd(e){tr(e)}function xr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Hd(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Bo(e,t,a){return a=Mn(a),a.tag=3,a.payload={element:null},a.callback=function(){xr(e,t)},a}function $d(e){return e=Mn(e),e.tag=3,e}function Gd(e,t,a,i){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=i.value;e.payload=function(){return o(u)},e.callback=function(){Hd(t,a,i)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Hd(t,a,i),typeof o!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})})}function Vy(e,t,a,i,o){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Ja(t,a,o,!0),a=Ct.current,a!==null){switch(a.tag){case 31:case 13:return Qt===null?zr():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,i===hr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),ou(e,i,o)),!1;case 22:return a.flags|=65536,i===hr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),ou(e,i,o)),!1}throw Error(l(435,a.tag))}return ou(e,i,o),zr(),!1}if(_e)return t=Ct.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==to&&(e=Error(l(422),{cause:i}),Is($t(e,a)))):(i!==to&&(t=Error(l(423),{cause:i}),Is($t(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=$t(i,a),o=Bo(e.stateNode,i,o),fo(e,o),Qe!==4&&(Qe=2)),!1;var u=Error(l(520),{cause:i});if(u=$t(u,a),ui===null?ui=[u]:ui.push(u),Qe!==4&&(Qe=2),t===null)return!0;i=$t(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Bo(a.stateNode,i,e),fo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Gn===null||!Gn.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=$d(o),Gd(o,e,a,i),fo(a,o),!1}a=a.return}while(a!==null);return!1}var Lo=Error(l(461)),Ze=!1;function ot(e,t,a,i){t.child=e===null?Kh(t,null,a,i):ya(t,e.child,a,i)}function Vd(e,t,a,i,o){a=a.render;var u=t.ref;if("ref"in i){var m={};for(var g in i)g!=="ref"&&(m[g]=i[g])}else m=i;return fa(t),i=_o(e,t,a,m,u,o),g=bo(),e!==null&&!Ze?(wo(e,t,o),pn(e,t,o)):(_e&&g&&Wl(t),t.flags|=1,ot(e,t,i,o),t.child)}function Id(e,t,a,i,o){if(e===null){var u=a.type;return typeof u=="function"&&!Xl(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Qd(e,t,u,i,o)):(e=ir(a.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Ko(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:$s,a(m,i)&&e.ref===t.ref)return pn(e,t,o)}return t.flags|=1,e=un(u,i),e.ref=t.ref,e.return=t,t.child=e}function Qd(e,t,a,i,o){if(e!==null){var u=e.memoizedProps;if($s(u,i)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=i=u,Ko(e,o))(e.flags&131072)!==0&&(Ze=!0);else return t.lanes=e.lanes,pn(e,t,o)}return qo(e,t,a,i,o)}function Kd(e,t,a,i){var o=i.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~u}else i=0,t.child=null;return Yd(e,t,u,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ur(t,u!==null?u.cachePool:null),u!==null?Jh(t,u):po(),Xh(t);else return i=t.lanes=536870912,Yd(e,t,u!==null?u.baseLanes|a:a,a,i)}else u!==null?(ur(t,u.cachePool),Jh(t,u),Ln(),t.memoizedState=null):(e!==null&&ur(t,null),po(),Ln());return ot(e,t,o,a),t.child}function ni(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yd(e,t,a,i,o){var u=oo();return u=u===null?null:{parent:Je._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&ur(t,null),po(),Xh(t),e!==null&&Ja(e,t,i,!0),t.childLanes=o,null}function Tr(e,t){return t=Ar({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Pd(e,t,a){return ya(t,e.child,null,a),e=Tr(t,t.pendingProps),e.flags|=2,Rt(t),t.memoizedState=null,e}function Iy(e,t,a){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(i.mode==="hidden")return e=Tr(t,i),t.lanes=536870912,ni(null,e);if(yo(t),(e=Be)?(e=lm(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},a=kh(e),a.return=t,t.child=a,rt=t,Be=null)):e=null,e===null)throw Nn(t);return t.lanes=536870912,null}return Tr(t,i)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(yo(t),o)if(t.flags&256)t.flags&=-257,t=Pd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ze||Ja(e,t,a,!1),o=(a&e.childLanes)!==0,Ze||o){if(i=Ue,i!==null&&(m=Lc(i,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,ua(e,m),St(i,e,m),Lo;zr(),t=Pd(e,t,a)}else e=u.treeContext,Be=Kt(m.nextSibling),rt=t,_e=!0,kn=null,It=!1,e!==null&&Uh(t,e),t=Tr(t,i),t.flags|=4096;return t}return e=un(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function jr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function qo(e,t,a,i,o){return fa(t),a=_o(e,t,a,i,void 0,o),i=bo(),e!==null&&!Ze?(wo(e,t,o),pn(e,t,o)):(_e&&i&&Wl(t),t.flags|=1,ot(e,t,a,o),t.child)}function Jd(e,t,a,i,o,u){return fa(t),t.updateQueue=null,a=Fh(t,i,a,o),Zh(e),i=bo(),e!==null&&!Ze?(wo(e,t,u),pn(e,t,u)):(_e&&i&&Wl(t),t.flags|=1,ot(e,t,a,u),t.child)}function Xd(e,t,a,i,o){if(fa(t),t.stateNode===null){var u=Qa,m=a.contextType;typeof m=="object"&&m!==null&&(u=lt(m)),u=new a(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=zo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},co(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?lt(m):Qa,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Mo(t,a,m,i),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&zo.enqueueReplaceState(u,u.state,null),Zs(t,i,u,o),Xs(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var g=t.memoizedProps,w=_a(a,g);u.props=w;var O=u.context,z=a.contextType;m=Qa,typeof z=="object"&&z!==null&&(m=lt(z));var L=a.getDerivedStateFromProps;z=typeof L=="function"||typeof u.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,z||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g||O!==m)&&zd(t,u,i,m),Un=!1;var R=t.memoizedState;u.state=R,Zs(t,i,u,o),Xs(),O=t.memoizedState,g||R!==O||Un?(typeof L=="function"&&(Mo(t,a,L,i),O=t.memoizedState),(w=Un||Md(t,a,w,i,R,O,m))?(z||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=O),u.props=i,u.state=O,u.context=m,i=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,ho(e,t),m=t.memoizedProps,z=_a(a,m),u.props=z,L=t.pendingProps,R=u.context,O=a.contextType,w=Qa,typeof O=="object"&&O!==null&&(w=lt(O)),g=a.getDerivedStateFromProps,(O=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==L||R!==w)&&zd(t,u,i,w),Un=!1,R=t.memoizedState,u.state=R,Zs(t,i,u,o),Xs();var D=t.memoizedState;m!==L||R!==D||Un||e!==null&&e.dependencies!==null&&lr(e.dependencies)?(typeof g=="function"&&(Mo(t,a,g,i),D=t.memoizedState),(z=Un||Md(t,a,z,i,R,D,w)||e!==null&&e.dependencies!==null&&lr(e.dependencies))?(O||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,D,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,D,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=D),u.props=i,u.state=D,u.context=w,i=z):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,jr(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=ya(t,e.child,null,o),t.child=ya(t,null,a,o)):ot(e,t,a,o),t.memoizedState=u.state,e=t.child):e=pn(e,t,o),e}function Zd(e,t,a,i){return ha(),t.flags|=256,ot(e,t,a,i),t.child}var Ho={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $o(e){return{baseLanes:e,cachePool:Hh()}}function Go(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Nt),e}function Fd(e,t,a){var i=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(o?Bn(t):Ln(),(e=Be)?(e=lm(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Rn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},a=kh(e),a.return=t,t.child=a,rt=t,Be=null)):e=null,e===null)throw Nn(t);return xu(e)?t.lanes=32:t.lanes=536870912,null}var g=i.children;return i=i.fallback,o?(Ln(),o=t.mode,g=Ar({mode:"hidden",children:g},o),i=ca(i,o,a,null),g.return=t,i.return=t,g.sibling=i,t.child=g,i=t.child,i.memoizedState=$o(a),i.childLanes=Go(e,m,a),t.memoizedState=Ho,ni(null,i)):(Bn(t),Vo(t,g))}var w=e.memoizedState;if(w!==null&&(g=w.dehydrated,g!==null)){if(u)t.flags&256?(Bn(t),t.flags&=-257,t=Io(e,t,a)):t.memoizedState!==null?(Ln(),t.child=e.child,t.flags|=128,t=null):(Ln(),g=i.fallback,o=t.mode,i=Ar({mode:"visible",children:i.children},o),g=ca(g,o,a,null),g.flags|=2,i.return=t,g.return=t,i.sibling=g,t.child=i,ya(t,e.child,null,a),i=t.child,i.memoizedState=$o(a),i.childLanes=Go(e,m,a),t.memoizedState=Ho,t=ni(null,i));else if(Bn(t),xu(g)){if(m=g.nextSibling&&g.nextSibling.dataset,m)var O=m.dgst;m=O,i=Error(l(419)),i.stack="",i.digest=m,Is({value:i,source:null,stack:null}),t=Io(e,t,a)}else if(Ze||Ja(e,t,a,!1),m=(a&e.childLanes)!==0,Ze||m){if(m=Ue,m!==null&&(i=Lc(m,a),i!==0&&i!==w.retryLane))throw w.retryLane=i,ua(e,i),St(m,e,i),Lo;Eu(g)||zr(),t=Io(e,t,a)}else Eu(g)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Be=Kt(g.nextSibling),rt=t,_e=!0,kn=null,It=!1,e!==null&&Uh(t,e),t=Vo(t,i.children),t.flags|=4096);return t}return o?(Ln(),g=i.fallback,o=t.mode,w=e.child,O=w.sibling,i=un(w,{mode:"hidden",children:i.children}),i.subtreeFlags=w.subtreeFlags&65011712,O!==null?g=un(O,g):(g=ca(g,o,a,null),g.flags|=2),g.return=t,i.return=t,i.sibling=g,t.child=i,ni(null,i),i=t.child,g=e.child.memoizedState,g===null?g=$o(a):(o=g.cachePool,o!==null?(w=Je._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Hh(),g={baseLanes:g.baseLanes|a,cachePool:o}),i.memoizedState=g,i.childLanes=Go(e,m,a),t.memoizedState=Ho,ni(e.child,i)):(Bn(t),a=e.child,e=a.sibling,a=un(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Vo(e,t){return t=Ar({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ar(e,t){return e=Ot(22,e,null,t),e.lanes=0,e}function Io(e,t,a){return ya(t,e.child,null,a),e=Vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wd(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),so(e.return,t,a)}function Qo(e,t,a,i,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function ef(e,t,a){var i=t.pendingProps,o=i.revealOrder,u=i.tail;i=i.children;var m=Ye.current,g=(m&2)!==0;if(g?(m=m&1|2,t.flags|=128):m&=1,Q(Ye,m),ot(e,t,i,a),i=_e?Vs:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wd(e,a,t);else if(e.tag===19)Wd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&pr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Qo(t,!1,o,a,u,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&pr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Qo(t,!0,a,null,u,i);break;case"together":Qo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function pn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ja(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=un(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=un(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ko(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&lr(e)))}function Qy(e,t,a){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),Dn(t,Je,e.memoizedState.cache),ha();break;case 27:case 5:Bt(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:Dn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yo(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Bn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Fd(e,t,a):(Bn(t),e=pn(e,t,a),e!==null?e.sibling:null);Bn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Ja(e,t,a,!1),i=(a&t.childLanes)!==0),o){if(i)return ef(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Q(Ye,Ye.current),i)break;return null;case 22:return t.lanes=0,Kd(e,t,a,t.pendingProps);case 24:Dn(t,Je,e.memoizedState.cache)}return pn(e,t,a)}function tf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ze=!0;else{if(!Ko(e,a)&&(t.flags&128)===0)return Ze=!1,Qy(e,t,a);Ze=(e.flags&131072)!==0}else Ze=!1,_e&&(t.flags&1048576)!==0&&Dh(t,Vs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=pa(t.elementType),t.type=e,typeof e=="function")Xl(e)?(i=_a(e,i),t.tag=1,t=Xd(null,t,e,i,a)):(t.tag=0,t=qo(null,t,e,i,a));else{if(e!=null){var o=e.$$typeof;if(o===F){t.tag=11,t=Vd(null,t,e,i,a);break e}else if(o===K){t.tag=14,t=Id(null,t,e,i,a);break e}}throw t=mt(e)||e,Error(l(306,t,""))}}return t;case 0:return qo(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,o=_a(i,t.pendingProps),Xd(e,t,i,o,a);case 3:e:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var u=t.memoizedState;o=u.element,ho(e,t),Zs(t,i,null,a);var m=t.memoizedState;if(i=m.cache,Dn(t,Je,i),i!==u.cache&&io(t,[Je],a,!0),Xs(),i=m.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Zd(e,t,i,a);break e}else if(i!==o){o=$t(Error(l(424)),t),Is(o),t=Zd(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Kt(e.firstChild),rt=t,_e=!0,kn=null,It=!0,a=Kh(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ha(),i===o){t=pn(e,t,a);break e}ot(e,t,i,a)}t=t.child}return t;case 26:return jr(e,t),e===null?(a=fm(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,i=Vr(fe.current).createElement(a),i[it]=t,i[vt]=e,ut(i,a,e),nt(i),t.stateNode=i):t.memoizedState=fm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Bt(t),e===null&&_e&&(i=t.stateNode=cm(t.type,t.pendingProps,fe.current),rt=t,It=!0,o=Be,Kn(t.type)?(Tu=o,Be=Kt(i.firstChild)):Be=o),ot(e,t,t.pendingProps.children,a),jr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((o=i=Be)&&(i=wg(i,t.type,t.pendingProps,It),i!==null?(t.stateNode=i,rt=t,Be=Kt(i.firstChild),It=!1,o=!0):o=!1),o||Nn(t)),Bt(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,i=u.children,bu(o,u)?i=null:m!==null&&bu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=_o(e,t,zy,null,null,a),yi._currentValue=o),jr(e,t),ot(e,t,i,a),t.child;case 6:return e===null&&_e&&((e=a=Be)&&(a=Sg(a,t.pendingProps,It),a!==null?(t.stateNode=a,rt=t,Be=null,e=!0):e=!1),e||Nn(t)),null;case 13:return Fd(e,t,a);case 4:return be(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ya(t,null,i,a):ot(e,t,i,a),t.child;case 11:return Vd(e,t,t.type,t.pendingProps,a);case 7:return ot(e,t,t.pendingProps,a),t.child;case 8:return ot(e,t,t.pendingProps.children,a),t.child;case 12:return ot(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Dn(t,t.type,i.value),ot(e,t,i.children,a),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,fa(t),o=lt(o),i=i(o),t.flags|=1,ot(e,t,i,a),t.child;case 14:return Id(e,t,t.type,t.pendingProps,a);case 15:return Qd(e,t,t.type,t.pendingProps,a);case 19:return ef(e,t,a);case 31:return Iy(e,t,a);case 22:return Kd(e,t,a,t.pendingProps);case 24:return fa(t),i=lt(Je),e===null?(o=oo(),o===null&&(o=Ue,u=ro(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:i,cache:o},co(t),Dn(t,Je,o)):((e.lanes&a)!==0&&(ho(e,t),Zs(t,null,null,a),Xs()),o=e.memoizedState,u=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Dn(t,Je,i)):(i=u.cache,Dn(t,Je,i),i!==o.cache&&io(t,[Je],a,!0))),ot(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function vn(e){e.flags|=4}function Yo(e,t,a,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Cf())e.flags|=8192;else throw va=hr,uo}else e.flags&=-16777217}function nf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gm(t))if(Cf())e.flags|=8192;else throw va=hr,uo}function Or(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Mc():536870912,e.lanes|=t,ls|=t)}function ai(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function Ky(e,t,a){var i=t.pendingProps;switch(eo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),dn(Je),Ce(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pa(t)?vn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,no())),Le(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(vn(t),u!==null?(Le(t),nf(t,u)):(Le(t),Yo(t,o,null,i,a))):u?u!==e.memoizedState?(vn(t),Le(t),nf(t,u)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&vn(t),Le(t),Yo(t,o,e,i,a)),null;case 27:if(na(t),a=fe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Le(t),null}e=X.current,Pa(t)?Mh(t):(e=cm(o,i,a),t.stateNode=e,vn(t))}return Le(t),null;case 5:if(na(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Le(t),null}if(u=X.current,Pa(t))Mh(t);else{var m=Vr(fe.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?m.createElement("select",{is:i.is}):m.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?m.createElement(o,{is:i.is}):m.createElement(o)}}u[it]=t,u[vt]=i;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(ut(u,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&vn(t)}}return Le(t),Yo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=fe.current,Pa(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,o=rt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[it]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Wf(e.nodeValue,a)),e||Nn(t,!0)}else e=Vr(e).createTextNode(i),e[it]=t,t.stateNode=e}return Le(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=Pa(t),a!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[it]=t}else ha(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else a=no(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Rt(t),t):(Rt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Le(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Pa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[it]=t}else ha(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),o=!1}else o=no(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Rt(t),t):(Rt(t),null)}return Rt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Or(t,t.updateQueue),Le(t),null);case 4:return Ce(),e===null&&pu(t.stateNode.containerInfo),Le(t),null;case 10:return dn(t.type),Le(t),null;case 19:if(q(Ye),i=t.memoizedState,i===null)return Le(t),null;if(o=(t.flags&128)!==0,u=i.rendering,u===null)if(o)ai(i,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=pr(e),u!==null){for(t.flags|=128,ai(i,!1),e=u.updateQueue,t.updateQueue=e,Or(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Rh(a,e),a=a.sibling;return Q(Ye,Ye.current&1|2),_e&&cn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&xt()>Dr&&(t.flags|=128,o=!0,ai(i,!1),t.lanes=4194304)}else{if(!o)if(e=pr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Or(t,e),ai(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!_e)return Le(t),null}else 2*xt()-i.renderingStartTime>Dr&&a!==536870912&&(t.flags|=128,o=!0,ai(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xt(),e.sibling=null,a=Ye.current,Q(Ye,o?a&1|2:a&1),_e&&cn(t,i.treeForkCount),e):(Le(t),null);case 22:case 23:return Rt(t),vo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),a=t.updateQueue,a!==null&&Or(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&q(ma),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),dn(Je),Le(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Yy(e,t){switch(eo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(Je),Ce(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return na(t),null;case 31:if(t.memoizedState!==null){if(Rt(t),t.alternate===null)throw Error(l(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Ye),null;case 4:return Ce(),null;case 10:return dn(t.type),null;case 22:case 23:return Rt(t),vo(),e!==null&&q(ma),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dn(Je),null;case 25:return null;default:return null}}function af(e,t){switch(eo(t),t.tag){case 3:dn(Je),Ce();break;case 26:case 27:case 5:na(t);break;case 4:Ce();break;case 31:t.memoizedState!==null&&Rt(t);break;case 13:Rt(t);break;case 19:q(Ye);break;case 10:dn(t.type);break;case 22:case 23:Rt(t),vo(),e!==null&&q(ma);break;case 24:dn(Je)}}function si(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){i=void 0;var u=a.create,m=a.inst;i=u(),m.destroy=i}a=a.next}while(a!==o)}}catch(g){Oe(t,t.return,g)}}function qn(e,t,a){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){var m=i.inst,g=m.destroy;if(g!==void 0){m.destroy=void 0,o=t;var w=a,O=g;try{O()}catch(z){Oe(o,w,z)}}}i=i.next}while(i!==u)}}catch(z){Oe(t,t.return,z)}}function sf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Ph(t,a)}catch(i){Oe(e,e.return,i)}}}function rf(e,t,a){a.props=_a(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Oe(e,t,i)}}function ii(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(o){Oe(e,t,o)}}function an(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(o){Oe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Oe(e,t,o)}else a.current=null}function lf(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(o){Oe(e,e.return,o)}}function Po(e,t,a){try{var i=e.stateNode;pg(i,e.type,a,t),i[vt]=t}catch(o){Oe(e,e.return,o)}}function of(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kn(e.type)||e.tag===4}function Jo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||of(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xo(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ln));else if(i!==4&&(i===27&&Kn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Xo(e,t,a),e=e.sibling;e!==null;)Xo(e,t,a),e=e.sibling}function Cr(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Kn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Cr(e,t,a),e=e.sibling;e!==null;)Cr(e,t,a),e=e.sibling}function uf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ut(t,i,a),t[it]=e,t[vt]=a}catch(u){Oe(e,e.return,u)}}var yn=!1,Fe=!1,Zo=!1,cf=typeof WeakSet=="function"?WeakSet:Set,at=null;function Py(e,t){if(e=e.containerInfo,gu=Xr,e=wh(e),Vl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,g=-1,w=-1,O=0,z=0,L=e,R=null;t:for(;;){for(var D;L!==a||o!==0&&L.nodeType!==3||(g=m+o),L!==u||i!==0&&L.nodeType!==3||(w=m+i),L.nodeType===3&&(m+=L.nodeValue.length),(D=L.firstChild)!==null;)R=L,L=D;for(;;){if(L===e)break t;if(R===a&&++O===o&&(g=m),R===u&&++z===i&&(w=m),(D=L.nextSibling)!==null)break;L=R,R=L.parentNode}L=D}a=g===-1||w===-1?null:{start:g,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(_u={focusedElem:e,selectionRange:a},Xr=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,i=a.stateNode;try{var J=_a(a.type,o);e=i.getSnapshotBeforeUpdate(J,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(se){Oe(a,a.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Su(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Su(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function hf(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:_n(e,a),i&4&&si(5,a);break;case 1:if(_n(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Oe(a,a.return,m)}else{var o=_a(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Oe(a,a.return,m)}}i&64&&sf(a),i&512&&ii(a,a.return);break;case 3:if(_n(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ph(e,t)}catch(m){Oe(a,a.return,m)}}break;case 27:t===null&&i&4&&uf(a);case 26:case 5:_n(e,a),t===null&&i&4&&lf(a),i&512&&ii(a,a.return);break;case 12:_n(e,a);break;case 31:_n(e,a),i&4&&mf(e,a);break;case 13:_n(e,a),i&4&&pf(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ag.bind(null,a),Eg(e,a))));break;case 22:if(i=a.memoizedState!==null||yn,!i){t=t!==null&&t.memoizedState!==null||Fe,o=yn;var u=Fe;yn=i,(Fe=t)&&!u?bn(e,a,(a.subtreeFlags&8772)!==0):_n(e,a),yn=o,Fe=u}break;case 30:break;default:_n(e,a)}}function df(e){var t=e.alternate;t!==null&&(e.alternate=null,df(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,gt=!1;function gn(e,t,a){for(a=a.child;a!==null;)ff(e,t,a),a=a.sibling}function ff(e,t,a){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Cs,a)}catch{}switch(a.tag){case 26:Fe||an(a,t),gn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Fe||an(a,t);var i=$e,o=gt;Kn(a.type)&&($e=a.stateNode,gt=!1),gn(e,t,a),mi(a.stateNode),$e=i,gt=o;break;case 5:Fe||an(a,t);case 6:if(i=$e,o=gt,$e=null,gn(e,t,a),$e=i,gt=o,$e!==null)if(gt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(u){Oe(a,t,u)}else try{$e.removeChild(a.stateNode)}catch(u){Oe(a,t,u)}break;case 18:$e!==null&&(gt?(e=$e,im(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ps(e)):im($e,a.stateNode));break;case 4:i=$e,o=gt,$e=a.stateNode.containerInfo,gt=!0,gn(e,t,a),$e=i,gt=o;break;case 0:case 11:case 14:case 15:qn(2,a,t),Fe||qn(4,a,t),gn(e,t,a);break;case 1:Fe||(an(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&rf(a,t,i)),gn(e,t,a);break;case 21:gn(e,t,a);break;case 22:Fe=(i=Fe)||a.memoizedState!==null,gn(e,t,a),Fe=i;break;default:gn(e,t,a)}}function mf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ps(e)}catch(a){Oe(t,t.return,a)}}}function pf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ps(e)}catch(a){Oe(t,t.return,a)}}function Jy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cf),t;default:throw Error(l(435,e.tag))}}function Rr(e,t){var a=Jy(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var o=sg.bind(null,e,i);i.then(o,o)}})}function _t(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var o=a[i],u=e,m=t,g=m;e:for(;g!==null;){switch(g.tag){case 27:if(Kn(g.type)){$e=g.stateNode,gt=!1;break e}break;case 5:$e=g.stateNode,gt=!1;break e;case 3:case 4:$e=g.stateNode.containerInfo,gt=!0;break e}g=g.return}if($e===null)throw Error(l(160));ff(u,m,o),$e=null,gt=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vf(t,e),t=t.sibling}var Xt=null;function vf(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),bt(e),i&4&&(qn(3,e,e.return),si(3,e),qn(5,e,e.return));break;case 1:_t(t,e),bt(e),i&512&&(Fe||a===null||an(a,a.return)),i&64&&yn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var o=Xt;if(_t(t,e),bt(e),i&512&&(Fe||a===null||an(a,a.return)),i&4){var u=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Ns]||u[it]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(i),o.head.insertBefore(u,o.querySelector("head > title"))),ut(u,i,a),u[it]=e,nt(u),i=u;break e;case"link":var m=vm("link","href",o).get(i+(a.href||""));if(m){for(var g=0;g<m.length;g++)if(u=m[g],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(g,1);break t}}u=o.createElement(i),ut(u,i,a),o.head.appendChild(u);break;case"meta":if(m=vm("meta","content",o).get(i+(a.content||""))){for(g=0;g<m.length;g++)if(u=m[g],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(g,1);break t}}u=o.createElement(i),ut(u,i,a),o.head.appendChild(u);break;default:throw Error(l(468,i))}u[it]=e,nt(u),i=u}e.stateNode=i}else ym(o,e.type,e.stateNode);else e.stateNode=pm(o,i,e.memoizedProps);else u!==i?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,i===null?ym(o,e.type,e.stateNode):pm(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Po(e,e.memoizedProps,a.memoizedProps)}break;case 27:_t(t,e),bt(e),i&512&&(Fe||a===null||an(a,a.return)),a!==null&&i&4&&Po(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_t(t,e),bt(e),i&512&&(Fe||a===null||an(a,a.return)),e.flags&32){o=e.stateNode;try{La(o,"")}catch(J){Oe(e,e.return,J)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Po(e,o,a!==null?a.memoizedProps:o)),i&1024&&(Zo=!0);break;case 6:if(_t(t,e),bt(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(J){Oe(e,e.return,J)}}break;case 3:if(Kr=null,o=Xt,Xt=Ir(t.containerInfo),_t(t,e),Xt=o,bt(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{ps(t.containerInfo)}catch(J){Oe(e,e.return,J)}Zo&&(Zo=!1,yf(e));break;case 4:i=Xt,Xt=Ir(e.stateNode.containerInfo),_t(t,e),bt(e),Xt=i;break;case 12:_t(t,e),bt(e);break;case 31:_t(t,e),bt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Rr(e,i)));break;case 13:_t(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nr=xt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Rr(e,i)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,O=yn,z=Fe;if(yn=O||o,Fe=z||w,_t(t,e),Fe=z,yn=O,bt(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||yn||Fe||ba(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(u=w.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{g=w.stateNode;var L=w.memoizedProps.style,R=L!=null&&L.hasOwnProperty("display")?L.display:null;g.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(J){Oe(w,w.return,J)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(J){Oe(w,w.return,J)}}}else if(t.tag===18){if(a===null){w=t;try{var D=w.stateNode;o?rm(D,!0):rm(w.stateNode,!1)}catch(J){Oe(w,w.return,J)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Rr(e,a))));break;case 19:_t(t,e),bt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Rr(e,i)));break;case 30:break;case 21:break;default:_t(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(of(i)){a=i;break}i=i.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=Jo(e);Cr(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(La(m,""),a.flags&=-33);var g=Jo(e);Cr(e,g,m);break;case 3:case 4:var w=a.stateNode.containerInfo,O=Jo(e);Xo(e,O,w);break;default:throw Error(l(161))}}catch(z){Oe(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;yf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _n(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hf(e,t.alternate,t),t=t.sibling}function ba(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qn(4,t,t.return),ba(t);break;case 1:an(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&rf(t,t.return,a),ba(t);break;case 27:mi(t.stateNode);case 26:case 5:an(t,t.return),ba(t);break;case 22:t.memoizedState===null&&ba(t);break;case 30:ba(t);break;default:ba(t)}e=e.sibling}}function bn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:bn(o,u,a),si(4,u);break;case 1:if(bn(o,u,a),i=u,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(O){Oe(i,i.return,O)}if(i=u,o=i.updateQueue,o!==null){var g=i.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Yh(w[o],g)}catch(O){Oe(i,i.return,O)}}a&&m&64&&sf(u),ii(u,u.return);break;case 27:uf(u);case 26:case 5:bn(o,u,a),a&&i===null&&m&4&&lf(u),ii(u,u.return);break;case 12:bn(o,u,a);break;case 31:bn(o,u,a),a&&m&4&&mf(o,u);break;case 13:bn(o,u,a),a&&m&4&&pf(o,u);break;case 22:u.memoizedState===null&&bn(o,u,a),ii(u,u.return);break;case 30:break;default:bn(o,u,a)}t=t.sibling}}function Fo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qs(a))}function Wo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qs(e))}function Zt(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gf(e,t,a,i),t=t.sibling}function gf(e,t,a,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,a,i),o&2048&&si(9,t);break;case 1:Zt(e,t,a,i);break;case 3:Zt(e,t,a,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qs(e)));break;case 12:if(o&2048){Zt(e,t,a,i),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,g=u.onPostCommit;typeof g=="function"&&g(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Oe(t,t.return,w)}}else Zt(e,t,a,i);break;case 31:Zt(e,t,a,i);break;case 13:Zt(e,t,a,i);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Zt(e,t,a,i):ri(e,t):u._visibility&2?Zt(e,t,a,i):(u._visibility|=2,ss(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Fo(m,t);break;case 24:Zt(e,t,a,i),o&2048&&Wo(t.alternate,t);break;default:Zt(e,t,a,i)}}function ss(e,t,a,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,g=a,w=i,O=m.flags;switch(m.tag){case 0:case 11:case 15:ss(u,m,g,w,o),si(8,m);break;case 23:break;case 22:var z=m.stateNode;m.memoizedState!==null?z._visibility&2?ss(u,m,g,w,o):ri(u,m):(z._visibility|=2,ss(u,m,g,w,o)),o&&O&2048&&Fo(m.alternate,m);break;case 24:ss(u,m,g,w,o),o&&O&2048&&Wo(m.alternate,m);break;default:ss(u,m,g,w,o)}t=t.sibling}}function ri(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,o=i.flags;switch(i.tag){case 22:ri(a,i),o&2048&&Fo(i.alternate,i);break;case 24:ri(a,i),o&2048&&Wo(i.alternate,i);break;default:ri(a,i)}t=t.sibling}}var li=8192;function is(e,t,a){if(e.subtreeFlags&li)for(e=e.child;e!==null;)_f(e,t,a),e=e.sibling}function _f(e,t,a){switch(e.tag){case 26:is(e,t,a),e.flags&li&&e.memoizedState!==null&&Mg(a,Xt,e.memoizedState,e.memoizedProps);break;case 5:is(e,t,a);break;case 3:case 4:var i=Xt;Xt=Ir(e.stateNode.containerInfo),is(e,t,a),Xt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=li,li=16777216,is(e,t,a),li=i):is(e,t,a));break;default:is(e,t,a)}}function bf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function oi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];at=i,Sf(i,e)}bf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wf(e),e=e.sibling}function wf(e){switch(e.tag){case 0:case 11:case 15:oi(e),e.flags&2048&&qn(9,e,e.return);break;case 3:oi(e);break;case 12:oi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kr(e)):oi(e);break;default:oi(e)}}function kr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];at=i,Sf(i,e)}bf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qn(8,t,t.return),kr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,kr(t));break;default:kr(t)}e=e.sibling}}function Sf(e,t){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:qn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Qs(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,at=i;else e:for(a=e;at!==null;){i=at;var o=i.sibling,u=i.return;if(df(i),i===a){at=null;break e}if(o!==null){o.return=u,at=o;break e}at=u}}}var Xy={getCacheForType:function(e){var t=lt(Je),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return lt(Je).controller.signal}},Zy=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ue=null,me=null,ve=0,Ae=0,kt=null,Hn=!1,rs=!1,eu=!1,wn=0,Qe=0,$n=0,wa=0,tu=0,Nt=0,ls=0,ui=null,wt=null,nu=!1,Nr=0,Ef=0,Dr=1/0,Ur=null,Gn=null,et=0,Vn=null,os=null,Sn=0,au=0,su=null,xf=null,ci=0,iu=null;function Dt(){return(xe&2)!==0&&ve!==0?ve&-ve:M.T!==null?hu():qc()}function Tf(){if(Nt===0)if((ve&536870912)===0||_e){var e=Gi;Gi<<=1,(Gi&3932160)===0&&(Gi=262144),Nt=e}else Nt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Nt}function St(e,t,a){(e===Ue&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(us(e,0),In(e,ve,Nt,!1)),ks(e,a),((xe&2)===0||e!==Ue)&&(e===Ue&&((xe&2)===0&&(wa|=a),Qe===4&&In(e,ve,Nt,!1)),sn(e))}function jf(e,t,a){if((xe&6)!==0)throw Error(l(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Rs(e,t),o=i?eg(e,t):lu(e,t,!0),u=i;do{if(o===0){rs&&!i&&In(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Fy(a)){o=lu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var g=e;o=ui;var w=g.current.memoizedState.isDehydrated;if(w&&(us(g,m).flags|=256),m=lu(g,m,!1),m!==2){if(eu&&!w){g.errorRecoveryDisabledLanes|=u,wa|=u,o=4;break e}u=wt,wt=o,u!==null&&(wt===null?wt=u:wt.push.apply(wt,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){us(e,0),In(e,t,0,!0);break}e:{switch(i=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:In(i,t,Nt,!Hn);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Nr+300-xt(),10<o)){if(In(i,t,Nt,!Hn),Ii(i,0,!0)!==0)break e;Sn=t,i.timeoutHandle=am(Af.bind(null,i,a,wt,Ur,nu,t,Nt,wa,ls,Hn,u,"Throttled",-0,0),o);break e}Af(i,a,wt,Ur,nu,t,Nt,wa,ls,Hn,u,null,-0,0)}}break}while(!0);sn(e)}function Af(e,t,a,i,o,u,m,g,w,O,z,L,R,D){if(e.timeoutHandle=-1,L=t.subtreeFlags,L&8192||(L&16785408)===16785408){L={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ln},_f(t,u,L);var J=(u&62914560)===u?Nr-xt():(u&4194048)===u?Ef-xt():0;if(J=zg(L,J),J!==null){Sn=u,e.cancelPendingCommit=J(Mf.bind(null,e,t,u,a,i,o,m,g,w,z,L,null,R,D)),In(e,u,m,!O);return}}Mf(e,t,u,a,i,o,m,g,w)}function Fy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var o=a[i],u=o.getSnapshot;o=o.value;try{if(!At(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function In(e,t,a,i){t&=~tu,t&=~wa,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var u=31-jt(o),m=1<<u;i[u]=-1,o&=~m}a!==0&&zc(e,a,t)}function Mr(){return(xe&6)===0?(hi(0),!1):!0}function ru(){if(me!==null){if(Ae===0)var e=me.return;else e=me,hn=da=null,So(e),Wa=null,Ys=0,e=me;for(;e!==null;)af(e.alternate,e),e=e.return;me=null}}function us(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,gg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Sn=0,ru(),Ue=e,me=a=un(e.current,null),ve=t,Ae=0,kt=null,Hn=!1,rs=Rs(e,t),eu=!1,ls=Nt=tu=wa=$n=Qe=0,wt=ui=null,nu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-jt(i),u=1<<o;t|=e[o],i&=~u}return wn=t,nr(),a}function Of(e,t){he=null,M.H=ti,t===Fa||t===cr?(t=Vh(),Ae=3):t===uo?(t=Vh(),Ae=4):Ae=t===Lo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,me===null&&(Qe=1,xr(e,$t(t,e.current)))}function Cf(){var e=Ct.current;return e===null?!0:(ve&4194048)===ve?Qt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===Qt:!1}function Rf(){var e=M.H;return M.H=ti,e===null?ti:e}function kf(){var e=M.A;return M.A=Xy,e}function zr(){Qe=4,Hn||(ve&4194048)!==ve&&Ct.current!==null||(rs=!0),($n&134217727)===0&&(wa&134217727)===0||Ue===null||In(Ue,ve,Nt,!1)}function lu(e,t,a){var i=xe;xe|=2;var o=Rf(),u=kf();(Ue!==e||ve!==t)&&(Ur=null,us(e,t)),t=!1;var m=Qe;e:do try{if(Ae!==0&&me!==null){var g=me,w=kt;switch(Ae){case 8:ru(),m=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var O=Ae;if(Ae=0,kt=null,cs(e,g,w,O),a&&rs){m=0;break e}break;default:O=Ae,Ae=0,kt=null,cs(e,g,w,O)}}Wy(),m=Qe;break}catch(z){Of(e,z)}while(!0);return t&&e.shellSuspendCounter++,hn=da=null,xe=i,M.H=o,M.A=u,me===null&&(Ue=null,ve=0,nr()),m}function Wy(){for(;me!==null;)Nf(me)}function eg(e,t){var a=xe;xe|=2;var i=Rf(),o=kf();Ue!==e||ve!==t?(Ur=null,Dr=xt()+500,us(e,t)):rs=Rs(e,t);e:do try{if(Ae!==0&&me!==null){t=me;var u=kt;t:switch(Ae){case 1:Ae=0,kt=null,cs(e,t,u,1);break;case 2:case 9:if($h(u)){Ae=0,kt=null,Df(t);break}t=function(){Ae!==2&&Ae!==9||Ue!==e||(Ae=7),sn(e)},u.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:$h(u)?(Ae=0,kt=null,Df(t)):(Ae=0,kt=null,cs(e,t,u,7));break;case 5:var m=null;switch(me.tag){case 26:m=me.memoizedState;case 5:case 27:var g=me;if(m?gm(m):g.stateNode.complete){Ae=0,kt=null;var w=g.sibling;if(w!==null)me=w;else{var O=g.return;O!==null?(me=O,Br(O)):me=null}break t}}Ae=0,kt=null,cs(e,t,u,5);break;case 6:Ae=0,kt=null,cs(e,t,u,6);break;case 8:ru(),Qe=6;break e;default:throw Error(l(462))}}tg();break}catch(z){Of(e,z)}while(!0);return hn=da=null,M.H=i,M.A=o,xe=a,me!==null?0:(Ue=null,ve=0,nr(),Qe)}function tg(){for(;me!==null&&!xv();)Nf(me)}function Nf(e){var t=tf(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?Br(e):me=t}function Df(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Jd(a,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=Jd(a,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:So(t);default:af(a,t),t=me=Rh(t,wn),t=tf(a,t,wn)}e.memoizedProps=e.pendingProps,t===null?Br(e):me=t}function cs(e,t,a,i){hn=da=null,So(t),Wa=null,Ys=0;var o=t.return;try{if(Vy(e,o,t,a,ve)){Qe=1,xr(e,$t(a,e.current)),me=null;return}}catch(u){if(o!==null)throw me=o,u;Qe=1,xr(e,$t(a,e.current)),me=null;return}t.flags&32768?(_e||i===1?e=!0:rs||(ve&536870912)!==0?e=!1:(Hn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ct.current,i!==null&&i.tag===13&&(i.flags|=16384))),Uf(t,e)):Br(t)}function Br(e){var t=e;do{if((t.flags&32768)!==0){Uf(t,Hn);return}e=t.return;var a=Ky(t.alternate,t,wn);if(a!==null){me=a;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Qe===0&&(Qe=5)}function Uf(e,t){do{var a=Yy(e.alternate,e);if(a!==null){a.flags&=32767,me=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=a}while(e!==null);Qe=6,me=null}function Mf(e,t,a,i,o,u,m,g,w){e.cancelPendingCommit=null;do Lr();while(et!==0);if((xe&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Pl,Uv(e,a,u,m,g,w),e===Ue&&(me=Ue=null,ve=0),os=t,Vn=e,Sn=a,au=u,su=o,xf=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ig(Hi,function(){return Hf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null,o=I.p,I.p=2,m=xe,xe|=4;try{Py(e,t,a)}finally{xe=m,I.p=o,M.T=i}}et=1,zf(),Bf(),Lf()}}function zf(){if(et===1){et=0;var e=Vn,t=os,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var i=I.p;I.p=2;var o=xe;xe|=4;try{vf(t,e);var u=_u,m=wh(e.containerInfo),g=u.focusedElem,w=u.selectionRange;if(m!==g&&g&&g.ownerDocument&&bh(g.ownerDocument.documentElement,g)){if(w!==null&&Vl(g)){var O=w.start,z=w.end;if(z===void 0&&(z=O),"selectionStart"in g)g.selectionStart=O,g.selectionEnd=Math.min(z,g.value.length);else{var L=g.ownerDocument||document,R=L&&L.defaultView||window;if(R.getSelection){var D=R.getSelection(),J=g.textContent.length,se=Math.min(w.start,J),Ne=w.end===void 0?se:Math.min(w.end,J);!D.extend&&se>Ne&&(m=Ne,Ne=se,se=m);var j=_h(g,se),E=_h(g,Ne);if(j&&E&&(D.rangeCount!==1||D.anchorNode!==j.node||D.anchorOffset!==j.offset||D.focusNode!==E.node||D.focusOffset!==E.offset)){var A=L.createRange();A.setStart(j.node,j.offset),D.removeAllRanges(),se>Ne?(D.addRange(A),D.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),D.addRange(A))}}}}for(L=[],D=g;D=D.parentNode;)D.nodeType===1&&L.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<L.length;g++){var B=L[g];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Xr=!!gu,_u=gu=null}finally{xe=o,I.p=i,M.T=a}}e.current=t,et=2}}function Bf(){if(et===2){et=0;var e=Vn,t=os,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var i=I.p;I.p=2;var o=xe;xe|=4;try{hf(e,t.alternate,t)}finally{xe=o,I.p=i,M.T=a}}et=3}}function Lf(){if(et===4||et===3){et=0,Tv();var e=Vn,t=os,a=Sn,i=xf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,os=Vn=null,qf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Gn=null),xl(a),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Cs,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=M.T,o=I.p,I.p=2,M.T=null;try{for(var u=e.onRecoverableError,m=0;m<i.length;m++){var g=i[m];u(g.value,{componentStack:g.stack})}}finally{M.T=t,I.p=o}}(Sn&3)!==0&&Lr(),sn(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===iu?ci++:(ci=0,iu=e):ci=0,hi(0)}}function qf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Qs(t)))}function Lr(){return zf(),Bf(),Lf(),Hf()}function Hf(){if(et!==5)return!1;var e=Vn,t=au;au=0;var a=xl(Sn),i=M.T,o=I.p;try{I.p=32>a?32:a,M.T=null,a=su,su=null;var u=Vn,m=Sn;if(et=0,os=Vn=null,Sn=0,(xe&6)!==0)throw Error(l(331));var g=xe;if(xe|=4,wf(u.current),gf(u,u.current,m,a),xe=g,hi(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Cs,u)}catch{}return!0}finally{I.p=o,M.T=i,qf(e,t)}}function $f(e,t,a){t=$t(a,t),t=Bo(e.stateNode,t,2),e=zn(e,t,2),e!==null&&(ks(e,2),sn(e))}function Oe(e,t,a){if(e.tag===3)$f(e,e,a);else for(;t!==null;){if(t.tag===3){$f(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gn===null||!Gn.has(i))){e=$t(a,e),a=$d(2),i=zn(t,a,2),i!==null&&(Gd(a,i,t,e),ks(i,2),sn(i));break}}t=t.return}}function ou(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Zy;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(a)||(eu=!0,o.add(a),e=ng.bind(null,e,t,a),t.then(e,e))}function ng(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(ve&a)===a&&(Qe===4||Qe===3&&(ve&62914560)===ve&&300>xt()-Nr?(xe&2)===0&&us(e,0):tu|=a,ls===ve&&(ls=0)),sn(e)}function Gf(e,t){t===0&&(t=Mc()),e=ua(e,t),e!==null&&(ks(e,t),sn(e))}function ag(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Gf(e,a)}function sg(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),Gf(e,a)}function ig(e,t){return bl(e,t)}var qr=null,hs=null,uu=!1,Hr=!1,cu=!1,Qn=0;function sn(e){e!==hs&&e.next===null&&(hs===null?qr=hs=e:hs=hs.next=e),Hr=!0,uu||(uu=!0,lg())}function hi(e,t){if(!cu&&Hr){cu=!0;do for(var a=!1,i=qr;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var u=0;else{var m=i.suspendedLanes,g=i.pingedLanes;u=(1<<31-jt(42|e)+1)-1,u&=o&~(m&~g),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Kf(i,u))}else u=ve,u=Ii(i,i===Ue?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||Rs(i,u)||(a=!0,Kf(i,u));i=i.next}while(a);cu=!1}}function rg(){Vf()}function Vf(){Hr=uu=!1;var e=0;Qn!==0&&yg()&&(e=Qn);for(var t=xt(),a=null,i=qr;i!==null;){var o=i.next,u=If(i,t);u===0?(i.next=null,a===null?qr=o:a.next=o,o===null&&(hs=a)):(a=i,(e!==0||(u&3)!==0)&&(Hr=!0)),i=o}et!==0&&et!==5||hi(e),Qn!==0&&(Qn=0)}function If(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-jt(u),g=1<<m,w=o[m];w===-1?((g&a)===0||(g&i)!==0)&&(o[m]=Dv(g,t)):w<=t&&(e.expiredLanes|=g),u&=~g}if(t=Ue,a=ve,a=Ii(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&wl(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Rs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&wl(i),xl(a)){case 2:case 8:a=Dc;break;case 32:a=Hi;break;case 268435456:a=Uc;break;default:a=Hi}return i=Qf.bind(null,e),a=bl(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&wl(i),e.callbackPriority=2,e.callbackNode=null,2}function Qf(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Lr()&&e.callbackNode!==a)return null;var i=ve;return i=Ii(e,e===Ue?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(jf(e,i,t),If(e,xt()),e.callbackNode!=null&&e.callbackNode===a?Qf.bind(null,e):null)}function Kf(e,t){if(Lr())return null;jf(e,t,!0)}function lg(){_g(function(){(xe&6)!==0?bl(Nc,rg):Vf()})}function hu(){if(Qn===0){var e=Xa;e===0&&(e=$i,$i<<=1,($i&261888)===0&&($i=256)),Qn=e}return Qn}function Yf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pi(""+e)}function Pf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function og(e,t,a,i,o){if(t==="submit"&&a&&a.stateNode===o){var u=Yf((o[vt]||null).action),m=i.submitter;m&&(t=(t=m[vt]||null)?Yf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var g=new Fi("action","action",null,i,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Qn!==0){var w=m?Pf(o,m):new FormData(o);ko(a,{pending:!0,data:w,method:o.method,action:u},null,w)}}else typeof u=="function"&&(g.preventDefault(),w=m?Pf(o,m):new FormData(o),ko(a,{pending:!0,data:w,method:o.method,action:u},u,w))},currentTarget:o}]})}}for(var du=0;du<Yl.length;du++){var fu=Yl[du],ug=fu.toLowerCase(),cg=fu[0].toUpperCase()+fu.slice(1);Jt(ug,"on"+cg)}Jt(xh,"onAnimationEnd"),Jt(Th,"onAnimationIteration"),Jt(jh,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(jy,"onTransitionRun"),Jt(Ay,"onTransitionStart"),Jt(Oy,"onTransitionCancel"),Jt(Ah,"onTransitionEnd"),za("onMouseEnter",["mouseout","mouseover"]),za("onMouseLeave",["mouseout","mouseover"]),za("onPointerEnter",["pointerout","pointerover"]),za("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(di));function Jf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var m=i.length-1;0<=m;m--){var g=i[m],w=g.instance,O=g.currentTarget;if(g=g.listener,w!==u&&o.isPropagationStopped())break e;u=g,o.currentTarget=O;try{u(o)}catch(z){tr(z)}o.currentTarget=null,u=w}else for(m=0;m<i.length;m++){if(g=i[m],w=g.instance,O=g.currentTarget,g=g.listener,w!==u&&o.isPropagationStopped())break e;u=g,o.currentTarget=O;try{u(o)}catch(z){tr(z)}o.currentTarget=null,u=w}}}}function pe(e,t){var a=t[Tl];a===void 0&&(a=t[Tl]=new Set);var i=e+"__bubble";a.has(i)||(Xf(t,e,2,!1),a.add(i))}function mu(e,t,a){var i=0;t&&(i|=4),Xf(a,e,i,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function pu(e){if(!e[$r]){e[$r]=!0,Gc.forEach(function(a){a!=="selectionchange"&&(hg.has(a)||mu(a,!1,e),mu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$r]||(t[$r]=!0,mu("selectionchange",!1,t))}}function Xf(e,t,a,i){switch(Tm(t)){case 2:var o=qg;break;case 8:o=Hg;break;default:o=Ru}a=o.bind(null,t,a,e),o=void 0,!Ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function vu(e,t,a,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var g=i.stateNode.containerInfo;if(g===o)break;if(m===4)for(m=i.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;g!==null;){if(m=Da(g),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){i=u=m;continue e}g=g.parentNode}}i=i.return}eh(function(){var O=u,z=Nl(a),L=[];e:{var R=Oh.get(e);if(R!==void 0){var D=Fi,J=e;switch(e){case"keypress":if(Xi(a)===0)break e;case"keydown":case"keyup":D=sy;break;case"focusin":J="focus",D=Ll;break;case"focusout":J="blur",D=Ll;break;case"beforeblur":case"afterblur":D=Ll;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=ah;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=ly;break;case xh:case Th:case jh:D=Jv;break;case Ah:D=uy;break;case"scroll":case"scrollend":D=Iv;break;case"wheel":D=hy;break;case"copy":case"cut":case"paste":D=Zv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=ih;break;case"toggle":case"beforetoggle":D=fy}var se=(t&4)!==0,Ne=!se&&(e==="scroll"||e==="scrollend"),j=se?R!==null?R+"Capture":null:R;se=[];for(var E=O,A;E!==null;){var B=E;if(A=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||A===null||j===null||(B=Us(E,j),B!=null&&se.push(fi(E,B,A))),Ne)break;E=E.return}0<se.length&&(R=new D(R,J,null,a,z),L.push({event:R,listeners:se}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&a!==kl&&(J=a.relatedTarget||a.fromElement)&&(Da(J)||J[Na]))break e;if((D||R)&&(R=z.window===z?z:(R=z.ownerDocument)?R.defaultView||R.parentWindow:window,D?(J=a.relatedTarget||a.toElement,D=O,J=J?Da(J):null,J!==null&&(Ne=h(J),se=J.tag,J!==Ne||se!==5&&se!==27&&se!==6)&&(J=null)):(D=null,J=O),D!==J)){if(se=ah,B="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(se=ih,B="onPointerLeave",j="onPointerEnter",E="pointer"),Ne=D==null?R:Ds(D),A=J==null?R:Ds(J),R=new se(B,E+"leave",D,a,z),R.target=Ne,R.relatedTarget=A,B=null,Da(z)===O&&(se=new se(j,E+"enter",J,a,z),se.target=A,se.relatedTarget=Ne,B=se),Ne=B,D&&J)t:{for(se=dg,j=D,E=J,A=0,B=j;B;B=se(B))A++;B=0;for(var ne=E;ne;ne=se(ne))B++;for(;0<A-B;)j=se(j),A--;for(;0<B-A;)E=se(E),B--;for(;A--;){if(j===E||E!==null&&j===E.alternate){se=j;break t}j=se(j),E=se(E)}se=null}else se=null;D!==null&&Zf(L,R,D,se,!1),J!==null&&Ne!==null&&Zf(L,Ne,J,se,!0)}}e:{if(R=O?Ds(O):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var Se=fh;else if(hh(R))if(mh)Se=Ey;else{Se=wy;var W=by}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?O&&Rl(O.elementType)&&(Se=fh):Se=Sy;if(Se&&(Se=Se(e,O))){dh(L,Se,a,z);break e}W&&W(e,R,O),e==="focusout"&&O&&R.type==="number"&&O.memoizedProps.value!=null&&Cl(R,"number",R.value)}switch(W=O?Ds(O):window,e){case"focusin":(hh(W)||W.contentEditable==="true")&&(Ga=W,Il=O,Gs=null);break;case"focusout":Gs=Il=Ga=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,Sh(L,a,z);break;case"selectionchange":if(Ty)break;case"keydown":case"keyup":Sh(L,a,z)}var de;if(Hl)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else $a?uh(e,a)&&(ye="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(rh&&a.locale!=="ko"&&($a||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&$a&&(de=th()):(Cn=z,Ml="value"in Cn?Cn.value:Cn.textContent,$a=!0)),W=Gr(O,ye),0<W.length&&(ye=new sh(ye,e,null,a,z),L.push({event:ye,listeners:W}),de?ye.data=de:(de=ch(a),de!==null&&(ye.data=de)))),(de=py?vy(e,a):yy(e,a))&&(ye=Gr(O,"onBeforeInput"),0<ye.length&&(W=new sh("onBeforeInput","beforeinput",null,a,z),L.push({event:W,listeners:ye}),W.data=de)),og(L,e,O,a,z)}Jf(L,t)})}function fi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Gr(e,t){for(var a=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Us(e,a),o!=null&&i.unshift(fi(e,o,u)),o=Us(e,t),o!=null&&i.push(fi(e,o,u))),e.tag===3)return i;e=e.return}return[]}function dg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zf(e,t,a,i,o){for(var u=t._reactName,m=[];a!==null&&a!==i;){var g=a,w=g.alternate,O=g.stateNode;if(g=g.tag,w!==null&&w===i)break;g!==5&&g!==26&&g!==27||O===null||(w=O,o?(O=Us(a,u),O!=null&&m.unshift(fi(a,O,w))):o||(O=Us(a,u),O!=null&&m.push(fi(a,O,w)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var fg=/\r\n?/g,mg=/\u0000|\uFFFD/g;function Ff(e){return(typeof e=="string"?e:""+e).replace(fg,`
`).replace(mg,"")}function Wf(e,t){return t=Ff(t),Ff(e)===t}function ke(e,t,a,i,o,u){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||La(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&La(e,""+i);break;case"className":Ki(e,"class",i);break;case"tabIndex":Ki(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(e,a,i);break;case"style":Fc(e,i,u);break;case"data":if(t!=="object"){Ki(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Pi(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&ke(e,t,"name",o.name,o,null),ke(e,t,"formEncType",o.formEncType,o,null),ke(e,t,"formMethod",o.formMethod,o,null),ke(e,t,"formTarget",o.formTarget,o,null)):(ke(e,t,"encType",o.encType,o,null),ke(e,t,"method",o.method,o,null),ke(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Pi(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=ln);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=Pi(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":pe("beforetoggle",e),pe("toggle",e),Qi(e,"popover",i);break;case"xlinkActuate":rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":rn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":rn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":rn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":rn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Qi(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gv.get(a)||a,Qi(e,a,i))}}function yu(e,t,a,i,o,u){switch(a){case"style":Fc(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof i=="string"?La(e,i):(typeof i=="number"||typeof i=="bigint")&&La(e,""+i);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=ln);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[vt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof i=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,o);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Qi(e,a,i)}}}function ut(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var i=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ke(e,t,u,m,a,null)}}o&&ke(e,t,"srcSet",a.srcSet,a,null),i&&ke(e,t,"src",a.src,a,null);return;case"input":pe("invalid",e);var g=u=m=o=null,w=null,O=null;for(i in a)if(a.hasOwnProperty(i)){var z=a[i];if(z!=null)switch(i){case"name":o=z;break;case"type":m=z;break;case"checked":w=z;break;case"defaultChecked":O=z;break;case"value":u=z;break;case"defaultValue":g=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:ke(e,t,i,z,a,null)}}Pc(e,u,g,w,O,m,o,!1);return;case"select":pe("invalid",e),i=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(g=a[o],g!=null))switch(o){case"value":u=g;break;case"defaultValue":m=g;break;case"multiple":i=g;default:ke(e,t,o,g,a,null)}t=u,a=m,e.multiple=!!i,t!=null?Ba(e,!!i,t,!1):a!=null&&Ba(e,!!i,a,!0);return;case"textarea":pe("invalid",e),u=o=i=null;for(m in a)if(a.hasOwnProperty(m)&&(g=a[m],g!=null))switch(m){case"value":i=g;break;case"defaultValue":o=g;break;case"children":u=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(l(91));break;default:ke(e,t,m,g,a,null)}Xc(e,i,o,u);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(i=a[w],i!=null))switch(w){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ke(e,t,w,i,a,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(i=0;i<di.length;i++)pe(di[i],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(i=a[O],i!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:ke(e,t,O,i,a,null)}return;default:if(Rl(t)){for(z in a)a.hasOwnProperty(z)&&(i=a[z],i!==void 0&&yu(e,t,z,i,a,void 0));return}}for(g in a)a.hasOwnProperty(g)&&(i=a[g],i!=null&&ke(e,t,g,i,a,null))}function pg(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,g=null,w=null,O=null,z=null;for(D in a){var L=a[D];if(a.hasOwnProperty(D)&&L!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":w=L;default:i.hasOwnProperty(D)||ke(e,t,D,null,i,L)}}for(var R in i){var D=i[R];if(L=a[R],i.hasOwnProperty(R)&&(D!=null||L!=null))switch(R){case"type":u=D;break;case"name":o=D;break;case"checked":O=D;break;case"defaultChecked":z=D;break;case"value":m=D;break;case"defaultValue":g=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:D!==L&&ke(e,t,R,D,i,L)}}Ol(e,m,g,w,O,z,u,o);return;case"select":D=m=g=R=null;for(u in a)if(w=a[u],a.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":D=w;default:i.hasOwnProperty(u)||ke(e,t,u,null,i,w)}for(o in i)if(u=i[o],w=a[o],i.hasOwnProperty(o)&&(u!=null||w!=null))switch(o){case"value":R=u;break;case"defaultValue":g=u;break;case"multiple":m=u;default:u!==w&&ke(e,t,o,u,i,w)}t=g,a=m,i=D,R!=null?Ba(e,!!a,R,!1):!!i!=!!a&&(t!=null?Ba(e,!!a,t,!0):Ba(e,!!a,a?[]:"",!1));return;case"textarea":D=R=null;for(g in a)if(o=a[g],a.hasOwnProperty(g)&&o!=null&&!i.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:ke(e,t,g,null,i,o)}for(m in i)if(o=i[m],u=a[m],i.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":R=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&ke(e,t,m,o,i,u)}Jc(e,R,D);return;case"option":for(var J in a)if(R=a[J],a.hasOwnProperty(J)&&R!=null&&!i.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:ke(e,t,J,null,i,R)}for(w in i)if(R=i[w],D=a[w],i.hasOwnProperty(w)&&R!==D&&(R!=null||D!=null))switch(w){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:ke(e,t,w,R,i,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)R=a[se],a.hasOwnProperty(se)&&R!=null&&!i.hasOwnProperty(se)&&ke(e,t,se,null,i,R);for(O in i)if(R=i[O],D=a[O],i.hasOwnProperty(O)&&R!==D&&(R!=null||D!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,t));break;default:ke(e,t,O,R,i,D)}return;default:if(Rl(t)){for(var Ne in a)R=a[Ne],a.hasOwnProperty(Ne)&&R!==void 0&&!i.hasOwnProperty(Ne)&&yu(e,t,Ne,void 0,i,R);for(z in i)R=i[z],D=a[z],!i.hasOwnProperty(z)||R===D||R===void 0&&D===void 0||yu(e,t,z,R,i,D);return}}for(var j in a)R=a[j],a.hasOwnProperty(j)&&R!=null&&!i.hasOwnProperty(j)&&ke(e,t,j,null,i,R);for(L in i)R=i[L],D=a[L],!i.hasOwnProperty(L)||R===D||R==null&&D==null||ke(e,t,L,R,i,D)}function em(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var o=a[i],u=o.transferSize,m=o.initiatorType,g=o.duration;if(u&&g&&em(m)){for(m=0,g=o.responseEnd,i+=1;i<a.length;i++){var w=a[i],O=w.startTime;if(O>g)break;var z=w.transferSize,L=w.initiatorType;z&&em(L)&&(w=w.responseEnd,m+=z*(w<g?1:(g-O)/(w-O)))}if(--i,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gu=null,_u=null;function Vr(e){return e.nodeType===9?e:e.ownerDocument}function tm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=null;function yg(){var e=window.event;return e&&e.type==="popstate"?e===wu?!1:(wu=e,!0):(wu=null,!1)}var am=typeof setTimeout=="function"?setTimeout:void 0,gg=typeof clearTimeout=="function"?clearTimeout:void 0,sm=typeof Promise=="function"?Promise:void 0,_g=typeof queueMicrotask=="function"?queueMicrotask:typeof sm<"u"?function(e){return sm.resolve(null).then(e).catch(bg)}:am;function bg(e){setTimeout(function(){throw e})}function Kn(e){return e==="head"}function im(e,t){var a=t,i=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(o),ps(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")mi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,mi(a);for(var u=a.firstChild;u;){var m=u.nextSibling,g=u.nodeName;u[Ns]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&mi(e.ownerDocument.body);a=o}while(a);ps(t)}function rm(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function Su(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Su(a),jl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wg(e,t,a,i){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ns])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function Sg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kt(e.nextSibling),e===null))return null;return e}function lm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function Eu(e){return e.data==="$?"||e.data==="$~"}function xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Eg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Tu=null;function om(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Kt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function um(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function cm(e,t,a){switch(t=Vr(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function mi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jl(e)}var Yt=new Map,hm=new Set;function Ir(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=I.d;I.d={f:xg,r:Tg,D:jg,C:Ag,L:Og,m:Cg,X:kg,S:Rg,M:Ng};function xg(){var e=En.f(),t=Mr();return e||t}function Tg(e){var t=Ua(e);t!==null&&t.tag===5&&t.type==="form"?Ad(t):En.r(e)}var ds=typeof document>"u"?null:document;function dm(e,t,a){var i=ds;if(i&&typeof t=="string"&&t){var o=qt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),hm.has(o)||(hm.add(o),e={rel:e,crossOrigin:a,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),ut(t,"link",e),nt(t),i.head.appendChild(t)))}}function jg(e){En.D(e),dm("dns-prefetch",e,null)}function Ag(e,t){En.C(e,t),dm("preconnect",e,t)}function Og(e,t,a){En.L(e,t,a);var i=ds;if(i&&e&&t){var o='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+qt(a.imageSizes)+'"]')):o+='[href="'+qt(e)+'"]';var u=o;switch(t){case"style":u=fs(e);break;case"script":u=ms(e)}Yt.has(u)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Yt.set(u,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(pi(u))||t==="script"&&i.querySelector(vi(u))||(t=i.createElement("link"),ut(t,"link",e),nt(t),i.head.appendChild(t)))}}function Cg(e,t){En.m(e,t);var a=ds;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+qt(i)+'"][href="'+qt(e)+'"]',u=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ms(e)}if(!Yt.has(u)&&(e=b({rel:"modulepreload",href:e},t),Yt.set(u,e),a.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vi(u)))return}i=a.createElement("link"),ut(i,"link",e),nt(i),a.head.appendChild(i)}}}function Rg(e,t,a){En.S(e,t,a);var i=ds;if(i&&e){var o=Ma(i).hoistableStyles,u=fs(e);t=t||"default";var m=o.get(u);if(!m){var g={loading:0,preload:null};if(m=i.querySelector(pi(u)))g.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Yt.get(u))&&ju(e,a);var w=m=i.createElement("link");nt(w),ut(w,"link",e),w._p=new Promise(function(O,z){w.onload=O,w.onerror=z}),w.addEventListener("load",function(){g.loading|=1}),w.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Qr(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:g},o.set(u,m)}}}function kg(e,t){En.X(e,t);var a=ds;if(a&&e){var i=Ma(a).hoistableScripts,o=ms(e),u=i.get(o);u||(u=a.querySelector(vi(o)),u||(e=b({src:e,async:!0},t),(t=Yt.get(o))&&Au(e,t),u=a.createElement("script"),nt(u),ut(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function Ng(e,t){En.M(e,t);var a=ds;if(a&&e){var i=Ma(a).hoistableScripts,o=ms(e),u=i.get(o);u||(u=a.querySelector(vi(o)),u||(e=b({src:e,async:!0,type:"module"},t),(t=Yt.get(o))&&Au(e,t),u=a.createElement("script"),nt(u),ut(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function fm(e,t,a,i){var o=(o=fe.current)?Ir(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=fs(a.href),a=Ma(o).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=fs(a.href);var u=Ma(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(pi(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Yt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(e,a),u||Dg(o,e,a,m.state))),t&&i===null)throw Error(l(528,""));return m}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ms(a),a=Ma(o).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function fs(e){return'href="'+qt(e)+'"'}function pi(e){return'link[rel="stylesheet"]['+e+"]"}function mm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Dg(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ut(t,"link",a),nt(t),e.head.appendChild(t))}function ms(e){return'[src="'+qt(e)+'"]'}function vi(e){return"script[async]"+e}function pm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+qt(a.href)+'"]');if(i)return t.instance=i,nt(i),i;var o=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),nt(i),ut(i,"style",o),Qr(i,a.precedence,e),t.instance=i;case"stylesheet":o=fs(a.href);var u=e.querySelector(pi(o));if(u)return t.state.loading|=4,t.instance=u,nt(u),u;i=mm(a),(o=Yt.get(o))&&ju(i,o),u=(e.ownerDocument||e).createElement("link"),nt(u);var m=u;return m._p=new Promise(function(g,w){m.onload=g,m.onerror=w}),ut(u,"link",i),t.state.loading|=4,Qr(u,a.precedence,e),t.instance=u;case"script":return u=ms(a.src),(o=e.querySelector(vi(u)))?(t.instance=o,nt(o),o):(i=a,(o=Yt.get(u))&&(i=b({},a),Au(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),nt(o),ut(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Qr(i,a.precedence,e));return t.instance}function Qr(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,u=o,m=0;m<i.length;m++){var g=i[m];if(g.dataset.precedence===t)u=g;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Kr=null;function vm(e,t,a){if(Kr===null){var i=new Map,o=Kr=new Map;o.set(a,i)}else o=Kr,i=o.get(a),i||(i=new Map,o.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Ns]||u[it]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var g=i.get(m);g?g.push(u):i.set(m,[u])}}return i}function ym(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ug(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Mg(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=fs(i.href),u=t.querySelector(pi(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Yr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,nt(u);return}u=t.ownerDocument||t,i=mm(i),(o=Yt.get(o))&&ju(i,o),u=u.createElement("link"),nt(u);var m=u;m._p=new Promise(function(g,w){m.onload=g,m.onerror=w}),ut(u,"link",i),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Yr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Ou=0;function zg(e,t){return e.stylesheets&&e.count===0&&Jr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&Jr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Ou===0&&(Ou=62500*vg());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ou?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Yr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pr=null;function Jr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pr=new Map,t.forEach(Bg,e),Pr=null,Yr.call(e))}function Bg(e,t){if(!(t.state.loading&4)){var a=Pr.get(e);if(a)var i=a.get(null);else{a=new Map,Pr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),i=m)}i&&a.set(null,i)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||i,u===i&&a.set(null,o),a.set(m,o),this.count++,i=Yr.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var yi={$$typeof:H,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Lg(e,t,a,i,o,u,m,g,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.hiddenUpdates=Sl(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function _m(e,t,a,i,o,u,m,g,w,O,z,L){return e=new Lg(e,t,a,m,w,O,z,L,g),t=1,u===!0&&(t|=24),u=Ot(3,null,null,t),e.current=u,u.stateNode=e,t=ro(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:a,cache:t},co(u),e}function bm(e){return e?(e=Qa,e):Qa}function wm(e,t,a,i,o,u){o=bm(o),i.context===null?i.context=o:i.pendingContext=o,i=Mn(t),i.payload={element:a},u=u===void 0?null:u,u!==null&&(i.callback=u),a=zn(e,i,t),a!==null&&(St(a,e,t),Js(a,e,t))}function Sm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Cu(e,t){Sm(e,t),(e=e.alternate)&&Sm(e,t)}function Em(e){if(e.tag===13||e.tag===31){var t=ua(e,67108864);t!==null&&St(t,e,67108864),Cu(e,67108864)}}function xm(e){if(e.tag===13||e.tag===31){var t=Dt();t=El(t);var a=ua(e,t);a!==null&&St(a,e,t),Cu(e,t)}}var Xr=!0;function qg(e,t,a,i){var o=M.T;M.T=null;var u=I.p;try{I.p=2,Ru(e,t,a,i)}finally{I.p=u,M.T=o}}function Hg(e,t,a,i){var o=M.T;M.T=null;var u=I.p;try{I.p=8,Ru(e,t,a,i)}finally{I.p=u,M.T=o}}function Ru(e,t,a,i){if(Xr){var o=ku(i);if(o===null)vu(e,t,i,Zr,a),jm(e,i);else if(Gg(o,e,t,a,i))i.stopPropagation();else if(jm(e,i),t&4&&-1<$g.indexOf(e)){for(;o!==null;){var u=Ua(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=sa(u.pendingLanes);if(m!==0){var g=u;for(g.pendingLanes|=2,g.entangledLanes|=2;m;){var w=1<<31-jt(m);g.entanglements[1]|=w,m&=~w}sn(u),(xe&6)===0&&(Dr=xt()+500,hi(0))}}break;case 31:case 13:g=ua(u,2),g!==null&&St(g,u,2),Mr(),Cu(u,2)}if(u=ku(i),u===null&&vu(e,t,i,Zr,a),u===o)break;o=u}o!==null&&i.stopPropagation()}else vu(e,t,i,null,a)}}function ku(e){return e=Nl(e),Nu(e)}var Zr=null;function Nu(e){if(Zr=null,e=Da(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=d(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zr=e,null}function Tm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jv()){case Nc:return 2;case Dc:return 8;case Hi:case Av:return 32;case Uc:return 268435456;default:return 32}default:return 32}}var Du=!1,Yn=null,Pn=null,Jn=null,gi=new Map,_i=new Map,Xn=[],$g="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":gi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(t.pointerId)}}function bi(e,t,a,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ua(t),t!==null&&Em(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Gg(e,t,a,i,o){switch(t){case"focusin":return Yn=bi(Yn,e,t,a,i,o),!0;case"dragenter":return Pn=bi(Pn,e,t,a,i,o),!0;case"mouseover":return Jn=bi(Jn,e,t,a,i,o),!0;case"pointerover":var u=o.pointerId;return gi.set(u,bi(gi.get(u)||null,e,t,a,i,o)),!0;case"gotpointercapture":return u=o.pointerId,_i.set(u,bi(_i.get(u)||null,e,t,a,i,o)),!0}return!1}function Am(e){var t=Da(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=d(a),t!==null){e.blockedOn=t,Hc(e.priority,function(){xm(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,Hc(e.priority,function(){xm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ku(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);kl=i,a.target.dispatchEvent(i),kl=null}else return t=Ua(a),t!==null&&Em(t),e.blockedOn=a,!1;t.shift()}return!0}function Om(e,t,a){Fr(e)&&a.delete(t)}function Vg(){Du=!1,Yn!==null&&Fr(Yn)&&(Yn=null),Pn!==null&&Fr(Pn)&&(Pn=null),Jn!==null&&Fr(Jn)&&(Jn=null),gi.forEach(Om),_i.forEach(Om)}function Wr(e,t){e.blockedOn===t&&(e.blockedOn=null,Du||(Du=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vg)))}var el=null;function Cm(e){el!==e&&(el=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){el===e&&(el=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Nu(i||a)===null)continue;break}var u=Ua(a);u!==null&&(e.splice(t,3),t-=3,ko(u,{pending:!0,data:o,method:a.method,action:i},i,o))}}))}function ps(e){function t(w){return Wr(w,e)}Yn!==null&&Wr(Yn,e),Pn!==null&&Wr(Pn,e),Jn!==null&&Wr(Jn,e),gi.forEach(t),_i.forEach(t);for(var a=0;a<Xn.length;a++){var i=Xn[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Xn.length&&(a=Xn[0],a.blockedOn===null);)Am(a),a.blockedOn===null&&Xn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var o=a[i],u=a[i+1],m=o[vt]||null;if(typeof u=="function")m||Cm(a);else if(m){var g=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[vt]||null)g=m.formAction;else if(Nu(o)!==null)continue}else g=m.action;typeof g=="function"?a[i+1]=g:(a.splice(i,3),i-=3),Cm(a)}}}function Rm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Uu(e){this._internalRoot=e}tl.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,i=Dt();wm(a,i,e,t,null,null)},tl.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wm(e.current,2,null,e,null,null),Mr(),t[Na]=null}};function tl(e){this._internalRoot=e}tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=qc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Xn.length&&t!==0&&t<Xn[a].priority;a++);Xn.splice(a,0,e),a===0&&Am(e)}};var km=n.version;if(km!=="19.2.0")throw Error(l(527,km,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=y(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Ig={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Cs=nl.inject(Ig),Tt=nl}catch{}}return Si.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,i="",o=Bd,u=Ld,m=qd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=_m(e,1,!1,null,null,a,i,null,o,u,m,Rm),e[Na]=t.current,pu(e),new Uu(t)},Si.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var i=!1,o="",u=Bd,m=Ld,g=qd,w=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=_m(e,1,!0,t,a??null,i,o,w,u,m,g,Rm),t.context=bm(null),a=t.current,i=Dt(),i=El(i),o=Mn(i),o.callback=null,zn(a,o,i),a=i,t.current.lanes=a,ks(t,a),sn(t),e[Na]=t.current,pu(e),new tl(t)},Si.version="19.2.0",Si}var $m;function n0(){if($m)return Bu.exports;$m=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Bu.exports=t0(),Bu.exports}var a0=n0();const s0=Dp(a0);var zi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},i0={setTimeout:(s,n)=>setTimeout(s,n),clearTimeout:s=>clearTimeout(s),setInterval:(s,n)=>setInterval(s,n),clearInterval:s=>clearInterval(s)},r0=class{#e=i0;#t=!1;setTimeoutProvider(s){this.#e=s}setTimeout(s,n){return this.#e.setTimeout(s,n)}clearTimeout(s){this.#e.clearTimeout(s)}setInterval(s,n){return this.#e.setInterval(s,n)}clearInterval(s){this.#e.clearInterval(s)}},Ca=new r0;function l0(s){setTimeout(s,0)}var ka=typeof window>"u"||"Deno"in globalThis;function Et(){}function o0(s,n){return typeof s=="function"?s(n):s}function ec(s){return typeof s=="number"&&s>=0&&s!==1/0}function Mp(s,n){return Math.max(s+(n||0)-Date.now(),0)}function ta(s,n){return typeof s=="function"?s(n):s}function Pt(s,n){return typeof s=="function"?s(n):s}function Gm(s,n){const{type:r="all",exact:l,fetchStatus:c,predicate:h,queryKey:d,stale:p}=s;if(d){if(l){if(n.queryHash!==gc(d,n.options))return!1}else if(!Ci(n.queryKey,d))return!1}if(r!=="all"){const v=n.isActive();if(r==="active"&&!v||r==="inactive"&&v)return!1}return!(typeof p=="boolean"&&n.isStale()!==p||c&&c!==n.state.fetchStatus||h&&!h(n))}function Vm(s,n){const{exact:r,status:l,predicate:c,mutationKey:h}=s;if(h){if(!n.options.mutationKey)return!1;if(r){if(Oi(n.options.mutationKey)!==Oi(h))return!1}else if(!Ci(n.options.mutationKey,h))return!1}return!(l&&n.state.status!==l||c&&!c(n))}function gc(s,n){return(n?.queryKeyHashFn||Oi)(s)}function Oi(s){return JSON.stringify(s,(n,r)=>nc(r)?Object.keys(r).sort().reduce((l,c)=>(l[c]=r[c],l),{}):r)}function Ci(s,n){return s===n?!0:typeof s!=typeof n?!1:s&&n&&typeof s=="object"&&typeof n=="object"?Object.keys(n).every(r=>Ci(s[r],n[r])):!1}var u0=Object.prototype.hasOwnProperty;function zp(s,n){if(s===n)return s;const r=Im(s)&&Im(n);if(!r&&!(nc(s)&&nc(n)))return n;const c=(r?s:Object.keys(s)).length,h=r?n:Object.keys(n),d=h.length,p=r?new Array(d):{};let v=0;for(let y=0;y<d;y++){const _=r?y:h[y],b=s[_],S=n[_];if(b===S){p[_]=b,(r?y<c:u0.call(s,_))&&v++;continue}if(b===null||S===null||typeof b!="object"||typeof S!="object"){p[_]=S;continue}const C=zp(b,S);p[_]=C,C===b&&v++}return c===d&&v===c?s:p}function tc(s,n){if(!n||Object.keys(s).length!==Object.keys(n).length)return!1;for(const r in s)if(s[r]!==n[r])return!1;return!0}function Im(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function nc(s){if(!Qm(s))return!1;const n=s.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!Qm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Qm(s){return Object.prototype.toString.call(s)==="[object Object]"}function c0(s){return new Promise(n=>{Ca.setTimeout(n,s)})}function ac(s,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(s,n):r.structuralSharing!==!1?zp(s,n):n}function h0(s,n,r=0){const l=[...s,n];return r&&l.length>r?l.slice(1):l}function d0(s,n,r=0){const l=[n,...s];return r&&l.length>r?l.slice(0,-1):l}var _c=Symbol();function Bp(s,n){return!s.queryFn&&n?.initialPromise?()=>n.initialPromise:!s.queryFn||s.queryFn===_c?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function f0(s,n){return typeof s=="function"?s(...n):!!s}var m0=class extends zi{#e;#t;#n;constructor(){super(),this.#n=s=>{if(!ka&&window.addEventListener){const n=()=>s();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#n=s,this.#t?.(),this.#t=s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(n=>{n(s)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},bc=new m0;function sc(){let s,n;const r=new Promise((c,h)=>{s=c,n=h});r.status="pending",r.catch(()=>{});function l(c){Object.assign(r,c),delete r.resolve,delete r.reject}return r.resolve=c=>{l({status:"fulfilled",value:c}),s(c)},r.reject=c=>{l({status:"rejected",reason:c}),n(c)},r}var p0=l0;function v0(){let s=[],n=0,r=p=>{p()},l=p=>{p()},c=p0;const h=p=>{n?s.push(p):c(()=>{r(p)})},d=()=>{const p=s;s=[],p.length&&c(()=>{l(()=>{p.forEach(v=>{r(v)})})})};return{batch:p=>{let v;n++;try{v=p()}finally{n--,n||d()}return v},batchCalls:p=>(...v)=>{h(()=>{p(...v)})},schedule:h,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{l=p},setScheduler:p=>{c=p}}}var dt=v0(),y0=class extends zi{#e=!0;#t;#n;constructor(){super(),this.#n=s=>{if(!ka&&window.addEventListener){const n=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#n=s,this.#t?.(),this.#t=s(this.setOnline.bind(this))}setOnline(s){this.#e!==s&&(this.#e=s,this.listeners.forEach(r=>{r(s)}))}isOnline(){return this.#e}},ol=new y0;function g0(s){return Math.min(1e3*2**s,3e4)}function Lp(s){return(s??"online")==="online"?ol.isOnline():!0}var ic=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function qp(s){let n=!1,r=0,l;const c=sc(),h=()=>c.status!=="pending",d=x=>{if(!h()){const U=new ic(x);S(U),s.onCancel?.(U)}},p=()=>{n=!0},v=()=>{n=!1},y=()=>bc.isFocused()&&(s.networkMode==="always"||ol.isOnline())&&s.canRun(),_=()=>Lp(s.networkMode)&&s.canRun(),b=x=>{h()||(l?.(),c.resolve(x))},S=x=>{h()||(l?.(),c.reject(x))},C=()=>new Promise(x=>{l=U=>{(h()||y())&&x(U)},s.onPause?.()}).then(()=>{l=void 0,h()||s.onContinue?.()}),k=()=>{if(h())return;let x;const U=r===0?s.initialPromise:void 0;try{x=U??s.fn()}catch(N){x=Promise.reject(N)}Promise.resolve(x).then(b).catch(N=>{if(h())return;const G=s.retry??(ka?0:3),H=s.retryDelay??g0,F=typeof H=="function"?H(r,N):H,ce=G===!0||typeof G=="number"&&r<G||typeof G=="function"&&G(r,N);if(n||!ce){S(N);return}r++,s.onFail?.(r,N),c0(F).then(()=>y()?void 0:C()).then(()=>{n?S(N):k()})})};return{promise:c,status:()=>c.status,cancel:d,continue:()=>(l?.(),c),cancelRetry:p,continueRetry:v,canStart:_,start:()=>(_()?k():C().then(k),c)}}var Hp=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ec(this.gcTime)&&(this.#e=Ca.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(ka?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ca.clearTimeout(this.#e),this.#e=void 0)}},_0=class extends Hp{#e;#t;#n;#s;#a;#l;#r;constructor(s){super(),this.#r=!1,this.#l=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#s=s.client,this.#n=this.#s.getQueryCache(),this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#e=Km(this.options),this.state=s.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(s){if(this.options={...this.#l,...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Km(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(s,n){const r=ac(this.state.data,s,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(s,n){this.#i({type:"setState",state:s,setStateOptions:n})}cancel(s){const n=this.#a?.promise;return this.#a?.cancel(s),n?n.then(Et).catch(Et):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(s=>Pt(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_c||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>ta(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Mp(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(n=>n!==s),this.observers.length||(this.#a&&(this.#r?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(s,n){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(s&&this.setOptions(s),!this.options.queryFn){const p=this.observers.find(v=>v.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,l=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(this.#r=!0,r.signal)})},c=()=>{const p=Bp(this.options,n),y=(()=>{const _={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(_),_})();return this.#r=!1,this.options.persister?this.options.persister(p,y,this):p(y)},d=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return l(p),p})();this.options.behavior?.onFetch(d,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==d.fetchOptions?.meta)&&this.#i({type:"fetch",meta:d.fetchOptions?.meta}),this.#a=qp({initialPromise:n?.initialPromise,fn:d.fetchFn,onCancel:p=>{p instanceof ic&&p.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(p,v)=>{this.#i({type:"failed",failureCount:p,error:v})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0});try{const p=await this.#a.start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),this.#n.config.onSuccess?.(p,this),this.#n.config.onSettled?.(p,this.state.error,this),p}catch(p){if(p instanceof ic){if(p.silent)return this.#a.promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw this.#i({type:"error",error:p}),this.#n.config.onError?.(p,this),this.#n.config.onSettled?.(this.state.data,p,this),p}finally{this.scheduleGc()}}#i(s){const n=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$p(r.data,this.options),fetchMeta:s.meta??null};case"success":const l={...r,data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=s.manual?l:void 0,l;case"error":const c=s.error;return{...r,error:c,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=n(this.state),dt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:s})})}};function $p(s,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Lp(n.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Km(s){const n=typeof s.initialData=="function"?s.initialData():s.initialData,r=n!==void 0,l=r?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var b0=class extends zi{constructor(s,n){super(),this.options=n,this.#e=s,this.#i=null,this.#r=sc(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#r;#i;#p;#d;#f;#u;#c;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Ym(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rc(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rc(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(s){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pt(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!tc(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Pm(this.#t,r,this.options,n)&&this.#h(),this.updateResult(),l&&(this.#t!==r||Pt(this.options.enabled,this.#t)!==Pt(n.enabled,this.#t)||ta(this.options.staleTime,this.#t)!==ta(n.staleTime,this.#t))&&this.#v();const c=this.#y();l&&(this.#t!==r||Pt(this.options.enabled,this.#t)!==Pt(n.enabled,this.#t)||c!==this.#o)&&this.#g(c)}getOptimisticResult(s){const n=this.#e.getQueryCache().build(this.#e,s),r=this.createResult(n,s);return S0(this,r)&&(this.#s=r,this.#l=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#s}trackResult(s,n){return new Proxy(s,{get:(r,l)=>(this.trackProp(l),n?.(l),l==="promise"&&!this.options.experimental_prefetchInRender&&this.#r.status==="pending"&&this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,l))})}trackProp(s){this.#m.add(s)}getCurrentQuery(){return this.#t}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const n=this.#e.defaultQueryOptions(s),r=this.#e.getQueryCache().build(this.#e,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(s){return this.#h({...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(s){this.#S();let n=this.#t.fetch(this.options,s);return s?.throwOnError||(n=n.catch(Et)),n}#v(){this.#b();const s=ta(this.options.staleTime,this.#t);if(ka||this.#s.isStale||!ec(s))return;const r=Mp(this.#s.dataUpdatedAt,s)+1;this.#u=Ca.setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(s){this.#w(),this.#o=s,!(ka||Pt(this.options.enabled,this.#t)===!1||!ec(this.#o)||this.#o===0)&&(this.#c=Ca.setInterval(()=>{(this.options.refetchIntervalInBackground||bc.isFocused())&&this.#h()},this.#o))}#_(){this.#v(),this.#g(this.#y())}#b(){this.#u&&(Ca.clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(Ca.clearInterval(this.#c),this.#c=void 0)}createResult(s,n){const r=this.#t,l=this.options,c=this.#s,h=this.#a,d=this.#l,v=s!==r?s.state:this.#n,{state:y}=s;let _={...y},b=!1,S;if(n._optimisticResults){const ee=this.hasListeners(),ge=!ee&&Ym(s,n),qe=ee&&Pm(s,r,n,l);(ge||qe)&&(_={..._,...$p(y.data,s.options)}),n._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:C,errorUpdatedAt:k,status:x}=_;S=_.data;let U=!1;if(n.placeholderData!==void 0&&S===void 0&&x==="pending"){let ee;c?.isPlaceholderData&&n.placeholderData===d?.placeholderData?(ee=c.data,U=!0):ee=typeof n.placeholderData=="function"?n.placeholderData(this.#f?.state.data,this.#f):n.placeholderData,ee!==void 0&&(x="success",S=ac(c?.data,ee,n),b=!0)}if(n.select&&S!==void 0&&!U)if(c&&S===h?.data&&n.select===this.#p)S=this.#d;else try{this.#p=n.select,S=n.select(S),S=ac(c?.data,S,n),this.#d=S,this.#i=null}catch(ee){this.#i=ee}this.#i&&(C=this.#i,S=this.#d,k=Date.now(),x="error");const N=_.fetchStatus==="fetching",G=x==="pending",H=x==="error",F=G&&N,ce=S!==void 0,K={status:x,fetchStatus:_.fetchStatus,isPending:G,isSuccess:x==="success",isError:H,isInitialLoading:F,isLoading:F,data:S,dataUpdatedAt:_.dataUpdatedAt,error:C,errorUpdatedAt:k,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>v.dataUpdateCount||_.errorUpdateCount>v.errorUpdateCount,isFetching:N,isRefetching:N&&!G,isLoadingError:H&&!ce,isPaused:_.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:H&&ce,isStale:wc(s,n),refetch:this.refetch,promise:this.#r,isEnabled:Pt(n.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const ee=He=>{K.status==="error"?He.reject(K.error):K.data!==void 0&&He.resolve(K.data)},ge=()=>{const He=this.#r=K.promise=sc();ee(He)},qe=this.#r;switch(qe.status){case"pending":s.queryHash===r.queryHash&&ee(qe);break;case"fulfilled":(K.status==="error"||K.data!==qe.value)&&ge();break;case"rejected":(K.status!=="error"||K.error!==qe.reason)&&ge();break}}return K}updateResult(){const s=this.#s,n=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#f=this.#t),tc(n,s))return;this.#s=n;const r=()=>{if(!s)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#m.size)return!0;const h=new Set(c??this.#m);return this.options.throwOnError&&h.add("error"),Object.keys(this.#s).some(d=>{const p=d;return this.#s[p]!==s[p]&&h.has(p)})};this.#E({listeners:r()})}#S(){const s=this.#e.getQueryCache().build(this.#e,this.options);if(s===this.#t)return;const n=this.#t;this.#t=s,this.#n=s.state,this.hasListeners()&&(n?.removeObserver(this),s.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#E(s){dt.batch(()=>{s.listeners&&this.listeners.forEach(n=>{n(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function w0(s,n){return Pt(n.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&n.retryOnMount===!1)}function Ym(s,n){return w0(s,n)||s.state.data!==void 0&&rc(s,n,n.refetchOnMount)}function rc(s,n,r){if(Pt(n.enabled,s)!==!1&&ta(n.staleTime,s)!=="static"){const l=typeof r=="function"?r(s):r;return l==="always"||l!==!1&&wc(s,n)}return!1}function Pm(s,n,r,l){return(s!==n||Pt(l.enabled,s)===!1)&&(!r.suspense||s.state.status!=="error")&&wc(s,r)}function wc(s,n){return Pt(n.enabled,s)!==!1&&s.isStaleByTime(ta(n.staleTime,s))}function S0(s,n){return!tc(s.getCurrentResult(),n)}function Jm(s){return{onFetch:(n,r)=>{const l=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,h=n.state.data?.pages||[],d=n.state.data?.pageParams||[];let p={pages:[],pageParams:[]},v=0;const y=async()=>{let _=!1;const b=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(n.signal.aborted?_=!0:n.signal.addEventListener("abort",()=>{_=!0}),n.signal)})},S=Bp(n.options,n.fetchOptions),C=async(k,x,U)=>{if(_)return Promise.reject();if(x==null&&k.pages.length)return Promise.resolve(k);const G=(()=>{const Y={client:n.client,queryKey:n.queryKey,pageParam:x,direction:U?"backward":"forward",meta:n.options.meta};return b(Y),Y})(),H=await S(G),{maxPages:F}=n.options,ce=U?d0:h0;return{pages:ce(k.pages,H,F),pageParams:ce(k.pageParams,x,F)}};if(c&&h.length){const k=c==="backward",x=k?E0:Xm,U={pages:h,pageParams:d},N=x(l,U);p=await C(U,N,k)}else{const k=s??h.length;do{const x=v===0?d[0]??l.initialPageParam:Xm(l,p);if(v>0&&x==null)break;p=await C(p,x),v++}while(v<k)}return p};n.options.persister?n.fetchFn=()=>n.options.persister?.(y,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=y}}}function Xm(s,{pages:n,pageParams:r}){const l=n.length-1;return n.length>0?s.getNextPageParam(n[l],n,r[l],r):void 0}function E0(s,{pages:n,pageParams:r}){return n.length>0?s.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var x0=class extends Hp{#e;#t;#n;#s;constructor(s){super(),this.#e=s.client,this.mutationId=s.mutationId,this.#n=s.mutationCache,this.#t=[],this.state=s.state||T0(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#t.includes(s)||(this.#t.push(s),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#t=this.#t.filter(n=>n!==s),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(s){const n=()=>{this.#a({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=qp({fn:()=>this.options.mutationFn?this.options.mutationFn(s,r):Promise.reject(new Error("No mutationFn found")),onFail:(h,d)=>{this.#a({type:"failed",failureCount:h,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",c=!this.#s.canStart();try{if(l)n();else{this.#a({type:"pending",variables:s,isPaused:c}),await this.#n.config.onMutate?.(s,this,r);const d=await this.options.onMutate?.(s,r);d!==this.state.context&&this.#a({type:"pending",context:d,variables:s,isPaused:c})}const h=await this.#s.start();return await this.#n.config.onSuccess?.(h,s,this.state.context,this,r),await this.options.onSuccess?.(h,s,this.state.context,r),await this.#n.config.onSettled?.(h,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(h,null,s,this.state.context,r),this.#a({type:"success",data:h}),h}catch(h){try{throw await this.#n.config.onError?.(h,s,this.state.context,this,r),await this.options.onError?.(h,s,this.state.context,r),await this.#n.config.onSettled?.(void 0,h,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,h,s,this.state.context,r),h}finally{this.#a({type:"error",error:h})}}finally{this.#n.runNext(this)}}#a(s){const n=r=>{switch(s.type){case"failed":return{...r,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...r,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:s.error,failureCount:r.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=n(this.state),dt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(s)}),this.#n.notify({mutation:this,type:"updated",action:s})})}};function T0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var j0=class extends zi{constructor(s={}){super(),this.config=s,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(s,n,r){const l=new x0({client:s,mutationCache:this,mutationId:++this.#n,options:s.defaultMutationOptions(n),state:r});return this.add(l),l}add(s){this.#e.add(s);const n=al(s);if(typeof n=="string"){const r=this.#t.get(n);r?r.push(s):this.#t.set(n,[s])}this.notify({type:"added",mutation:s})}remove(s){if(this.#e.delete(s)){const n=al(s);if(typeof n=="string"){const r=this.#t.get(n);if(r)if(r.length>1){const l=r.indexOf(s);l!==-1&&r.splice(l,1)}else r[0]===s&&this.#t.delete(n)}}this.notify({type:"removed",mutation:s})}canRun(s){const n=al(s);if(typeof n=="string"){const l=this.#t.get(n)?.find(c=>c.state.status==="pending");return!l||l===s}else return!0}runNext(s){const n=al(s);return typeof n=="string"?this.#t.get(n)?.find(l=>l!==s&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){dt.batch(()=>{this.#e.forEach(s=>{this.notify({type:"removed",mutation:s})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(s){const n={exact:!0,...s};return this.getAll().find(r=>Vm(n,r))}findAll(s={}){return this.getAll().filter(n=>Vm(s,n))}notify(s){dt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}resumePausedMutations(){const s=this.getAll().filter(n=>n.state.isPaused);return dt.batch(()=>Promise.all(s.map(n=>n.continue().catch(Et))))}};function al(s){return s.options.scope?.id}var A0=class extends zi{constructor(s={}){super(),this.config=s,this.#e=new Map}#e;build(s,n,r){const l=n.queryKey,c=n.queryHash??gc(l,n);let h=this.get(c);return h||(h=new _0({client:s,queryKey:l,queryHash:c,options:s.defaultQueryOptions(n),state:r,defaultOptions:s.getQueryDefaults(l)}),this.add(h)),h}add(s){this.#e.has(s.queryHash)||(this.#e.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const n=this.#e.get(s.queryHash);n&&(s.destroy(),n===s&&this.#e.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){dt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#e.get(s)}getAll(){return[...this.#e.values()]}find(s){const n={exact:!0,...s};return this.getAll().find(r=>Gm(n,r))}findAll(s={}){const n=this.getAll();return Object.keys(s).length>0?n.filter(r=>Gm(s,r)):n}notify(s){dt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}onFocus(){dt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){dt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},O0=class{#e;#t;#n;#s;#a;#l;#r;#i;constructor(s={}){this.#e=s.queryCache||new A0,this.#t=s.mutationCache||new j0,this.#n=s.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#r=bc.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=ol.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#r?.(),this.#r=void 0,this.#i?.(),this.#i=void 0)}isFetching(s){return this.#e.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#t.findAll({...s,status:"pending"}).length}getQueryData(s){const n=this.defaultQueryOptions({queryKey:s});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(s){const n=this.defaultQueryOptions(s),r=this.#e.build(this,n),l=r.state.data;return l===void 0?this.fetchQuery(s):(s.revalidateIfStale&&r.isStaleByTime(ta(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(l))}getQueriesData(s){return this.#e.findAll(s).map(({queryKey:n,state:r})=>{const l=r.data;return[n,l]})}setQueryData(s,n,r){const l=this.defaultQueryOptions({queryKey:s}),h=this.#e.get(l.queryHash)?.state.data,d=o0(n,h);if(d!==void 0)return this.#e.build(this,l).setData(d,{...r,manual:!0})}setQueriesData(s,n,r){return dt.batch(()=>this.#e.findAll(s).map(({queryKey:l})=>[l,this.setQueryData(l,n,r)]))}getQueryState(s){const n=this.defaultQueryOptions({queryKey:s});return this.#e.get(n.queryHash)?.state}removeQueries(s){const n=this.#e;dt.batch(()=>{n.findAll(s).forEach(r=>{n.remove(r)})})}resetQueries(s,n){const r=this.#e;return dt.batch(()=>(r.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...s},n)))}cancelQueries(s,n={}){const r={revert:!0,...n},l=dt.batch(()=>this.#e.findAll(s).map(c=>c.cancel(r)));return Promise.all(l).then(Et).catch(Et)}invalidateQueries(s,n={}){return dt.batch(()=>(this.#e.findAll(s).forEach(r=>{r.invalidate()}),s?.refetchType==="none"?Promise.resolve():this.refetchQueries({...s,type:s?.refetchType??s?.type??"active"},n)))}refetchQueries(s,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},l=dt.batch(()=>this.#e.findAll(s).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let h=c.fetch(void 0,r);return r.throwOnError||(h=h.catch(Et)),c.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(l).then(Et)}fetchQuery(s){const n=this.defaultQueryOptions(s);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(ta(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(Et).catch(Et)}fetchInfiniteQuery(s){return s.behavior=Jm(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(Et).catch(Et)}ensureInfiniteQueryData(s){return s.behavior=Jm(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return ol.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(s){this.#n=s}setQueryDefaults(s,n){this.#s.set(Oi(s),{queryKey:s,defaultOptions:n})}getQueryDefaults(s){const n=[...this.#s.values()],r={};return n.forEach(l=>{Ci(s,l.queryKey)&&Object.assign(r,l.defaultOptions)}),r}setMutationDefaults(s,n){this.#a.set(Oi(s),{mutationKey:s,defaultOptions:n})}getMutationDefaults(s){const n=[...this.#a.values()],r={};return n.forEach(l=>{Ci(s,l.mutationKey)&&Object.assign(r,l.defaultOptions)}),r}defaultQueryOptions(s){if(s._defaulted)return s;const n={...this.#n.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return n.queryHash||(n.queryHash=gc(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===_c&&(n.enabled=!1),n}defaultMutationOptions(s){return s?._defaulted?s:{...this.#n.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Gp=$.createContext(void 0),C0=s=>{const n=$.useContext(Gp);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},R0=({client:s,children:n})=>($.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),f.jsx(Gp.Provider,{value:s,children:n})),Vp=$.createContext(!1),k0=()=>$.useContext(Vp);Vp.Provider;function N0(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var D0=$.createContext(N0()),U0=()=>$.useContext(D0),M0=(s,n)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(n.isReset()||(s.retryOnMount=!1))},z0=s=>{$.useEffect(()=>{s.clearReset()},[s])},B0=({result:s,errorResetBoundary:n,throwOnError:r,query:l,suspense:c})=>s.isError&&!n.isReset()&&!s.isFetching&&l&&(c&&s.data===void 0||f0(r,[s.error,l])),L0=s=>{if(s.suspense){const r=c=>c==="static"?c:Math.max(c??1e3,1e3),l=s.staleTime;s.staleTime=typeof l=="function"?(...c)=>r(l(...c)):r(l),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},q0=(s,n)=>s.isLoading&&s.isFetching&&!n,H0=(s,n)=>s?.suspense&&n.isPending,Zm=(s,n,r)=>n.fetchOptimistic(s).catch(()=>{r.clearReset()});function $0(s,n,r){const l=k0(),c=U0(),h=C0(),d=h.defaultQueryOptions(s);h.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=l?"isRestoring":"optimistic",L0(d),M0(d,c),z0(c);const p=!h.getQueryCache().get(d.queryHash),[v]=$.useState(()=>new n(h,d)),y=v.getOptimisticResult(d),_=!l&&s.subscribed!==!1;if($.useSyncExternalStore($.useCallback(b=>{const S=_?v.subscribe(dt.batchCalls(b)):Et;return v.updateResult(),S},[v,_]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),$.useEffect(()=>{v.setOptions(d)},[d,v]),H0(d,y))throw Zm(d,v,c);if(B0({result:y,errorResetBoundary:c,throwOnError:d.throwOnError,query:h.getQueryCache().get(d.queryHash),suspense:d.suspense}))throw y.error;return h.getDefaultOptions().queries?._experimental_afterQuery?.(d,y),d.experimental_prefetchInRender&&!ka&&q0(y,l)&&(p?Zm(d,v,c):h.getQueryCache().get(d.queryHash)?.promise)?.catch(Et).finally(()=>{v.updateResult()}),d.notifyOnChangeProps?y:v.trackResult(y)}function Ip(s,n){return $0(s,b0)}const G0=new O0({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});async function V0(s,n){const r=await fetch(s,{...n,headers:{"Content-Type":"application/json",...n?.headers}});if(!r.ok){const l=await r.text();throw new Error(`${r.status}: ${l||r.statusText}`)}return r.json()}function I0(s,n){if(s instanceof RegExp)return{keys:!1,pattern:s};var r,l,c,h,d=[],p="",v=s.split("/");for(v[0]||v.shift();c=v.shift();)r=c[0],r==="*"?(d.push(r),p+=c[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(l=c.indexOf("?",1),h=c.indexOf(".",1),d.push(c.substring(1,~l?l:~h?h:c.length)),p+=~l&&!~h?"(?:/([^/]+?))?":"/([^/]+?)",~h&&(p+=(~l?"?":"")+"\\"+c.substring(h))):p+="/"+c;return{keys:d,pattern:new RegExp("^"+p+(n?"(?=$|/)":"/?$"),"i")}}var $u={exports:{}},Gu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function Q0(){if(Fm)return Gu;Fm=1;var s=dl();function n(b,S){return b===S&&(b!==0||1/b===1/S)||b!==b&&S!==S}var r=typeof Object.is=="function"?Object.is:n,l=s.useState,c=s.useEffect,h=s.useLayoutEffect,d=s.useDebugValue;function p(b,S){var C=S(),k=l({inst:{value:C,getSnapshot:S}}),x=k[0].inst,U=k[1];return h(function(){x.value=C,x.getSnapshot=S,v(x)&&U({inst:x})},[b,C,S]),c(function(){return v(x)&&U({inst:x}),b(function(){v(x)&&U({inst:x})})},[b]),d(C),C}function v(b){var S=b.getSnapshot;b=b.value;try{var C=S();return!r(b,C)}catch{return!0}}function y(b,S){return S()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y:p;return Gu.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:_,Gu}var Wm;function K0(){return Wm||(Wm=1,$u.exports=Q0()),$u.exports}var Y0=K0();const P0=Xg.useInsertionEffect,J0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qp=J0?$.useLayoutEffect:$.useEffect,X0=P0||Qp,Sc=s=>{const n=$.useRef([s,(...r)=>n[0](...r)]).current;return X0(()=>{n[0]=s}),n[1]},Z0="popstate",Ec="pushState",xc="replaceState",F0="hashchange",ep=[Z0,Ec,xc,F0],W0=s=>{for(const n of ep)addEventListener(n,s);return()=>{for(const n of ep)removeEventListener(n,s)}},Kp=(s,n)=>Y0.useSyncExternalStore(W0,s,n),e_=()=>location.search,t_=({ssrSearch:s=""}={})=>Kp(e_,()=>s),tp=()=>location.pathname,n_=({ssrPath:s}={})=>Kp(tp,s?()=>s:tp),a_=(s,{replace:n=!1,state:r=null}={})=>history[n?xc:Ec](r,"",s),s_=(s={})=>[n_(s),a_],np=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[np]>"u"){for(const s of[Ec,xc]){const n=history[s];history[s]=function(){const r=n.apply(this,arguments),l=new Event(s);return l.arguments=arguments,dispatchEvent(l),r}}Object.defineProperty(window,np,{value:!0})}const i_=(s,n)=>n.toLowerCase().indexOf(s.toLowerCase())?"~"+n:n.slice(s.length)||"/",Yp=(s="")=>s==="/"?"":s,r_=(s,n)=>s[0]==="~"?s.slice(1):Yp(n)+s,l_=(s="",n)=>i_(ap(Yp(s)),ap(n)),ap=s=>{try{return decodeURI(s)}catch{return s}},Pp={hook:s_,searchHook:t_,parser:I0,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:s=>s},Jp=$.createContext(Pp),Os=()=>$.useContext(Jp),Xp={},Zp=$.createContext(Xp),o_=()=>$.useContext(Zp),Bi=s=>{const[n,r]=s.hook(s);return[l_(s.base,n),Sc((l,c)=>r(r_(l,s.base),c))]},Fp=()=>Bi(Os()),Wp=(s,n,r,l)=>{const{pattern:c,keys:h}=n instanceof RegExp?{keys:!1,pattern:n}:s(n||"*",l),d=c.exec(r)||[],[p,...v]=d;return p!==void 0?[!0,(()=>{const y=h!==!1?Object.fromEntries(h.map((b,S)=>[b,v[S]])):d.groups;let _={...v};return y&&Object.assign(_,y),_})(),...l?[p]:[]]:[!1,null]},u_=({children:s,...n})=>{const r=Os(),l=n.hook?Pp:r;let c=l;const[h,d]=n.ssrPath?.split("?")??[];d&&(n.ssrSearch=d,n.ssrPath=h),n.hrefs=n.hrefs??n.hook?.hrefs;let p=$.useRef({}),v=p.current,y=v;for(let _ in l){const b=_==="base"?l[_]+(n[_]||""):n[_]||l[_];v===y&&b!==y[_]&&(p.current=y={...y}),y[_]=b,(b!==l[_]||b!==c[_])&&(c=y)}return $.createElement(Jp.Provider,{value:c,children:s})},sp=({children:s,component:n},r)=>n?$.createElement(n,{params:r}):typeof s=="function"?s(r):s,c_=s=>{let n=$.useRef(Xp);const r=n.current;return n.current=Object.keys(s).length!==Object.keys(r).length||Object.entries(s).some(([l,c])=>c!==r[l])?s:r},Tn=({path:s,nest:n,match:r,...l})=>{const c=Os(),[h]=Bi(c),[d,p,v]=r??Wp(c.parser,s,h,n),y=c_({...o_(),...p});if(!d)return null;const _=v?$.createElement(u_,{base:v},sp(l,y)):sp(l,y);return $.createElement(Zp.Provider,{value:y,children:_})},ip=$.forwardRef((s,n)=>{const r=Os(),[l,c]=Bi(r),{to:h="",href:d=h,onClick:p,asChild:v,children:y,className:_,replace:b,state:S,...C}=s,k=Sc(U=>{U.ctrlKey||U.metaKey||U.altKey||U.shiftKey||U.button!==0||(p?.(U),U.defaultPrevented||(U.preventDefault(),c(d,s)))}),x=r.hrefs(d[0]==="~"?d.slice(1):r.base+d,r);return v&&$.isValidElement(y)?$.cloneElement(y,{onClick:k,href:x}):$.createElement("a",{...C,onClick:k,href:x,className:_?.call?_(l===d):_,children:y,ref:n})}),ev=s=>Array.isArray(s)?s.flatMap(n=>ev(n&&n.type===$.Fragment?n.props.children:n)):[s],tv=({children:s,location:n})=>{const r=Os(),[l]=Bi(r);for(const c of ev(s)){let h=0;if($.isValidElement(c)&&(h=Wp(r.parser,c.props.path,n||l,c.props.nest))[0])return $.cloneElement(c,{match:h})}return null},h_=s=>{const{to:n,href:r=n}=s,l=Os(),[,c]=Bi(l),h=Sc(()=>c(n||r,s)),{ssrContext:d}=l;return Qp(()=>{h()},[]),d&&(d.redirectTo=n),null},nv=$.createContext(void 0);function d_({children:s}){const[n,r]=$.useState(()=>{if(typeof window<"u"){const c=localStorage.getItem("charge-theme");if(c==="light"||c==="dark")return c}return"dark"});$.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("charge-theme",n)},[n]);const l=()=>{r(c=>c==="dark"?"light":"dark")};return f.jsx(nv.Provider,{value:{theme:n,toggleTheme:l},children:s})}function f_(){const s=$.useContext(nv);if(!s)throw new Error("useTheme must be used within a ThemeProvider");return s}function fl(s,n){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&n.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(s);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(s,l[c])&&(r[l[c]]=s[l[c]]);return r}function m_(s,n,r,l){function c(h){return h instanceof r?h:new r(function(d){d(h)})}return new(r||(r=Promise))(function(h,d){function p(_){try{y(l.next(_))}catch(b){d(b)}}function v(_){try{y(l.throw(_))}catch(b){d(b)}}function y(_){_.done?h(_.value):c(_.value).then(p,v)}y((l=l.apply(s,n||[])).next())})}const p_=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class Tc extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class v_ extends Tc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class rp extends Tc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class lp extends Tc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var lc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(lc||(lc={}));class y_{constructor(n,{headers:r={},customFetch:l,region:c=lc.Any}={}){this.url=n,this.headers=r,this.region=c,this.fetch=p_(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return m_(this,arguments,void 0,function*(r,l={}){var c;let h,d;try{const{headers:p,method:v,body:y,signal:_,timeout:b}=l;let S={},{region:C}=l;C||(C=this.region);const k=new URL(`${this.url}/${r}`);C&&C!=="any"&&(S["x-region"]=C,k.searchParams.set("forceFunctionRegion",C));let x;y&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",x=y):typeof y=="string"?(S["Content-Type"]="text/plain",x=y):typeof FormData<"u"&&y instanceof FormData?x=y:(S["Content-Type"]="application/json",x=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?x=JSON.stringify(y):x=y;let U=_;b&&(d=new AbortController,h=setTimeout(()=>d.abort(),b),_?(U=d.signal,_.addEventListener("abort",()=>d.abort())):U=d.signal);const N=yield this.fetch(k.toString(),{method:v||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),p),body:x,signal:U}).catch(ce=>{throw new v_(ce)}),G=N.headers.get("x-relay-error");if(G&&G==="true")throw new rp(N);if(!N.ok)throw new lp(N);let H=((c=N.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),F;return H==="application/json"?F=yield N.json():H==="application/octet-stream"||H==="application/pdf"?F=yield N.blob():H==="text/event-stream"?F=N:H==="multipart/form-data"?F=yield N.formData():F=yield N.text(),{data:F,error:null,response:N}}catch(p){return{data:null,error:p,response:p instanceof lp||p instanceof rp?p.context:void 0}}finally{h&&clearTimeout(h)}})}}var g_=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},__=class{constructor(s){var n,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(r=s.isMaybeSingle)!==null&&r!==void 0?r:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let d=null,p=null,v=null,y=h.status,_=h.statusText;if(h.ok){var b,S;if(r.method!=="HEAD"){var C;const N=await h.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((C=r.headers.get("Accept"))===null||C===void 0)&&C.includes("application/vnd.pgrst.plan+text"))?p=N:p=JSON.parse(N))}const x=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),U=(S=h.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");x&&U&&U.length>1&&(v=parseInt(U[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,v=null,y=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var k;const x=await h.text();try{d=JSON.parse(x),Array.isArray(d)&&h.status===404&&(p=[],d=null,y=200,_="OK")}catch{h.status===404&&x===""?(y=204,_="No Content"):d={message:x}}if(d&&r.isMaybeSingle&&(!(d==null||(k=d.details)===null||k===void 0)&&k.includes("0 rows"))&&(d=null,y=200,_="OK"),d&&r.shouldThrowOnError)throw new g_(d)}return{error:d,data:p,count:v,status:y,statusText:_}});return this.shouldThrowOnError||(c=c.catch(h=>{var d;let p="";const v=h?.cause;if(v){var y,_,b,S;const k=(y=v?.message)!==null&&y!==void 0?y:"",x=(_=v?.code)!==null&&_!==void 0?_:"";p=`${(b=h?.name)!==null&&b!==void 0?b:"FetchError"}: ${h?.message}`,p+=`

Caused by: ${(S=v?.name)!==null&&S!==void 0?S:"Error"}: ${k}`,x&&(p+=` (${x})`),v?.stack&&(p+=`
${v.stack}`)}else{var C;p=(C=h?.stack)!==null&&C!==void 0?C:""}return{error:{message:`${(d=h?.name)!==null&&d!==void 0?d:"FetchError"}: ${h?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,n)}returns(){return this}overrideTypes(){return this}},b_=class extends __{select(s){let n=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.order`:"order",d=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${d?`${d},`:""}${s}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,n,{foreignTable:r,referencedTable:l=r}={}){const c=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(h,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:c=!1,format:h="text"}={}){var d;const p=[s?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),v=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const op=new RegExp("[,()]");var Es=class extends b_{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&op.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}notIn(s,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&op.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${r})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:r,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${c}fts${h}.${n}`),this}match(s){return Object.entries(s).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(s,n,r){return this.url.searchParams.append(s,`not.${n}.${r}`),this}or(s,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,n,r){return this.url.searchParams.append(s,`${n}.${r}`),this}},w_=class{constructor(s,{headers:n={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(n),this.schema=r,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,n){const{head:r=!1,count:l}=n??{},c=r?"HEAD":"GET";let h=!1;const d=(s??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join(""),{url:p,headers:v}=this.cloneRequestState();return p.searchParams.set("select",d),l&&v.append("Prefer",`count=${l}`),new Es({method:c,url:p,headers:v,schema:this.schema,fetch:this.fetch})}insert(s,{count:n,defaultToNull:r=!0}={}){var l;const c="POST",{url:h,headers:d}=this.cloneRequestState();if(n&&d.append("Prefer",`count=${n}`),r||d.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);h.searchParams.set("columns",v.join(","))}}return new Es({method:c,url:h,headers:d,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:c=!0}={}){var h;const d="POST",{url:p,headers:v}=this.cloneRequestState();if(v.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&p.searchParams.set("on_conflict",n),l&&v.append("Prefer",`count=${l}`),c||v.append("Prefer","missing=default"),Array.isArray(s)){const y=s.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(y.length>0){const _=[...new Set(y)].map(b=>`"${b}"`);p.searchParams.set("columns",_.join(","))}}return new Es({method:d,url:p,headers:v,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:n}={}){var r;const l="PATCH",{url:c,headers:h}=this.cloneRequestState();return n&&h.append("Prefer",`count=${n}`),new Es({method:l,url:c,headers:h,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var n;const r="DELETE",{url:l,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new Es({method:r,url:l,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},S_=class av{constructor(n,{headers:r={},schema:l,fetch:c}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new w_(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new av(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:l=!1,get:c=!1,count:h}={}){var d;let p;const v=new URL(`${this.url}/rpc/${n}`);let y;const _=C=>C!==null&&typeof C=="object"&&(!Array.isArray(C)||C.some(_)),b=l&&Object.values(r).some(_);b?(p="POST",y=r):l||c?(p=l?"HEAD":"GET",Object.entries(r).filter(([C,k])=>k!==void 0).map(([C,k])=>[C,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([C,k])=>{v.searchParams.append(C,k)})):(p="POST",y=r);const S=new Headers(this.headers);return b?S.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&S.set("Prefer",`count=${h}`),new Es({method:p,url:v,headers:S,schema:this.schemaName,body:y,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class E_{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const c=l.node,h=parseInt(c.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const x_="2.90.1",T_=`realtime-js/${x_}`,sv="1.0.0",j_="2.0.0",up=sv,oc=1e4,A_=1e3,O_=100;var Wn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Wn||(Wn={}));var tt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(tt||(tt={}));var en;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(en||(en={}));var uc;(function(s){s.websocket="websocket"})(uc||(uc={}));var Aa;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Aa||(Aa={}));class C_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const c=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var r,l;const c=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},d=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(n,r,l){var c,h;const d=n.topic,p=(c=n.ref)!==null&&c!==void 0?c:"",v=(h=n.join_ref)!==null&&h!==void 0?h:"",y=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(_).length===0?"":JSON.stringify(_);if(v.length>255)throw new Error(`joinRef length ${v.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+v.length+p.length+d.length+y.length+b.length,C=new ArrayBuffer(this.HEADER_LENGTH+S);let k=new DataView(C),x=0;k.setUint8(x++,this.KINDS.userBroadcastPush),k.setUint8(x++,v.length),k.setUint8(x++,p.length),k.setUint8(x++,d.length),k.setUint8(x++,y.length),k.setUint8(x++,b.length),k.setUint8(x++,r),Array.from(v,N=>k.setUint8(x++,N.charCodeAt(0))),Array.from(p,N=>k.setUint8(x++,N.charCodeAt(0))),Array.from(d,N=>k.setUint8(x++,N.charCodeAt(0))),Array.from(y,N=>k.setUint8(x++,N.charCodeAt(0))),Array.from(b,N=>k.setUint8(x++,N.charCodeAt(0)));var U=new Uint8Array(C.byteLength+l.byteLength);return U.set(new Uint8Array(C),0),U.set(new Uint8Array(l),C.byteLength),U.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[c,h,d,p,v]=l;return r({join_ref:c,ref:h,topic:d,event:p,payload:v})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,c)}}_decodeUserBroadcast(n,r,l){const c=r.getUint8(1),h=r.getUint8(2),d=r.getUint8(3),p=r.getUint8(4);let v=this.HEADER_LENGTH+4;const y=l.decode(n.slice(v,v+c));v=v+c;const _=l.decode(n.slice(v,v+h));v=v+h;const b=l.decode(n.slice(v,v+d));v=v+d;const S=n.slice(v,n.byteLength),C=p===this.JSON_ENCODING?JSON.parse(l.decode(S)):S,k={type:this.BROADCAST_EVENT,event:_,payload:C};return d>0&&(k.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class iv{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ze||(ze={}));const cp=(s,n,r={})=>{var l;const c=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((h,d)=>(h[d]=R_(d,s,n,c),h),{}):{}},R_=(s,n,r,l)=>{const c=n.find(p=>p.name===s),h=c?.type,d=r[s];return h&&!l.includes(h)?rv(h,d):cc(d)},rv=(s,n)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return U_(n,r)}switch(s){case ze.bool:return k_(n);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return N_(n);case ze.json:case ze.jsonb:return D_(n);case ze.timestamp:return M_(n);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return cc(n);default:return cc(n)}},cc=s=>s,k_=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},N_=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},D_=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},U_=(s,n)=>{if(typeof s!="string")return s;const r=s.length-1,l=s[r];if(s[0]==="{"&&l==="}"){let h;const d=s.slice(1,r);try{h=JSON.parse("["+d+"]")}catch{h=d?d.split(","):[]}return h.map(p=>rv(n,p))}return s},M_=s=>typeof s=="string"?s.replace(" ","T"):s,lv=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Vu{constructor(n,r,l={},c=oc){this.channel=n,this.event=r,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var hp;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(hp||(hp={}));class ji{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:h,onLeave:d,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ji.syncState(this.state,c,h,d),this.pendingDiffs.forEach(v=>{this.state=ji.syncDiff(this.state,v,h,d)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},c=>{const{onJoin:h,onLeave:d,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=ji.syncDiff(this.state,c,h,d),p())}),this.onJoin((c,h,d)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:d})}),this.onLeave((c,h,d)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,c){const h=this.cloneDeep(n),d=this.transformState(r),p={},v={};return this.map(h,(y,_)=>{d[y]||(v[y]=_)}),this.map(d,(y,_)=>{const b=h[y];if(b){const S=_.map(U=>U.presence_ref),C=b.map(U=>U.presence_ref),k=_.filter(U=>C.indexOf(U.presence_ref)<0),x=b.filter(U=>S.indexOf(U.presence_ref)<0);k.length>0&&(p[y]=k),x.length>0&&(v[y]=x)}else p[y]=_}),this.syncDiff(h,{joins:p,leaves:v},l,c)}static syncDiff(n,r,l,c){const{joins:h,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(h,(p,v)=>{var y;const _=(y=n[p])!==null&&y!==void 0?y:[];if(n[p]=this.cloneDeep(v),_.length>0){const b=n[p].map(C=>C.presence_ref),S=_.filter(C=>b.indexOf(C.presence_ref)<0);n[p].unshift(...S)}l(p,_,v)}),this.map(d,(p,v)=>{let y=n[p];if(!y)return;const _=v.map(b=>b.presence_ref);y=y.filter(b=>_.indexOf(b.presence_ref)<0),n[p]=y,c(p,y,v),y.length===0&&delete n[p]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const c=n[l];return"metas"in c?r[l]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[l]=c,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dp;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(dp||(dp={}));var Ai;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Ai||(Ai={}));var xn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(xn||(xn={}));class js{constructor(n,r={config:{}},l){var c,h;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vu(this,en.join,this.params,this.timeout),this.rejoinTimer=new iv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(en.reply,{},(d,p)=>{this._trigger(this._replyEventName(p),d)}),this.presence=new ji(this),this.broadcastEndpointURL=lv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:d,presence:p,private:v}}=this.params,y=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(C=>C.filter))!==null&&c!==void 0?c:[],_=!!this.bindings[Ai.PRESENCE]&&this.bindings[Ai.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,b={},S={broadcast:d,presence:Object.assign(Object.assign({},p),{enabled:_}),postgres_changes:y,private:v};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(C=>n?.(xn.CHANNEL_ERROR,C)),this._onClose(()=>n?.(xn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:C})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),C===void 0){n?.(xn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,U=(k=x?.length)!==null&&k!==void 0?k:0,N=[];for(let G=0;G<U;G++){const H=x[G],{filter:{event:F,schema:ce,table:Y,filter:K}}=H,ee=C&&C[G];if(ee&&ee.event===F&&js.isFilterValueEqual(ee.schema,ce)&&js.isFilterValueEqual(ee.table,Y)&&js.isFilterValueEqual(ee.filter,K))N.push(Object.assign(Object.assign({},H),{id:ee.id}));else{this.unsubscribe(),this.state=tt.errored,n?.(xn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,n&&n(xn.SUBSCRIBED);return}}).receive("error",C=>{this.state=tt.errored,n?.(xn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{n?.(xn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===tt.joined&&n===Ai.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let v=p.statusText;try{const y=await p.json();v=y.error||y.message||v}catch{}return Promise.reject(new Error(v))}async send(n,r={}){var l,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:d}=n,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const v={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:d,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var d,p,v;const y=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((v=(p=(d=this.params)===null||d===void 0?void 0:d.config)===null||p===void 0?void 0:p.broadcast)===null||v===void 0)&&v.ack)&&h("ok"),y.receive("ok",()=>h("ok")),y.receive("error",()=>h("error")),y.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(en.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Vu(this,en.leave,{},n),l.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const c=new AbortController,h=setTimeout(()=>c.abort(),l),d=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(h),d}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Vu(this,n,r,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>O_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var c,h;const d=n.toLocaleLowerCase(),{close:p,error:v,leave:y,join:_}=en;if(l&&[p,v,y,_].indexOf(d)>=0&&l!==this._joinRef())return;let S=this._onMessage(d,r,l);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(C=>{var k,x,U;return((k=C.filter)===null||k===void 0?void 0:k.event)==="*"||((U=(x=C.filter)===null||x===void 0?void 0:x.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===d}).map(C=>C.callback(S,l)):(h=this.bindings[d])===null||h===void 0||h.filter(C=>{var k,x,U,N,G,H,F,ce;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in C){const Y=C.id,K=(k=C.filter)===null||k===void 0?void 0:k.event;return Y&&((x=r.ids)===null||x===void 0?void 0:x.includes(Y))&&(K==="*"||K?.toLocaleLowerCase()===((U=r.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))&&(!(!((N=C.filter)===null||N===void 0)&&N.table)||C.filter.table===((G=r.data)===null||G===void 0?void 0:G.table))}else{const Y=(F=(H=C?.filter)===null||H===void 0?void 0:H.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return Y==="*"||Y===((ce=r?.event)===null||ce===void 0?void 0:ce.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===d}).map(C=>{if(typeof S=="object"&&"ids"in S){const k=S.data,{schema:x,table:U,commit_timestamp:N,type:G,errors:H}=k;S=Object.assign(Object.assign({},{schema:x,table:U,commit_timestamp:N,eventType:G,new:{},old:{},errors:H}),this._getPayloadRecords(k))}C.callback(S,l)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const c=n.toLocaleLowerCase(),h={type:c,filter:r,callback:l};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&js.isEqual(c.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(en.close,{},n)}_onError(n){this._on(en.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=cp(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=cp(n.columns,n.old_record)),r}}const Iu=()=>{},sl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},z_=[1e3,2e3,5e3,1e4],B_=1e4,L_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class q_{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oc,this.transport=null,this.heartbeatIntervalMs=sl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iu,this.ref=0,this.reconnectTimer=null,this.vsn=up,this.logger=Iu,this.conn=null,this.sendBuffer=[],this.serializer=new C_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${uc.websocket}`,this.httpEndpoint=lv(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=E_.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Wn.connecting:return Aa.Connecting;case Wn.open:return Aa.Open;case Wn.closing:return Aa.Closing;default:return Aa.Closed}}isConnected(){return this.connectionState()===Aa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,c=this.getChannels().find(h=>h.topic===l);if(c)return c;{const h=new js(`realtime:${n}`,r,this);return this.channels.push(h),h}}push(n){const{topic:r,event:l,payload:c,ref:h}=n,d=()=>{this.encode(n,p=>{var v;(v=this.conn)===null||v===void 0||v.send(p)})};this.log("push",`${r} ${l} (${h})`,c),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(A_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},sl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",y)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:h,ref:d}=r,p=d?`(${d})`:"",v=h.status||"";this.log("receive",`${v} ${l} ${c} ${p}`.trim(),h),this.channels.filter(y=>y._isMember(l)).forEach(y=>y._trigger(c,h,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Wn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wn.open||this.conn.readyState===Wn.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(en.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${n}${l}${c}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([L_],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const h={access_token:r,version:T_};r&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(en.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new iv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,c,h,d,p,v,y,_,b,S,C;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:oc,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:sl.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(d=n?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:Iu,this.vsn=(v=n?.vsn)!==null&&v!==void 0?v:up,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(k=>z_[k-1]||B_),this.vsn){case sv:this.encode=(_=n?.encode)!==null&&_!==void 0?_:((k,x)=>x(JSON.stringify(k))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((k,x)=>x(JSON.parse(k)));break;case j_:this.encode=(S=n?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(C=n?.decode)!==null&&C!==void 0?C:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Ri=class extends Error{constructor(s,n){super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function H_(s,n,r){const l=new URL(n,s);if(r)for(const[c,h]of Object.entries(r))h!==void 0&&l.searchParams.set(c,h);return l.toString()}async function $_(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function G_(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:c,body:h,headers:d}){const p=H_(s.baseUrl,l,c),v=await $_(s.auth),y=await n(p,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...v,...d},body:h?JSON.stringify(h):void 0}),_=await y.text(),b=(y.headers.get("content-type")||"").includes("application/json"),S=b&&_?JSON.parse(_):_;if(!y.ok){const C=b?S:void 0,k=C?.error;throw new Ri(k?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:k?.type,icebergCode:k?.code,details:C})}return{status:y.status,headers:y.headers,data:S}}}}function il(s){return s.join("")}var V_=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:il(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,n){const r={namespace:s.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${il(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${il(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${il(s.namespace)}`}),!0}catch(n){if(n instanceof Ri&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(r){if(r instanceof Ri&&r.status===409)return;throw r}}};function vs(s){return s.join("")}var I_=class{constructor(s,n="",r){this.client=s,this.prefix=n,this.accessDelegation=r}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(s,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(r){if(r instanceof Ri&&r.status===404)return!1;throw r}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(r){if(r instanceof Ri&&r.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw r}}},Q_=class{constructor(s){let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const r=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=G_({baseUrl:r,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new V_(this.client,n),this.tableOps=new I_(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},ml=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Ge(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var K_=class extends ml{constructor(s,n,r){super(s),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hc=class extends ml{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}};const jc=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Y_=()=>Response,dc=s=>{if(Array.isArray(s))return s.map(r=>dc(r));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([r,l])=>{const c=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[c]=dc(l)}),n},P_=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},J_=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function ki(s){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ki(s)}function X_(s,n){if(ki(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,n);if(ki(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function Z_(s){var n=X_(s,"string");return ki(n)=="symbol"?n:n+""}function F_(s,n,r){return(n=Z_(n))in s?Object.defineProperty(s,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[n]=r,s}function fp(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,l)}return r}function le(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?fp(Object(r),!0).forEach(function(l){F_(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):fp(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const Qu=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},W_=async(s,n,r)=>{s instanceof await Y_()&&!r?.noResolveJson?s.json().then(l=>{const c=s.status||500,h=l?.statusCode||c+"";n(new K_(Qu(l),c,h))}).catch(l=>{n(new hc(Qu(l),l))}):n(new hc(Qu(s),s))},eb=(s,n,r,l)=>{const c={method:s,headers:n?.headers||{}};return s==="GET"||!l?c:(P_(l)?(c.headers=le({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(l)):c.body=l,n?.duplex&&(c.duplex=n.duplex),le(le({},c),r))};async function Li(s,n,r,l,c,h){return new Promise((d,p)=>{s(r,eb(n,l,c,h)).then(v=>{if(!v.ok)throw v;return l?.noResolveJson?v:v.json()}).then(v=>d(v)).catch(v=>W_(v,p,l))})}async function Ni(s,n,r,l){return Li(s,"GET",n,r,l)}async function Wt(s,n,r,l,c){return Li(s,"POST",n,l,c,r)}async function fc(s,n,r,l,c){return Li(s,"PUT",n,l,c,r)}async function tb(s,n,r,l){return Li(s,"HEAD",n,le(le({},r),{},{noResolveJson:!0}),l)}async function Ac(s,n,r,l,c){return Li(s,"DELETE",n,l,c,r)}var nb=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}};let ov;ov=Symbol.toStringTag;var ab=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[ov]="BlobDownloadBuilder",this.promise=null}asStream(){return new nb(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ge(n))return{data:null,error:n};throw n}}};const sb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ib=class{constructor(s,n={},r,l){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=r,this.fetch=jc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,n,r,l){var c=this;try{let h;const d=le(le({},mp),l);let p=le(le({},c.headers),s==="POST"&&{"x-upsert":String(d.upsert)});const v=d.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",d.cacheControl),v&&h.append("metadata",c.encodeMetadata(v)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",d.cacheControl),v&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(v))):(h=r,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType,v&&(p["x-metadata"]=c.toBase64(c.encodeMetadata(v))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(p=le(le({},p),l.headers));const y=c._removeEmptyFolders(n),_=c._getFinalPath(y),b=await(s=="PUT"?fc:Wt)(c.fetch,`${c.url}/object/${_}`,h,le({headers:p},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:y,id:b.Id,fullPath:b.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if(Ge(h))return{data:null,error:h};throw h}}async upload(s,n,r){return this.uploadOrUpdate("POST",s,n,r)}async uploadToSignedUrl(s,n,r,l){var c=this;const h=c._removeEmptyFolders(s),d=c._getFinalPath(h),p=new URL(c.url+`/object/upload/sign/${d}`);p.searchParams.set("token",n);try{let v;const y=le({upsert:mp.upsert},l),_=le(le({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&r instanceof Blob?(v=new FormData,v.append("cacheControl",y.cacheControl),v.append("",r)):typeof FormData<"u"&&r instanceof FormData?(v=r,v.append("cacheControl",y.cacheControl)):(v=r,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType),{data:{path:h,fullPath:(await fc(c.fetch,p.toString(),v,{headers:_})).Key},error:null}}catch(v){if(c.shouldThrowOnError)throw v;if(Ge(v))return{data:null,error:v};throw v}}async createSignedUploadUrl(s,n){var r=this;try{let l=r._getFinalPath(s);const c=le({},r.headers);n?.upsert&&(c["x-upsert"]="true");const h=await Wt(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:c}),d=new URL(r.url+h.url),p=d.searchParams.get("token");if(!p)throw new ml("No token returned by API");return{data:{signedUrl:d.toString(),path:s,token:p},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}}async update(s,n,r){return this.uploadOrUpdate("PUT",s,n,r)}async move(s,n,r){var l=this;try{return{data:await Wt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}}async copy(s,n,r){var l=this;try{return{data:{path:(await Wt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}}async createSignedUrl(s,n,r){var l=this;try{let c=l._getFinalPath(s),h=await Wt(l.fetch,`${l.url}/object/sign/${c}`,le({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const d=r?.download?`&download=${r.download===!0?"":r.download}`:"";return h={signedUrl:encodeURI(`${l.url}${h.signedURL}${d}`)},{data:h,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}}async createSignedUrls(s,n,r){var l=this;try{const c=await Wt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:s},{headers:l.headers}),h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(d=>le(le({},d),{},{signedUrl:d.signedURL?encodeURI(`${l.url}${d.signedURL}${h}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}}download(s,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),c=l?`?${l}`:"",h=this._getFinalPath(s),d=()=>Ni(this.fetch,`${this.url}/${r}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new ab(d,this.shouldThrowOnError)}async info(s){var n=this;const r=n._getFinalPath(s);try{return{data:dc(await Ni(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}}async exists(s){var n=this;const r=n._getFinalPath(s);try{return await tb(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ge(l)&&l instanceof hc){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,n){const r=this._getFinalPath(s),l=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const h=typeof n?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(n?.transform||{});d!==""&&l.push(d);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}async remove(s){var n=this;try{return{data:await Ac(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async list(s,n,r){var l=this;try{const c=le(le(le({},sb),n),{},{prefix:s||""});return{data:await Wt(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},r),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}}async listV2(s,n){var r=this;try{const l=le({},s);return{data:await Wt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const uv="2.90.1",cv={"X-Client-Info":`storage-js/${uv}`};var rb=class{constructor(s,n={},r,l){this.shouldThrowOnError=!1;const c=new URL(s);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=le(le({},cv),n),this.fetch=jc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var n=this;try{const r=n.listBucketOptionsToQueryString(s);return{data:await Ni(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async getBucket(s){var n=this;try{return{data:await Ni(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async createBucket(s,n={public:!1}){var r=this;try{return{data:await Wt(r.fetch,`${r.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}}async updateBucket(s,n){var r=this;try{return{data:await fc(r.fetch,`${r.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ge(l))return{data:null,error:l};throw l}}async emptyBucket(s){var n=this;try{return{data:await Wt(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await Ac(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},lb=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},cv),n),this.fetch=jc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Wt(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async listBuckets(s){var n=this;try{const r=new URLSearchParams;s?.limit!==void 0&&r.set("limit",s.limit.toString()),s?.offset!==void 0&&r.set("offset",s.offset.toString()),s?.sortColumn&&r.set("sortColumn",s.sortColumn),s?.sortOrder&&r.set("sortOrder",s.sortOrder),s?.search&&r.set("search",s.search);const l=r.toString(),c=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Ni(n.fetch,c,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await Ac(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}}from(s){var n=this;if(!J_(s))throw new ml("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Q_({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(c,h){const d=c[h];return typeof d!="function"?d:async(...p)=>{try{return{data:await d.apply(c,p),error:null}}catch(v){if(l)throw v;return{data:null,error:v}}}}})}};const Oc={"X-Client-Info":`storage-js/${uv}`,"Content-Type":"application/json"};var hv=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Mt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var Ku=class extends hv{constructor(s,n,r){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ob=class extends hv{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}};const Cc=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),ub=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},pp=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),cb=async(s,n,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!r?.noResolveJson){const l=s.status||500,c=s;if(typeof c.json=="function")c.json().then(h=>{const d=h?.statusCode||h?.code||l+"";n(new Ku(pp(h),l,d))}).catch(()=>{const h=l+"";n(new Ku(c.statusText||`HTTP ${l} error`,l,h))});else{const h=l+"";n(new Ku(c.statusText||`HTTP ${l} error`,l,h))}}else n(new ob(pp(s),s))},hb=(s,n,r,l)=>{const c={method:s,headers:n?.headers||{}};return l?(ub(l)?(c.headers=le({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(l)):c.body=l,le(le({},c),r)):c};async function db(s,n,r,l,c,h){return new Promise((d,p)=>{s(r,hb(n,l,c,h)).then(v=>{if(!v.ok)throw v;if(l?.noResolveJson)return v;const y=v.headers.get("content-type");return!y||!y.includes("application/json")?{}:v.json()}).then(v=>d(v)).catch(v=>cb(v,p,l))})}async function zt(s,n,r,l,c){return db(s,"POST",n,l,c,r)}var fb=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Oc),n),this.fetch=Cc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var n=this;try{return{data:await zt(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async getIndex(s,n){var r=this;try{return{data:await zt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Mt(l))return{data:null,error:l};throw l}}async listIndexes(s){var n=this;try{return{data:await zt(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async deleteIndex(s,n){var r=this;try{return{data:await zt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:r.headers})||{},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Mt(l))return{data:null,error:l};throw l}}},mb=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Oc),n),this.fetch=Cc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var n=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await zt(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async getVectors(s){var n=this;try{return{data:await zt(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async listVectors(s){var n=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await zt(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async queryVectors(s){var n=this;try{return{data:await zt(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async deleteVectors(s){var n=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await zt(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}},pb=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Oc),n),this.fetch=Cc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await zt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async getBucket(s){var n=this;try{return{data:await zt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async listBuckets(s={}){var n=this;try{return{data:await zt(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await zt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Mt(r))return{data:null,error:r};throw r}}},vb=class extends pb{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new yb(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,r=this;return n().call(r,s)}async getBucket(s){var n=()=>super.getBucket,r=this;return n().call(r,s)}async listBuckets(s={}){var n=()=>super.listBuckets,r=this;return n().call(r,s)}async deleteBucket(s){var n=()=>super.deleteBucket,r=this;return n().call(r,s)}},yb=class extends fb{constructor(s,n,r,l){super(s,n,l),this.vectorBucketName=r}async createIndex(s){var n=()=>super.createIndex,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,s)}index(s){return new gb(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},gb=class extends mb{constructor(s,n,r,l,c){super(s,n,c),this.vectorBucketName=r,this.indexName=l}async putVectors(s){var n=()=>super.putVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(s){var n=()=>super.getVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},_b=class extends rb{constructor(s,n={},r,l){super(s,n,r,l)}from(s){return new ib(this.url,this.headers,s,this.fetch)}get vectors(){return new vb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new lb(this.url+"/iceberg",this.headers,this.fetch)}};const dv="2.90.1",xs=30*1e3,mc=3,Yu=mc*xs,bb="http://localhost:9999",wb="supabase.auth.token",Sb={"X-Client-Info":`gotrue-js/${dv}`},pc="X-Supabase-Api-Version",fv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Eb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xb=600*1e3;class Di extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function te(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Tb extends Di{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function jb(s){return te(s)&&s.name==="AuthApiError"}class Oa extends Di{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class jn extends Di{constructor(n,r,l,c){super(n,l,c),this.name=r,this.status=l}}class Ut extends jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ab(s){return te(s)&&s.name==="AuthSessionMissingError"}class ys extends jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rl extends jn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ll extends jn{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ob(s){return te(s)&&s.name==="AuthImplicitGrantRedirectError"}class vp extends jn{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cb extends jn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class vc extends jn{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Pu(s){return te(s)&&s.name==="AuthRetryableFetchError"}class yp extends jn{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class yc extends jn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const ul="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gp=` 	
\r=`.split(""),Rb=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<gp.length;n+=1)s[gp[n].charCodeAt(0)]=-2;for(let n=0;n<ul.length;n+=1)s[ul[n].charCodeAt(0)]=n;return s})();function _p(s,n,r){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(ul[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(ul[l]),n.queuedBits-=6}}function mv(s,n,r){const l=Rb[s];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function bp(s){const n=[],r=d=>{n.push(String.fromCodePoint(d))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=d=>{Db(d,l,r)};for(let d=0;d<s.length;d+=1)mv(s.charCodeAt(d),c,h);return n.join("")}function kb(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Nb(s,n){for(let r=0;r<s.length;r+=1){let l=s.charCodeAt(r);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(s.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}kb(l,n)}}function Db(s,n,r){if(n.utf8seq===0){if(s<=127){r(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function As(s){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};for(let c=0;c<s.length;c+=1)mv(s.charCodeAt(c),r,l);return new Uint8Array(n)}function Ub(s){const n=[];return Nb(s,r=>n.push(r)),new Uint8Array(n)}function Ra(s){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};return s.forEach(c=>_p(c,r,l)),_p(null,r,l),n.join("")}function Mb(s){return Math.round(Date.now()/1e3)+s}function zb(){return Symbol("auth-callback")}const ht=()=>typeof window<"u"&&typeof document<"u",Sa={tested:!1,writable:!1},pv=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sa.tested)return Sa.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Sa.tested=!0,Sa.writable=!0}catch{Sa.tested=!0,Sa.writable=!1}return Sa.writable};function Bb(s){const n={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,h)=>{n[h]=c})}catch{}return r.searchParams.forEach((l,c)=>{n[c]=l}),n}const vv=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Lb=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Ts=async(s,n,r)=>{await s.setItem(n,JSON.stringify(r))},Ea=async(s,n)=>{const r=await s.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ct=async(s,n)=>{await s.removeItem(n)};class pl{constructor(){this.promise=new pl.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}pl.promiseConstructor=Promise;function Ju(s){const n=s.split(".");if(n.length!==3)throw new yc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Eb.test(n[l]))throw new yc("JWT not in base64url format");return{header:JSON.parse(bp(n[0])),payload:JSON.parse(bp(n[1])),signature:As(n[2]),raw:{header:n[0],payload:n[1]}}}async function qb(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function Hb(s,n){return new Promise((l,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const d=await s(h);if(!n(h,null,d)){l(d);return}}catch(d){if(!n(h,d)){c(d);return}}})()})}function $b(s){return("0"+s.toString(16)).substr(-2)}function Gb(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let c="";for(let h=0;h<56;h++)c+=r.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(n),Array.from(n,$b).join("")}async function Vb(s){const r=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(l);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function Ib(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await Vb(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gs(s,n,r=!1){const l=Gb();let c=l;r&&(c+="/PASSWORD_RECOVERY"),await Ts(s,`${n}-code-verifier`,c);const h=await Ib(l);return[h,l===h?"plain":"s256"]}const Qb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kb(s){const n=s.headers.get(pc);if(!n||!n.match(Qb))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Yb(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function Pb(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _s(s){if(!Jb.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xu(){const s={};return new Proxy(s,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Xb(s,n){return new Proxy(s,{get:(r,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,c)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,c)}})}function wp(s){return JSON.parse(JSON.stringify(s))}const Ta=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Zb=[502,503,504];async function Sp(s){var n;if(!Lb(s))throw new vc(Ta(s),0);if(Zb.includes(s.status))throw new vc(Ta(s),s.status);let r;try{r=await s.json()}catch(h){throw new Oa(Ta(h),h)}let l;const c=Kb(s);if(c&&c.getTime()>=fv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new yp(Ta(r),s.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Ut}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,d)=>h&&typeof d=="string",!0))throw new yp(Ta(r),s.status,r.weak_password.reasons);throw new Tb(Ta(r),s.status||500,l)}const Fb=(s,n,r,l)=>{const c={method:s,headers:n?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),r))};async function re(s,n,r,l){var c;const h=Object.assign({},l?.headers);h[pc]||(h[pc]=fv["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const d=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(d.redirect_to=l.redirectTo);const p=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",v=await Wb(s,n,r+p,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(v):{data:Object.assign({},v),error:null}}async function Wb(s,n,r,l,c,h){const d=Fb(n,l,c,h);let p;try{p=await s(r,Object.assign({},d))}catch(v){throw console.error(v),new vc(Ta(v),0)}if(p.ok||await Sp(p),l?.noResolveJson)return p;try{return await p.json()}catch(v){await Sp(v)}}function Ft(s){var n;let r=null;n1(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=Mb(s.expires_in)));const l=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:r,user:l},error:null}}function Ep(s){const n=Ft(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=s.weak_password),n}function ea(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function e1(s){return{data:s,error:null}}function t1(s){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:h}=s,d=fl(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:h},v=Object.assign({},d);return{data:{properties:p,user:v},error:null}}function xp(s){return s}function n1(s){return s.access_token&&s.refresh_token&&s.expires_in}const Zu=["global","local","others"];class a1{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=vv(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=Zu[0]){if(Zu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zu.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(te(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ea})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=fl(n,["options"]),c=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:t1,redirectTo:r?.redirectTo})}catch(r){if(te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ea})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,c,h,d,p,v;try{const y={nextPage:null,lastPage:0,total:0},_=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:xp});if(_.error)throw _.error;const b=await _.json(),S=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(v=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&v!==void 0?v:[];return C.length>0&&(C.forEach(k=>{const x=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(k.split(";")[1].split("=")[1]);y[`${U}Page`]=x}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(te(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){_s(n);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ea})}catch(r){if(te(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){_s(n);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:ea})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){_s(n);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:ea})}catch(l){if(te(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){_s(n.userId);try{const{data:r,error:l}=await re(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:l}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _deleteFactor(n){_s(n.userId),_s(n.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,c,h,d,p,v;try{const y={nextPage:null,lastPage:0,total:0},_=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:xp});if(_.error)throw _.error;const b=await _.json(),S=(d=_.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(v=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&v!==void 0?v:[];return C.length>0&&(C.forEach(k=>{const x=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(k.split(";")[1].split("=")[1]);y[`${U}Page`]=x}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},b),y),error:null}}catch(y){if(te(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(te(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(te(r))return{data:null,error:r};throw r}}}function Tp(s={}){return{getItem:n=>s[n]||null,setItem:(n,r)=>{s[n]=r},removeItem:n=>{delete s[n]}}}const bs={debug:!!(globalThis&&pv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yv extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class s1 extends yv{}async function i1(s,n,r){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await r()}finally{bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(n===0)throw bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new s1(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(bs.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function r1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function gv(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function l1(s){return parseInt(s,16)}function o1(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function u1(s){var n;const{chainId:r,domain:l,expirationTime:c,issuedAt:h=new Date,nonce:d,notBefore:p,requestId:v,resources:y,scheme:_,uri:b,version:S}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const C=gv(s.address),k=_?`${_}://${l}`:l,x=s.statement?`${s.statement}
`:"",U=`${k} wants you to sign in with your Ethereum account:
${C}

${x}`;let N=`URI: ${b}
Version: ${S}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${h.toISOString()}`;if(c&&(N+=`
Expiration Time: ${c.toISOString()}`),p&&(N+=`
Not Before: ${p.toISOString()}`),v&&(N+=`
Request ID: ${v}`),y){let G=`
Resources:`;for(const H of y){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);G+=`
- ${H}`}N+=G}return`${U}
${N}`}class We extends Error{constructor({message:n,code:r,cause:l,name:c}){var h;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=c??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class cl extends We{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function c1({error:s,options:n}){var r,l,c;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new We({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new We({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new We({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new We({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new We({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new We({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return h.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new We({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new We({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(_v(d)){if(h.rp.id!==d)return new We({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new We({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function h1({error:s,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new We({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new We({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(_v(l)){if(r.rpId!==l)return new We({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new We({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new We({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new We({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class d1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const f1=new d1;function m1(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:r,excludeCredentials:l}=s,c=fl(s,["challenge","user","excludeCredentials"]),h=As(n).buffer,d=Object.assign(Object.assign({},r),{id:As(r.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:h,user:d});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let v=0;v<l.length;v++){const y=l[v];p.excludeCredentials[v]=Object.assign(Object.assign({},y),{id:As(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return p}function p1(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:r}=s,l=fl(s,["challenge","allowCredentials"]),c=As(n).buffer,h=Object.assign(Object.assign({},l),{challenge:c});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const p=r[d];h.allowCredentials[d]=Object.assign(Object.assign({},p),{id:As(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function v1(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:Ra(new Uint8Array(s.response.attestationObject)),clientDataJSON:Ra(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function y1(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,l=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Ra(new Uint8Array(c.authenticatorData)),clientDataJSON:Ra(new Uint8Array(c.clientDataJSON)),signature:Ra(new Uint8Array(c.signature)),userHandle:c.userHandle?Ra(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function _v(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function jp(){var s,n;return!!(ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function g1(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new cl("Browser returned unexpected credential type",n)}:{data:null,error:new cl("Empty credential response",n)}}catch(n){return{data:null,error:c1({error:n,options:s})}}}async function _1(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new cl("Browser returned unexpected credential type",n)}:{data:null,error:new cl("Empty credential response",n)}}catch(n){return{data:null,error:h1({error:n,options:s})}}}const b1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},w1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hl(...s){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of s)if(c)for(const h in c){const d=c[h];if(d!==void 0)if(Array.isArray(d))l[h]=d;else if(r(d))l[h]=d;else if(n(d)){const p=l[h];n(p)?l[h]=hl(p,d):l[h]=hl(d)}else l[h]=d}return l}function S1(s,n){return hl(b1,s,n||{})}function E1(s,n){return hl(w1,s,n||{})}class x1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:c},h){try{const{data:d,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!d)return{data:null,error:p};const v=c??f1.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:y}=d.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${l}`),y.displayName||(y.displayName=y.name)}switch(d.webauthn.type){case"create":{const y=S1(d.webauthn.credential_options.publicKey,h?.create),{data:_,error:b}=await g1({publicKey:y,signal:v});return _?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}case"request":{const y=E1(d.webauthn.credential_options.publicKey,h?.request),{data:_,error:b}=await _1(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:y,signal:v}));return _?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}}}catch(d){return te(d)?{data:null,error:d}:{data:null,error:new Oa("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!r)return{data:null,error:new Di("rpId is required for WebAuthn authentication")};try{if(!jp())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:c},{request:h});if(!d)return{data:null,error:p};const{webauthn:v}=d;return this._verify({factorId:n,challengeId:d.challengeId,webauthn:{type:v.type,rpId:r,rpOrigins:l,credential_response:v.credential_response}})}catch(d){return te(d)?{data:null,error:d}:{data:null,error:new Oa("Unexpected error in authenticate",d)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!r)return{data:null,error:new Di("rpId is required for WebAuthn registration")};try{if(!jp())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this._enroll({friendlyName:n});if(!d)return await this.client.mfa.listFactors().then(_=>{var b;return(b=_.data)===null||b===void 0?void 0:b.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===n&&S.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:p};const{data:v,error:y}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:c},{create:h});return v?this._verify({factorId:d.id,challengeId:v.challengeId,webauthn:{rpId:r,rpOrigins:l,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:y}}catch(d){return te(d)?{data:null,error:d}:{data:null,error:new Oa("Unexpected error in register",d)}}}}r1();const T1={url:bb,storageKey:wb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ap(s,n,r){return await r()}const ws={};class Ui{get jwks(){var n,r;return(r=(n=ws[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=ws[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){ws[this.storageKey]=Object.assign(Object.assign({},ws[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},T1),n);if(this.storageKey=h.storageKey,this.instanceID=(r=Ui.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ui.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&ht()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new a1({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=vv(h.fetch),this.lock=h.lock||Ap,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&ht()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=i1:this.lock=Ap,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new x1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:pv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tp(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Tp(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${dv}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(ht()&&(r=Bb(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ht()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:h}=await this._getSessionFromURL(r,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Ob(h)){const v=(n=h.details)===null||n===void 0?void 0:n.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:d,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",d,"redirect type",p),await this._saveSession(d),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return te(r)?this._returnResult({error:r}):this._returnResult({error:new Oa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,c;try{const h=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Ft}),{data:d,error:p}=h;if(p||!d)return this._returnResult({data:{user:null,session:null},error:p});const v=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:y,session:v},error:null})}catch(h){if(te(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var r,l,c;try{let h;if("email"in n){const{email:_,password:b,options:S}=n;let C=null,k=null;this.flowType==="pkce"&&([C,k]=await gs(this.storage,this.storageKey)),h=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:_,password:b,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:C,code_challenge_method:k},xform:Ft})}else if("phone"in n){const{phone:_,password:b,options:S}=n;h=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:b,data:(l=S?.data)!==null&&l!==void 0?l:{},channel:(c=S?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Ft})}else throw new rl("You must provide either an email or phone number and a password");const{data:d,error:p}=h;if(p||!d)return await ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const v=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",v)),this._returnResult({data:{user:y,session:v},error:null})}catch(h){if(await ct(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let r;if("email"in n){const{email:h,password:d,options:p}=n;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ep})}else if("phone"in n){const{phone:h,password:d,options:p}=n;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:d,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ep})}else throw new rl("You must provide either an email or phone number and a password");const{data:l,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const h=new ys;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,c,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,c,h,d,p,v,y,_,b,S;let C,k;if("message"in n)C=n.message,k=n.signature;else{const{chain:x,wallet:U,statement:N,options:G}=n;let H;if(ht())if(typeof U=="object")H=U;else{const ge=window;if("ethereum"in ge&&typeof ge.ethereum=="object"&&"request"in ge.ethereum&&typeof ge.ethereum.request=="function")H=ge.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=U}const F=new URL((r=G?.url)!==null&&r!==void 0?r:window.location.href),ce=await H.request({method:"eth_requestAccounts"}).then(ge=>ge).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ce||ce.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=gv(ce[0]);let K=(l=G?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const ge=await H.request({method:"eth_chainId"});K=l1(ge)}const ee={domain:F.host,address:Y,statement:N,uri:F.href,version:"1",chainId:K,nonce:(c=G?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(d=(h=G?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(p=G?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(v=G?.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(y=G?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(_=G?.signInWithEthereum)===null||_===void 0?void 0:_.resources};C=u1(ee),k=await H.request({method:"personal_sign",params:[o1(C),Y]})}try{const{data:x,error:U}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:k},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ft});if(U)throw U;if(!x||!x.session||!x.user){const N=new ys;return this._returnResult({data:{user:null,session:null},error:N})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:U})}catch(x){if(te(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(n){var r,l,c,h,d,p,v,y,_,b,S,C;let k,x;if("message"in n)k=n.message,x=n.signature;else{const{chain:U,wallet:N,statement:G,options:H}=n;let F;if(ht())if(typeof N=="object")F=N;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))F=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=N}const ce=new URL((r=H?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const Y=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),G?{statement:G}:null));let K;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")K=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)K=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)k=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),x=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${ce.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(c=(l=H?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=H?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((d=H?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((p=H?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((v=H?.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((y=H?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((b=(_=H?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||b===void 0)&&b.length?["Resources",...H.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const Y=await F.signMessage(new TextEncoder().encode(k),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=Y}}try{const{data:U,error:N}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Ra(x)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(C=n.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Ft});if(N)throw N;if(!U||!U.session||!U.user){const G=new ys;return this._returnResult({data:{user:null,session:null},error:G})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:N})}catch(U){if(te(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async _exchangeCodeForSession(n){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Cb;const{data:h,error:d}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Ft});if(await ct(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!h||!h.session||!h.user){const p=new ys;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:d})}catch(h){if(await ct(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:r,provider:l,token:c,access_token:h,nonce:d}=n,p=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:h,nonce:d,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ft}),{data:v,error:y}=p;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!v||!v.session||!v.user){const _=new ys;return this._returnResult({data:{user:null,session:null},error:_})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:v,error:y})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,c,h,d;try{if("email"in n){const{email:p,options:v}=n;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await gs(this.storage,this.storageKey));const{error:b}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=v?.data)!==null&&r!==void 0?r:{},create_user:(l=v?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:v?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:p,options:v}=n,{data:y,error:_}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=v?.data)!==null&&c!==void 0?c:{},create_user:(h=v?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:v?.captchaToken},channel:(d=v?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:_})}throw new rl("You must provide either an email or phone number.")}catch(p){if(await ct(this.storage,`${this.storageKey}-code-verifier`),te(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var r,l;try{let c,h;"options"in n&&(c=(r=n.options)===null||r===void 0?void 0:r.redirectTo,h=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:d,error:p}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:Ft});if(p)throw p;if(!d)throw new Error("An error occurred on token verification.");const v=d.session,y=d.user;return v?.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),this._returnResult({data:{user:y,session:v},error:null})}catch(c){if(te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var r,l,c,h,d;try{let p=null,v=null;this.flowType==="pkce"&&([p,v]=await gs(this.storage,this.storageKey));const y=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:v}),headers:this.headers,xform:e1});return!((h=y.data)===null||h===void 0)&&h.url&&ht()&&!(!((d=n.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(p){if(await ct(this.storage,`${this.storageKey}-code-verifier`),te(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Ut;const{error:c}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(te(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:c,options:h}=n,{error:d}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in n){const{phone:l,type:c,options:h}=n,{data:d,error:p}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:p})}throw new rl("You must provide either an email or phone number and a type")}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await Ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Yu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const d=await Ea(this.userStorage,this.storageKey+"-user");d?.user?n.user=d.user:n.user=Xu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};n.user=Xb(n.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ea}):await this._useSession(async r=>{var l,c,h;const{data:d,error:p}=r;if(p)throw p;return!(!((l=d.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:ea})})}catch(r){if(te(r))return Ab(r)&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:c,error:h}=l;if(h)throw h;if(!c.session)throw new Ut;const d=c.session;let p=null,v=null;this.flowType==="pkce"&&n.email!=null&&([p,v]=await gs(this.storage,this.storageKey));const{data:y,error:_}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:v}),jwt:d.access_token,xform:ea});if(_)throw _;return d.user=y.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(l){if(await ct(this.storage,`${this.storageKey}-code-verifier`),te(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ut;const r=Date.now()/1e3;let l=r,c=!0,h=null;const{payload:d}=Ju(n.access_token);if(d.exp&&(l=d.exp,c=l<=r),c){const{data:p,error:v}=await this._callRefreshToken(n.refresh_token);if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!p)return{data:{user:null,session:null},error:null};h=p}else{const{data:p,error:v}=await this._getUser(n.access_token);if(v)throw v;h={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:d,error:p}=r;if(p)throw p;n=(l=d.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Ut;const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ht())throw new ll("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ll(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ll("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new vp("No code detected.");const{data:G,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:h,refresh_token:d,expires_in:p,expires_at:v,token_type:y}=n;if(!h||!p||!d||!y)throw new ll("No session defined in URL");const _=Math.round(Date.now()/1e3),b=parseInt(p);let S=_+b;v&&(S=parseInt(v));const C=S-_;C*1e3<=xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${b}s`);const k=S-b;_-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,S,_):_-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,S,_);const{data:x,error:U}=await this._getUser(h);if(U)throw U;const N={provider_token:l,provider_refresh_token:c,access_token:h,expires_in:b,expires_at:S,refresh_token:d,token_type:y,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:n.type},error:null})}catch(l){if(te(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:c,error:h}=r;if(h)return this._returnResult({error:h});const d=(l=c.session)===null||l===void 0?void 0:l.access_token;if(d){const{error:p}=await this.admin.signOut(d,n);if(p&&!(jb(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=zb(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,c;try{const{data:{session:h},error:d}=r;if(d)throw d;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,r={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await gs(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await ct(this.storage,`${this.storageKey}-code-verifier`),te(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:c}=await this._useSession(async h=>{var d,p,v,y,_;const{data:b,error:S}=h;if(S)throw S;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(v=n.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",C,{headers:this.headers,jwt:(_=(y=b.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(c)throw c;return ht()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(te(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:c,data:{session:h}}=r;if(c)throw c;const{options:d,provider:p,token:v,access_token:y,nonce:_}=n,b=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:v,access_token:y,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Ft}),{data:S,error:C}=b;return C?this._returnResult({data:{user:null,session:null},error:C}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new ys}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:C}))}catch(c){if(await ct(this.storage,`${this.storageKey}-code-verifier`),te(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,c;const{data:h,error:d}=r;if(d)throw d;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await Hb(async c=>(c>0&&await qb(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ft})),(c,h)=>{const d=200*Math.pow(2,c);return h&&Pu(h)&&Date.now()+d-l<xs})}catch(l){if(this._debug(r,"error",l),te(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),ht()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Ea(this.storage,this.storageKey);if(c&&this.userStorage){let d=await Ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:c.user},await Ts(this.userStorage,this.storageKey+"-user",d)),c.user=(n=d?.user)!==null&&n!==void 0?n:Xu()}else if(c&&!c.user&&!c.user){const d=await Ea(this.storage,this.storageKey+"-user");d&&d?.user?(c.user=d.user,await ct(this.storage,this.storageKey+"-user"),await Ts(this.storage,this.storageKey,c)):c.user=Xu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const h=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yu;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${Yu}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:d}=await this._callRefreshToken(c.refresh_token);d&&(console.error(d),Pu(d)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:p}=await this._getUser(c.access_token);!p&&d?.user?(c.user=d.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(l,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new pl;const{data:h,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!h.session)throw new Ut;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const p={data:h.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(h){if(this._debug(c,"error",h),te(h)){const d={data:null,error:h};return Pu(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,r,l=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const h=[],d=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,r)}catch(v){h.push(v)}});if(await Promise.all(d),h.length>0){for(let p=0;p<h.length;p+=1)console.error(h[p]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ct(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Ts(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const h=wp(c);await Ts(this.storage,this.storageKey,h)}else{const c=wp(r);await Ts(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ct(this.storage,this.storageKey),await ct(this.storage,this.storageKey+"-code-verifier"),await ct(this.storage,this.storageKey+"-user"),this.userStorage&&await ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),xs);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-n)/xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${xs}ms, refresh threshold is ${mc} ticks`),c<=mc&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof yv)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const c=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,d]=await gs(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(d)}`});c.push(p.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);c.push(h.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:c,error:h}=r;return h?this._returnResult({data:null,error:h}):await re(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,c;const{data:h,error:d}=r;if(d)return this._returnResult({data:null,error:d});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:v,error:y}=await re(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&v.type==="totp"&&(!((c=v?.totp)===null||c===void 0)&&c.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),this._returnResult({data:v,error:null}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:h}=r;if(h)return this._returnResult({data:null,error:h});const d=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?v1(n.webauthn.credential_response):y1(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:v}=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:d,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:v}))})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:h}=r;if(h)return this._returnResult({data:null,error:h});const d=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(d.error)return d;const{data:p}=d;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:m1(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:p1(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=r?.factors)!==null&&n!==void 0?n:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Ju(l.access_token);let d=null;h.aal&&(d=h.aal);let p=d;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const y=h.amr||[];return{data:{currentLevel:d,nextLevel:p,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Ut});const d=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&ht()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Ut});const d=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return d.data&&d.data.redirect_url&&ht()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(n){if(te(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ut})})}catch(r){if(te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(p=>p.kid===n);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(p=>p.kid===n),l&&this.jwks_cached_at+xb>c)return l;const{data:h,error:d}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,l=h.keys.find(p=>p.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:C,error:k}=await this.getSession();if(k||!C.session)return this._returnResult({data:null,error:k});l=C.session.access_token}const{header:c,payload:h,signature:d,raw:{header:p,payload:v}}=Ju(l);r?.allowExpired||Yb(h.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!y){const{error:C}=await this.getUser(l);if(C)throw C;return{data:{claims:h,header:c,signature:d},error:null}}const _=Pb(c.alg),b=await crypto.subtle.importKey("jwk",y,_,!0,["verify"]);if(!await crypto.subtle.verify(_,b,d,Ub(`${p}.${v}`)))throw new yc("Invalid JWT signature");return{data:{claims:h,header:c,signature:d},error:null}}catch(l){if(te(l))return this._returnResult({data:null,error:l});throw l}}}Ui.nextInstanceID={};const j1=Ui,A1="2.90.1";let Ti="";typeof Deno<"u"?Ti="deno":typeof document<"u"?Ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ti="react-native":Ti="node";const O1={"X-Client-Info":`supabase-js-${Ti}/${A1}`},C1={headers:O1},R1={schema:"public"},k1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},N1={};function Mi(s){"@babel/helpers - typeof";return Mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mi(s)}function D1(s,n){if(Mi(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,n);if(Mi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function U1(s){var n=D1(s,"string");return Mi(n)=="symbol"?n:n+""}function M1(s,n,r){return(n=U1(n))in s?Object.defineProperty(s,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[n]=r,s}function Op(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,l)}return r}function Ke(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Op(Object(r),!0).forEach(function(l){M1(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Op(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const z1=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),B1=()=>Headers,L1=(s,n,r)=>{const l=z1(r),c=B1();return async(h,d)=>{var p;const v=(p=await n())!==null&&p!==void 0?p:s;let y=new c(d?.headers);return y.has("apikey")||y.set("apikey",s),y.has("Authorization")||y.set("Authorization",`Bearer ${v}`),l(h,Ke(Ke({},d),{},{headers:y}))}};function q1(s){return s.endsWith("/")?s:s+"/"}function H1(s,n){var r,l;const{db:c,auth:h,realtime:d,global:p}=s,{db:v,auth:y,realtime:_,global:b}=n,S={db:Ke(Ke({},v),c),auth:Ke(Ke({},y),h),realtime:Ke(Ke({},_),d),storage:{},global:Ke(Ke(Ke({},b),p),{},{headers:Ke(Ke({},(r=b?.headers)!==null&&r!==void 0?r:{}),(l=p?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?S.accessToken=s.accessToken:delete S.accessToken,S}function $1(s){const n=s?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(q1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var G1=class extends j1{constructor(s){super(s)}},V1=class{constructor(s,n,r){var l,c;this.supabaseUrl=s,this.supabaseKey=n;const h=$1(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:R1,realtime:N1,auth:Ke(Ke({},k1),{},{storageKey:d}),global:C1},v=H1(r??{},p);if(this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken)this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=v.auth)!==null&&y!==void 0?y:{},this.headers,v.global.fetch)}this.fetch=L1(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new S_(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new _b(this.storageUrl.href,this.headers,this.fetch,r?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new y_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,r)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,r;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:c,storageKey:h,flowType:d,lock:p,debug:v,throwOnError:y},_,b){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new G1({url:this.authUrl.href,headers:Ke(Ke({},S),_),storageKey:h,autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:c,flowType:d,lock:p,debug:v,throwOnError:y,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new q_(this.realtimeUrl.href,Ke(Ke({},s),{},{params:Ke(Ke({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(s,n,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const I1=(s,n,r)=>new V1(s,n,r);function Q1(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const n=s.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Q1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const K1="https://txoyxidyfqetbillypdt.supabase.co/",Y1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR4b3l4aWR5ZnFldGJpbGx5cGR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NjY5MTMsImV4cCI6MjA4NDI0MjkxM30.Sy4QkVas9wcVYBMZIDbvz4pDT5SsFZiDi4w4SuMGcDM",Ei=I1(K1,Y1);function P1(){const[s,n]=$.useState(null),[r,l]=$.useState(null),[c,h]=$.useState(!0);return $.useEffect(()=>{Ei.auth.getSession().then(({data:{session:_}})=>{l(_),n(_?.user??null),h(!1)});const{data:{subscription:y}}=Ei.auth.onAuthStateChange(async(_,b)=>{if(l(b),n(b?.user??null),h(!1),_==="SIGNED_IN"&&b)try{await fetch("/api/auth/supabase-sync",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({accessToken:b.access_token,user:{id:b.user.id,email:b.user.email,name:b.user.user_metadata?.full_name||b.user.user_metadata?.name,avatar:b.user.user_metadata?.avatar_url}})})}catch(S){console.error("Failed to sync session with backend:",S)}});return()=>y.unsubscribe()},[]),{user:s,session:r,isLoading:c,isAuthenticated:!!r,signInWithGoogle:async()=>{const{error:y}=await Ei.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});if(y)throw y},signInWithApple:async()=>{const{error:y}=await Ei.auth.signInWithOAuth({provider:"apple",options:{redirectTo:`${window.location.origin}/dashboard`}});if(y)throw y},signOut:async()=>{const{error:y}=await Ei.auth.signOut();if(y)throw y;await fetch("/api/logout",{credentials:"include"})}}}function bv(){const{data:s,isLoading:n,refetch:r}=Ip({queryKey:["/api/auth/user"],queryFn:()=>V0("/api/auth/user"),retry:!1});return{user:s,isLoading:n,isAuthenticated:!!s,refetch:r}}const J1="modulepreload",X1=function(s){return"/"+s},Cp={},qi=function(n,r,l){let c=Promise.resolve();if(r&&r.length>0){let v=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");c=v(r.map(y=>{if(y=X1(y),y in Cp)return;Cp[y]=!0;const _=y.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":J1,_||(S.as="script"),S.crossOrigin="",S.href=y,p&&S.setAttribute("nonce",p),document.head.appendChild(S),_)return new Promise((C,k)=>{S.addEventListener("load",C),S.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${y}`)))})}))}function h(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return c.then(d=>{for(const p of d||[])p.status==="rejected"&&h(p.reason);return n().catch(h)})},Z1="_sidebar_csryl_1",F1="_collapsed_csryl_15",W1="_header_csryl_19",ew="_logo_csryl_28",tw="_tagline_csryl_44",nw="_betaBadge_csryl_52",aw="_toggleBtn_csryl_65",sw="_toggleIcon_csryl_83",iw="_rotated_csryl_90",rw="_logoLink_csryl_94",lw="_nav_csryl_108",ow="_active_csryl_140",uw="_navItem_csryl_145",cw="_navIcon_csryl_180",hw="_navText_csryl_194",dw="_label_csryl_200",fw="_description_csryl_205",mw="_footer_csryl_217",pw="_labelRow_csryl_266",vw="_badge_csryl_272",yw="_hasBadge_csryl_283",gw="_locked_csryl_287",_w="_lockIcon_csryl_301",bw="_lockedBadge_csryl_320",ww="_scorePreview_csryl_331",Sw="_scoreMini_csryl_337",Ew="_scoreValue_csryl_344",xw="_scoreLabel_csryl_350",Tw="_scoreBar_csryl_357",jw="_scoreProgress_csryl_364",Aw="_hamburgerButton_csryl_513",Ow="_mobileOverlay_csryl_535",Cw="_closeBtn_csryl_540",Rw="_mobileOpen_csryl_566",we={sidebar:Z1,collapsed:F1,header:W1,logo:ew,tagline:tw,betaBadge:nw,toggleBtn:aw,toggleIcon:sw,rotated:iw,logoLink:rw,nav:lw,active:ow,navItem:uw,navIcon:cw,navText:hw,label:dw,description:fw,footer:mw,labelRow:pw,badge:vw,hasBadge:yw,locked:gw,lockIcon:_w,lockedBadge:bw,scorePreview:ww,scoreMini:Sw,scoreValue:Ew,scoreLabel:xw,scoreBar:Tw,scoreProgress:jw,hamburgerButton:Aw,mobileOverlay:Ow,closeBtn:Cw,mobileOpen:Rw},kw=[{id:"command-center",label:"Command Center",path:"/dashboard",description:"Your Wealth Readiness",lockedDescription:"Your Wealth Readiness",requiredScore:0,icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),f.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),f.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"ai-advisor",label:"AI Advisor",path:"/dashboard/ai",description:"Your Private CFO",lockedDescription:"Your Private CFO",badge:"Start Here",requiredScore:0,icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"}),f.jsx("circle",{cx:"8",cy:"14",r:"1.5"}),f.jsx("circle",{cx:"16",cy:"14",r:"1.5"})]})},{id:"tax-intel",label:"Tax Advisor",path:"/dashboard/tax-intel",description:"Tax Optimization Engine",lockedDescription:"Unlock Tax Savings",requiredScore:0,icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]})},{id:"allocation",label:"Portfolio Engine",path:"/dashboard/allocation",description:"CFA-Level Analysis",lockedDescription:"Reveal Hidden Risk",requiredScore:0,icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M12 2a10 10 0 1 0 10 10"}),f.jsx("path",{d:"M12 2v10l6.5-3.5"}),f.jsx("path",{d:"M12 12l6.5 3.5"})]})},{id:"playbooks",label:"Playbooks",path:"/dashboard/playbooks",description:"Action Plans",lockedDescription:"Step-by-Step Actions",requiredScore:20,icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),f.jsx("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),f.jsx("path",{d:"M9 12l2 2 4-4"})]})},{id:"referrals",label:"Referrals",path:"/dashboard/referrals",description:"Earn $50 Per Friend",lockedDescription:"Share & Earn",requiredScore:0,icon:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 00-3-3.87"}),f.jsx("path",{d:"M16 3.13a4 4 0 010 7.75"})]})}];function Nw({onCollapse:s,wealthScore:n=0}){const[r,l]=$.useState(!1),[c,h]=$.useState(!1),[d,p]=$.useState(!1),[v]=Fp();$.useEffect(()=>{const x=()=>{p(window.innerWidth<=768),window.innerWidth>768&&h(!1)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),$.useEffect(()=>{h(!1)},[v]);const y=()=>{const x=!r;l(x),s?.(x)},_=()=>{h(!c)},b=x=>v===x,S=x=>n<x.requiredScore,C=(x,U)=>{S(U)&&x.preventDefault()},k=(x,U)=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),S(U)||(window.location.href=U.path))};return f.jsxs(f.Fragment,{children:[d&&f.jsx("button",{className:we.hamburgerButton,onClick:_,"aria-label":"Toggle menu",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[f.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),f.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),f.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),c&&f.jsx("div",{className:we.mobileOverlay,onClick:()=>h(!1)}),f.jsxs("aside",{className:`${we.sidebar} ${r?we.collapsed:""} ${c?we.mobileOpen:""}`,children:[f.jsxs("div",{className:we.header,children:[!r&&f.jsx(ip,{href:"/dashboard",children:f.jsxs("a",{className:we.logoLink,children:[f.jsx("h1",{className:we.logo,children:"Charge"}),f.jsx("span",{className:we.tagline,children:"Wealth"}),f.jsx("span",{className:we.betaBadge,children:"Beta"})]})}),d?f.jsx("button",{className:we.closeBtn,onClick:()=>h(!1),"aria-label":"Close menu",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}):f.jsx("button",{className:we.toggleBtn,onClick:y,"aria-label":r?"Expand navigation sidebar":"Collapse navigation sidebar","aria-expanded":!r,children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`${we.toggleIcon} ${r?we.rotated:""}`,children:f.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),f.jsx("nav",{className:we.nav,role:"navigation","aria-label":"Main navigation",children:kw.map(x=>{const U=S(x);return f.jsx(ip,{href:U?"#":x.path,children:f.jsxs("a",{className:`${we.navItem} ${b(x.path)?we.active:""} ${x.badge?we.hasBadge:""} ${U?we.locked:""}`,onClick:N=>C(N,x),onKeyDown:N=>k(N,x),tabIndex:0,role:"menuitem","aria-label":`${x.label}: ${x.description}`,"aria-current":b(x.path)?"page":void 0,"aria-disabled":U,children:[f.jsxs("div",{className:we.navIcon,children:[x.icon,U&&f.jsx("div",{className:we.lockIcon,children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3zm0 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"})})})]}),(!r||d)&&f.jsxs("div",{className:we.navText,children:[f.jsxs("div",{className:we.labelRow,children:[f.jsx("span",{className:we.label,children:x.label}),x.badge&&!U&&f.jsx("span",{className:we.badge,children:x.badge}),U&&f.jsx("span",{className:we.lockedBadge,children:"Locked"})]}),f.jsx("span",{className:we.description,children:U?x.lockedDescription:x.description})]})]})},x.id)})}),(!r||d)&&f.jsx("div",{className:we.footer,children:f.jsxs("div",{className:we.scorePreview,children:[f.jsxs("div",{className:we.scoreMini,children:[f.jsxs("span",{className:we.scoreValue,children:[n,"%"]}),f.jsx("span",{className:we.scoreLabel,children:"Wealth Readiness"})]}),f.jsx("div",{className:we.scoreBar,children:f.jsx("div",{className:we.scoreProgress,style:{width:`${n}%`}})})]})})]})]})}const Dw="_container_1vaa0_1",Uw="_header_1vaa0_8",Mw="_scoreSection_1vaa0_12",zw="_scoreRing_1vaa0_18",Bw="_scoreValue_1vaa0_30",Lw="_scoreNumber_1vaa0_39",qw="_scorePercent_1vaa0_45",Hw="_scoreInfo_1vaa0_51",$w="_title_1vaa0_55",Gw="_scoreLabel_1vaa0_62",Vw="_nextAction_1vaa0_76",Iw="_nextLabel_1vaa0_80",Qw="_nextCard_1vaa0_89",Kw="_nextContent_1vaa0_106",Yw="_nextTitle_1vaa0_113",Pw="_nextDesc_1vaa0_119",Jw="_nextReward_1vaa0_124",Xw="_points_1vaa0_138",Zw="_nextArrow_1vaa0_144",Fw="_stepsGrid_1vaa0_151",Ww="_stepCard_1vaa0_157",eS="_completed_1vaa0_174",tS="_stepCheck_1vaa0_182",nS="_stepPoints_1vaa0_203",aS="_stepContent_1vaa0_209",sS="_stepLabel_1vaa0_217",iS="_stepUnlocks_1vaa0_226",Me={container:Dw,header:Uw,scoreSection:Mw,scoreRing:zw,scoreValue:Bw,scoreNumber:Lw,scorePercent:qw,scoreInfo:Hw,title:$w,scoreLabel:Gw,nextAction:Vw,nextLabel:Iw,nextCard:Qw,nextContent:Kw,nextTitle:Yw,nextDesc:Pw,nextReward:Jw,points:Xw,nextArrow:Zw,stepsGrid:Fw,stepCard:Ww,completed:eS,stepCheck:tS,stepPoints:nS,stepContent:aS,stepLabel:sS,stepUnlocks:iS};function rS({hasTaxData:s,hasPositions:n,hasProfile:r,hasCashFlow:l,onStepClick:c}){const[h,d]=$.useState(0),p=[{id:"profile",label:"Complete Financial Profile",description:"Income, goals, and risk tolerance",unlocks:"Personalized analysis",points:20,completed:r,path:"/dashboard/ai"},{id:"tax",label:"Upload Tax Return",description:"Your 1040 reveals opportunities",unlocks:"Tax Advisor unlocked",points:30,completed:s,path:"/dashboard/tax-intel"},{id:"portfolio",label:"Add Portfolio Positions",description:"Import your holdings",unlocks:"Portfolio Engine unlocked",points:30,completed:n,path:"/dashboard/allocation"},{id:"cashflow",label:"Add Cash Flow Data",description:"Monthly income and expenses",unlocks:"Cash optimization",points:20,completed:l,path:"/dashboard/ai"}],v=p.filter(x=>x.completed).reduce((x,U)=>x+U.points,0),y=p.reduce((x,U)=>x+U.points,0),_=Math.round(v/y*100);$.useEffect(()=>{const x=setTimeout(()=>{d(_)},100);return()=>clearTimeout(x)},[_]);const b=()=>_===0?"Getting Started":_<30?"Building Foundation":_<60?"Gaining Clarity":_<100?"Nearly Complete":"Fully Optimized",S=()=>_<30?"#E74C3C":_<60?"#F39C12":_<100?"#3498DB":"#C9A962",k=p.filter(x=>!x.completed)[0];return f.jsxs("div",{className:Me.container,children:[f.jsx("div",{className:Me.header,children:f.jsxs("div",{className:Me.scoreSection,children:[f.jsxs("div",{className:Me.scoreRing,children:[f.jsxs("svg",{viewBox:"0 0 100 100",children:[f.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),f.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:S(),strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${h*2.83} 283`,transform:"rotate(-90 50 50)",style:{transition:"stroke-dasharray 1s ease-out"}})]}),f.jsxs("div",{className:Me.scoreValue,children:[f.jsx("span",{className:Me.scoreNumber,children:h}),f.jsx("span",{className:Me.scorePercent,children:"%"})]})]}),f.jsxs("div",{className:Me.scoreInfo,children:[f.jsx("h2",{className:Me.title,children:"Wealth Readiness"}),f.jsx("span",{className:Me.scoreLabel,style:{color:S()},children:b()})]})]})}),k&&f.jsxs("div",{className:Me.nextAction,children:[f.jsx("div",{className:Me.nextLabel,children:"Next Step"}),f.jsxs("a",{href:k.path,className:Me.nextCard,onClick:()=>c?.(k.id),children:[f.jsxs("div",{className:Me.nextContent,children:[f.jsx("span",{className:Me.nextTitle,children:k.label}),f.jsx("span",{className:Me.nextDesc,children:k.description})]}),f.jsx("div",{className:Me.nextReward,children:f.jsxs("span",{className:Me.points,children:["+",k.points,"%"]})}),f.jsx("svg",{className:Me.nextArrow,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M9 5l7 7-7 7"})})]})]}),f.jsx("div",{className:Me.stepsGrid,children:p.map(x=>f.jsxs("a",{href:x.path,className:`${Me.stepCard} ${x.completed?Me.completed:""}`,onClick:()=>c?.(x.id),children:[f.jsx("div",{className:Me.stepCheck,children:x.completed?f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:f.jsx("path",{d:"M20 6L9 17l-5-5"})}):f.jsxs("span",{className:Me.stepPoints,children:["+",x.points,"%"]})}),f.jsxs("div",{className:Me.stepContent,children:[f.jsx("span",{className:Me.stepLabel,children:x.label}),f.jsx("span",{className:Me.stepUnlocks,children:x.completed?"Completed":x.unlocks})]})]},x.id))})]})}const lS="_container_1gmy6_1",oS="_header_1gmy6_8",uS="_headerLeft_1gmy6_15",cS="_title_1gmy6_19",hS="_subtitle_1gmy6_35",dS="_pointsBadge_1gmy6_41",fS="_pointsValue_1gmy6_51",mS="_pointsLabel_1gmy6_58",pS="_progressSection_1gmy6_66",vS="_levelInfo_1gmy6_73",yS="_levelBadge_1gmy6_80",gS="_levelProgress_1gmy6_89",_S="_progressBar_1gmy6_94",bS="_progressFill_1gmy6_102",wS="_statsRow_1gmy6_109",SS="_stat_1gmy6_109",ES="_statValue_1gmy6_119",xS="_statLabel_1gmy6_125",TS="_loading_1gmy6_132",jS="_emptyState_1gmy6_138",AS="_generateButton_1gmy6_162",OS="_section_1gmy6_184",CS="_sectionTitle_1gmy6_188",RS="_recList_1gmy6_206",kS="_recCard_1gmy6_212",NS="_expanded_1gmy6_224",DS="_recHeader_1gmy6_228",US="_recIcon_1gmy6_236",MS="_recInfo_1gmy6_252",zS="_recTitle_1gmy6_257",BS="_recMeta_1gmy6_265",LS="_recPriority_1gmy6_272",qS="_recSavings_1gmy6_281",HS="_recPoints_1gmy6_287",$S="_expandIcon_1gmy6_293",GS="_recDetails_1gmy6_305",VS="_recDescription_1gmy6_310",IS="_cfpNote_1gmy6_317",QS="_recActions_1gmy6_333",KS="_completeButton_1gmy6_338",YS="_dismissButton_1gmy6_362",PS="_completedList_1gmy6_378",JS="_completedItem_1gmy6_384",XS="_completedTitle_1gmy6_393",ZS="_completedPoints_1gmy6_399",FS="_refreshButton_1gmy6_405",ae={container:lS,header:oS,headerLeft:uS,title:cS,subtitle:hS,pointsBadge:dS,pointsValue:fS,pointsLabel:mS,progressSection:pS,levelInfo:vS,levelBadge:yS,levelProgress:gS,progressBar:_S,progressFill:bS,statsRow:wS,stat:SS,statValue:ES,statLabel:xS,loading:TS,emptyState:jS,generateButton:AS,section:OS,sectionTitle:CS,recList:RS,recCard:kS,expanded:NS,recHeader:DS,recIcon:US,recInfo:MS,recTitle:zS,recMeta:BS,recPriority:LS,recSavings:qS,recPoints:HS,expandIcon:$S,recDetails:GS,recDescription:VS,cfpNote:IS,recActions:QS,completeButton:KS,dismissButton:YS,completedList:PS,completedItem:JS,completedTitle:XS,completedPoints:ZS,refreshButton:FS};function WS(){const[s,n]=$.useState([]),[r,l]=$.useState(null),[c,h]=$.useState(!0),[d,p]=$.useState(!1),[v,y]=$.useState(null);$.useEffect(()=>{_()},[]);const _=async()=>{try{const[N,G]=await Promise.all([fetch("/api/cfo/recommendations",{credentials:"include"}),fetch("/api/cfo/stats",{credentials:"include"})]);if(N.ok){const H=await N.json();n(H.recommendations||[])}if(G.ok){const H=await G.json();l(H)}}catch(N){console.error("Failed to fetch recommendations:",N)}finally{h(!1)}},b=async()=>{p(!0);try{(await fetch("/api/cfo/generate-recommendations",{method:"POST",credentials:"include"})).ok&&await _()}catch(N){console.error("Failed to generate recommendations:",N)}finally{p(!1)}},S=async(N,G)=>{try{(await fetch(`/api/cfo/recommendations/${N}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:G})})).ok&&await _()}catch(H){console.error("Failed to update recommendation:",H)}},C=N=>{switch(N){case"tax":return f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]});case"investment":return f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M3 3v18h18"}),f.jsx("path",{d:"M18 9l-5 5-4-4-4 4"})]});case"savings":return f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("circle",{cx:"12",cy:"12",r:"8"}),f.jsx("path",{d:"M12 8v4l2 2"})]});case"insurance":return f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:f.jsx("path",{d:"M12 2l8 4v6c0 5.55-3.84 10.74-8 12-4.16-1.26-8-6.45-8-12V6l8-4z"})});default:return f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("path",{d:"M12 16v-4M12 8h.01"})]})}},k=N=>{switch(N){case"urgent":return"#ef4444";case"high":return"#f59e0b";case"medium":return"#3b82f6";default:return"#6b7280"}},x=s.filter(N=>N.status==="pending"||N.status==="in_progress"),U=s.filter(N=>N.status==="completed");return c?f.jsx("div",{className:ae.container,children:f.jsx("div",{className:ae.loading,children:"Loading your CFO recommendations..."})}):f.jsxs("div",{className:ae.container,children:[f.jsxs("div",{className:ae.header,children:[f.jsxs("div",{className:ae.headerLeft,children:[f.jsxs("h3",{className:ae.title,children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M9 12l2 2 4-4"}),f.jsx("path",{d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"CFO Action Items"]}),f.jsx("p",{className:ae.subtitle,children:"CFP-vetted strategies personalized for you"})]}),r&&f.jsxs("div",{className:ae.pointsBadge,children:[f.jsx("span",{className:ae.pointsValue,children:r.points}),f.jsx("span",{className:ae.pointsLabel,children:"points"})]})]}),r&&f.jsxs("div",{className:ae.progressSection,children:[f.jsxs("div",{className:ae.levelInfo,children:[f.jsxs("span",{className:ae.levelBadge,children:["Level ",r.level]}),f.jsxs("span",{className:ae.levelProgress,children:[r.points%100," / 100 to next level"]})]}),f.jsx("div",{className:ae.progressBar,children:f.jsx("div",{className:ae.progressFill,style:{width:`${r.progressToNextLevel}%`}})}),f.jsxs("div",{className:ae.statsRow,children:[f.jsxs("div",{className:ae.stat,children:[f.jsx("span",{className:ae.statValue,children:r.recommendations.completed}),f.jsx("span",{className:ae.statLabel,children:"Completed"})]}),f.jsxs("div",{className:ae.stat,children:[f.jsx("span",{className:ae.statValue,children:r.recommendations.pending}),f.jsx("span",{className:ae.statLabel,children:"Pending"})]})]})]}),x.length===0&&U.length===0?f.jsxs("div",{className:ae.emptyState,children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:f.jsx("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),f.jsx("h4",{children:"Get Personalized Recommendations"}),f.jsx("p",{children:"Generate CFP-vetted action items based on your financial profile"}),f.jsx("button",{className:ae.generateButton,onClick:b,disabled:d,children:d?"Analyzing your profile...":"Generate Recommendations"})]}):f.jsxs(f.Fragment,{children:[x.length>0&&f.jsxs("div",{className:ae.section,children:[f.jsx("h4",{className:ae.sectionTitle,children:"Action Items"}),f.jsx("div",{className:ae.recList,children:x.map(N=>f.jsxs("div",{className:`${ae.recCard} ${v===N.id?ae.expanded:""}`,children:[f.jsxs("div",{className:ae.recHeader,onClick:()=>y(v===N.id?null:N.id),children:[f.jsx("div",{className:ae.recIcon,style:{color:k(N.priority)},children:C(N.category)}),f.jsxs("div",{className:ae.recInfo,children:[f.jsx("h5",{className:ae.recTitle,children:N.title}),f.jsxs("div",{className:ae.recMeta,children:[f.jsx("span",{className:ae.recPriority,style:{backgroundColor:k(N.priority)},children:N.priority}),N.estimatedSavings&&f.jsxs("span",{className:ae.recSavings,children:["Save $",parseFloat(N.estimatedSavings).toLocaleString()]}),f.jsxs("span",{className:ae.recPoints,children:["+",N.pointValue," pts"]})]})]}),f.jsx("svg",{className:ae.expandIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M19 9l-7 7-7-7"})})]}),v===N.id&&f.jsxs("div",{className:ae.recDetails,children:[f.jsx("p",{className:ae.recDescription,children:N.description}),N.cfpRationale&&f.jsxs("div",{className:ae.cfpNote,children:[f.jsx("strong",{children:"Why a CFP recommends this:"})," ",N.cfpRationale]}),f.jsxs("div",{className:ae.recActions,children:[f.jsxs("button",{className:ae.completeButton,onClick:()=>S(N.id,"completed"),children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M5 13l4 4L19 7"})}),"Mark Complete"]}),f.jsx("button",{className:ae.dismissButton,onClick:()=>S(N.id,"dismissed"),children:"Not for me"})]})]})]},N.id))})]}),U.length>0&&f.jsxs("div",{className:ae.section,children:[f.jsxs("h4",{className:ae.sectionTitle,children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M5 13l4 4L19 7"})}),"Completed (",U.length,")"]}),f.jsx("div",{className:ae.completedList,children:U.slice(0,3).map(N=>f.jsxs("div",{className:ae.completedItem,children:[f.jsx("span",{className:ae.completedTitle,children:N.title}),f.jsxs("span",{className:ae.completedPoints,children:["+",N.pointValue]})]},N.id))})]}),f.jsx("button",{className:ae.refreshButton,onClick:b,disabled:d,children:d?"Generating...":"Get More Recommendations"})]})]})}const e2="_overlay_11p5v_1",t2="_wizard_11p5v_13",n2="_progressBar_11p5v_24",a2="_progressFill_11p5v_31",s2="_progressText_11p5v_37",i2="_stepContent_11p5v_46",r2="_stepHeader_11p5v_50",l2="_stepNumber_11p5v_57",o2="_stepTime_11p5v_80",u2="_inputGroup_11p5v_86",c2="_sliderValue_11p5v_97",h2="_slider_11p5v_97",d2="_select_11p5v_133",f2="_input_11p5v_86",m2="_inputRow_11p5v_157",p2="_primaryButton_11p5v_163",v2="_skipButton_11p5v_188",y2="_resultCard_11p5v_204",g2="_resultHighlight_11p5v_213",_2="_savingsHighlight_11p5v_227",b2="_thesisHighlight_11p5v_234",w2="_dropzone_11p5v_241",S2="_dragging_11p5v_251",E2="_fileButton_11p5v_274",x2="_fileInfo_11p5v_290",T2="_processing_11p5v_307",j2="_spinner_11p5v_318",A2="_chatPreview_11p5v_332",O2="_userMessage_11p5v_339",C2="_aiMessage_11p5v_340",R2="_messageLabel_11p5v_349",k2="_completedIcon_11p5v_387",N2="_completionSummary_11p5v_400",D2="_summaryItem_11p5v_408",U2="_checkIcon_11p5v_417",M2="_documentOptions_11p5v_422",z2="_optionsLabel_11p5v_428",B2="_documentOption_11p5v_422",L2="_backButton_11p5v_474",V={overlay:e2,wizard:t2,progressBar:n2,progressFill:a2,progressText:s2,stepContent:i2,stepHeader:r2,stepNumber:l2,stepTime:o2,inputGroup:u2,sliderValue:c2,slider:h2,select:d2,input:f2,inputRow:m2,primaryButton:p2,skipButton:v2,resultCard:y2,resultHighlight:g2,savingsHighlight:_2,thesisHighlight:b2,dropzone:w2,dragging:S2,fileButton:E2,fileInfo:x2,processing:T2,spinner:j2,chatPreview:A2,userMessage:O2,aiMessage:C2,messageLabel:R2,completedIcon:k2,completionSummary:N2,summaryItem:D2,checkIcon:U2,documentOptions:M2,optionsLabel:z2,documentOption:B2,backButton:L2},q2="_toastContainer_15ojs_1",H2="_toast_15ojs_1",$2="_slideIn_15ojs_1",G2="_error_15ojs_37",V2="_success_15ojs_42",I2="_warning_15ojs_47",Q2="_info_15ojs_52",K2="_toastIcon_15ojs_57",Y2="_toastMessage_15ojs_84",P2="_toastAction_15ojs_91",J2="_toastClose_15ojs_108",xa={toastContainer:q2,toast:H2,slideIn:$2,error:G2,success:V2,warning:I2,info:Q2,toastIcon:K2,toastMessage:Y2,toastAction:P2,toastClose:J2},wv=$.createContext(null);function X2(){const s=$.useContext(wv);if(!s)throw new Error("useToast must be used within a ToastProvider");return s}function Z2({children:s}){const[n,r]=$.useState([]),l=$.useCallback(p=>{r(v=>v.filter(y=>y.id!==p))},[]),c=$.useCallback(p=>{const v=Math.random().toString(36).substr(2,9),y={...p,id:v};r(b=>[...b,y]);const _=p.duration??(p.type==="error"?6e3:4e3);setTimeout(()=>l(v),_)},[l]),h=$.useCallback((p,v)=>{c({message:p,type:"error",action:v})},[c]),d=$.useCallback(p=>{c({message:p,type:"success"})},[c]);return f.jsxs(wv.Provider,{value:{showToast:c,showError:h,showSuccess:d,hideToast:l},children:[s,f.jsx("div",{className:xa.toastContainer,children:n.map(p=>f.jsxs("div",{className:`${xa.toast} ${xa[p.type]}`,children:[f.jsxs("div",{className:xa.toastIcon,children:[p.type==="error"&&f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),f.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),p.type==="success"&&f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("polyline",{points:"9 12 11 14 15 10"})]}),p.type==="warning"&&f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),f.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),f.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),p.type==="info"&&f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),f.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})]}),f.jsx("span",{className:xa.toastMessage,children:p.message}),p.action&&f.jsx("button",{className:xa.toastAction,onClick:()=>{p.action?.onClick(),l(p.id)},children:p.action.label}),f.jsx("button",{className:xa.toastClose,onClick:()=>l(p.id),"aria-label":"Dismiss",children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),f.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},p.id))})]})}const F2={CA:13.3,NY:10.9,NJ:10.75,TX:0,FL:0,WA:0,NV:0,IL:4.95,CO:4.4,MA:5,OTHER:5},Rp={single:[{limit:11600,rate:10},{limit:47150,rate:12},{limit:100525,rate:22},{limit:191950,rate:24},{limit:243725,rate:32},{limit:609350,rate:35},{limit:1/0,rate:37}],married:[{limit:23200,rate:10},{limit:94300,rate:12},{limit:201050,rate:22},{limit:383900,rate:24},{limit:487450,rate:32},{limit:731200,rate:35},{limit:1/0,rate:37}]};function kp(s,n){const r=Rp[n]||Rp.single;for(const l of r)if(s<=l.limit)return l.rate;return 37}function Sv({onComplete:s}){const{showSuccess:n,showError:r}=X2(),[l,c]=$.useState(1),[h,d]=$.useState(!1),[p,v]=$.useState([]),[y,_]=$.useState(null),[b,S]=$.useState(null),[C,k]=$.useState(null),[x,U]=$.useState(null),[N,G]=$.useState(25e4),[H,F]=$.useState("married"),[ce,Y]=$.useState("TX"),[K,ee]=$.useState(null),[ge,qe]=$.useState(!1),[He,Ve]=$.useState(null),[De,mt]=$.useState({symbol:"",shares:0,purchaseDate:""}),st=5,M=l/st*100,I=async()=>{d(!0);const Z=kp(N,H),be=F2[ce]||5,Ce=Z+be;let Bt="";N>=5e5?Bt="You're in the highest tax brackets. Strategic tax planning is essential.":N>=2e5?Bt="You're in the upper brackets where deductions have maximum impact.":Bt="You have room to optimize through standard strategies.";try{await fetch("/api/financial-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({annualIncome:N,filingStatus:H==="married"?"married_joint":"single",stateOfResidence:ce,primaryGoal:"tax_optimization"})})}catch(na){console.error("Failed to save financial profile:",na)}_({income:N,filingStatus:H,state:ce,marginalRate:Ce,bracketInfo:Bt}),d(!1),setTimeout(()=>c(2),1500)},ie=async Z=>{Z.preventDefault(),qe(!1);const be=Z.dataTransfer.files[0];be&&be.type==="application/pdf"&&(ee(be),await je(be))},Te=async Z=>{const be=Z.target.files?.[0];be&&(ee(be),await je(be))},je=async Z=>{d(!0);try{const be=new FormData;be.append("taxReturn",Z);const Ce=await fetch("/api/tax-intel/analyze",{method:"POST",body:be});if(Ce.ok){const Bt=await Ce.json();S(Bt.potentialSavings||Math.floor(Math.random()*5e3)+2e3),n("Tax return uploaded and analyzed!"),setTimeout(()=>c(3),1500)}else r("Could not analyze document. Continuing with estimate."),S(Math.floor(N*.03)),setTimeout(()=>c(3),1500)}catch{r("Failed to upload document. Continuing with estimate."),S(Math.floor(N*.03)),setTimeout(()=>c(3),1500)}finally{d(!1)}},T=async()=>{if(De.symbol){d(!0);try{(await fetch("/api/portfolio-positions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:De.symbol.toUpperCase(),shares:De.shares,acquisitionDate:De.purchaseDate,accountType:"taxable"})})).ok?k(`${De.symbol.toUpperCase()} has been added to your portfolio. Visit the Portfolio Engine for detailed analysis including risk score, sector exposure, and investment thesis.`):k(`${De.symbol.toUpperCase()} position saved. Full analysis will be available in the Portfolio Engine.`),setTimeout(()=>c(4),1500)}catch{k(`${De.symbol.toUpperCase()} position added. Full analysis will be available in the Portfolio Engine.`),setTimeout(()=>c(4),1500)}finally{d(!1)}}},q=async()=>{d(!0);const Z="Should I max out my 401k this year?";try{const be=await fetch("/api/charge-ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:Z})});if(be.ok){const Ce=await be.json();U(Ce.response||Q())}else U(Q());setTimeout(()=>c(5),2e3)}catch{U(Q()),setTimeout(()=>c(5),2e3)}finally{d(!1)}},Q=()=>{const Z=kp(N,H);return`Based on your ${Z}% federal marginal rate, maxing out your 401(k) at $23,000 could save you approximately $${Math.round(23e3*(Z/100)).toLocaleString()} in taxes this year. Given your income level, this is typically one of the highest-impact moves you can make.`},X=async()=>{d(!0);try{await fetch("/api/user/onboarding-complete",{method:"POST",headers:{"Content-Type":"application/json"}}),s()}catch{s()}},oe=()=>{v([...p,l]),l<st?c(l+1):X()},fe=()=>{switch(l){case 1:return f.jsxs("div",{className:V.stepContent,children:[f.jsxs("div",{className:V.stepHeader,children:[f.jsx("div",{className:V.stepNumber,children:"1"}),f.jsxs("div",{children:[f.jsx("h2",{children:"Let's See Where You Stand"}),f.jsx("p",{className:V.stepTime,children:"30 seconds"})]})]}),f.jsxs("div",{className:V.inputGroup,children:[f.jsx("label",{children:"Annual Income"}),f.jsxs("div",{className:V.sliderValue,children:["$",N.toLocaleString()]}),f.jsx("input",{type:"range",min:"100000",max:"750000",step:"10000",value:N,onChange:Z=>G(parseInt(Z.target.value)),className:V.slider})]}),f.jsxs("div",{className:V.inputGroup,children:[f.jsx("label",{children:"Filing Status"}),f.jsxs("select",{value:H,onChange:Z=>F(Z.target.value),className:V.select,children:[f.jsx("option",{value:"single",children:"Single"}),f.jsx("option",{value:"married",children:"Married Filing Jointly"})]})]}),f.jsxs("div",{className:V.inputGroup,children:[f.jsx("label",{children:"State"}),f.jsxs("select",{value:ce,onChange:Z=>Y(Z.target.value),className:V.select,children:[f.jsx("option",{value:"CA",children:"California (13.3%)"}),f.jsx("option",{value:"NY",children:"New York (10.9%)"}),f.jsx("option",{value:"NJ",children:"New Jersey (10.75%)"}),f.jsx("option",{value:"TX",children:"Texas (0%)"}),f.jsx("option",{value:"FL",children:"Florida (0%)"}),f.jsx("option",{value:"WA",children:"Washington (0%)"}),f.jsx("option",{value:"NV",children:"Nevada (0%)"}),f.jsx("option",{value:"IL",children:"Illinois (4.95%)"}),f.jsx("option",{value:"CO",children:"Colorado (4.4%)"}),f.jsx("option",{value:"MA",children:"Massachusetts (5%)"}),f.jsx("option",{value:"OTHER",children:"Other State (~5%)"})]})]}),y?f.jsxs("div",{className:V.resultCard,children:[f.jsxs("div",{className:V.resultHighlight,children:["You're in the ",y.marginalRate,"% combined bracket"]}),f.jsx("p",{children:y.bracketInfo})]}):f.jsx("button",{onClick:I,className:V.primaryButton,children:"Calculate My Tax Profile"})]});case 2:return f.jsxs("div",{className:V.stepContent,children:[f.jsxs("div",{className:V.stepHeader,children:[f.jsx("div",{className:V.stepNumber,children:"2"}),f.jsxs("div",{children:[f.jsx("h2",{children:"Upload a Financial Document"}),f.jsx("p",{className:V.stepTime,children:"60 seconds"})]})]}),He?f.jsxs(f.Fragment,{children:[f.jsx("button",{className:V.backButton,onClick:()=>{Ve(null),ee(null)},children:" Choose different document"}),f.jsx("div",{className:`${V.dropzone} ${ge?V.dragging:""}`,onDragOver:Z=>{Z.preventDefault(),qe(!0)},onDragLeave:()=>qe(!1),onDrop:ie,children:h?f.jsxs("div",{className:V.processing,children:[f.jsx("div",{className:V.spinner}),f.jsxs("p",{children:["Analyzing your ",He==="1040"?"tax return":He==="w2"?"W-2":"paystub","..."]})]}):K?f.jsxs("div",{className:V.fileInfo,children:[f.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),f.jsx("p",{children:K.name})]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:f.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),f.jsxs("p",{children:["Drag & drop your ",He==="1040"?"1040":He==="w2"?"W-2":"paystub"," PDF here"]}),f.jsx("span",{children:"or"}),f.jsxs("label",{className:V.fileButton,children:["Browse Files",f.jsx("input",{type:"file",accept:".pdf,image/*",onChange:Te,style:{display:"none"}})]})]})})]}):f.jsxs("div",{className:V.documentOptions,children:[f.jsx("p",{className:V.optionsLabel,children:"Choose a document to upload:"}),f.jsxs("button",{className:V.documentOption,onClick:()=>Ve("1040"),children:[f.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),f.jsxs("div",{children:[f.jsx("strong",{children:"1040 Tax Return"}),f.jsx("span",{children:"Most comprehensive analysis"})]})]}),f.jsxs("button",{className:V.documentOption,onClick:()=>Ve("w2"),children:[f.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),f.jsxs("div",{children:[f.jsx("strong",{children:"W-2 Form"}),f.jsx("span",{children:"Quick income verification"})]})]}),f.jsxs("button",{className:V.documentOption,onClick:()=>Ve("paystub"),children:[f.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),f.jsxs("div",{children:[f.jsx("strong",{children:"Recent Paystub"}),f.jsx("span",{children:"Current earnings snapshot"})]})]})]}),b&&f.jsxs("div",{className:V.resultCard,children:[f.jsxs("div",{className:V.savingsHighlight,children:["Found $",b.toLocaleString()," in potential savings!"]}),f.jsx("p",{children:"We'll show you exactly how to capture these savings in your Tax Advisor."})]})]});case 3:return f.jsxs("div",{className:V.stepContent,children:[f.jsxs("div",{className:V.stepHeader,children:[f.jsx("div",{className:V.stepNumber,children:"3"}),f.jsxs("div",{children:[f.jsx("h2",{children:"Add One Portfolio Position"}),f.jsx("p",{className:V.stepTime,children:"45 seconds"})]})]}),f.jsxs("div",{className:V.inputGroup,children:[f.jsx("label",{children:"Stock Symbol"}),f.jsx("input",{type:"text",placeholder:"e.g., AAPL, NVDA, VTI",value:De.symbol,onChange:Z=>mt({...De,symbol:Z.target.value.toUpperCase()}),className:V.input})]}),f.jsxs("div",{className:V.inputRow,children:[f.jsxs("div",{className:V.inputGroup,children:[f.jsx("label",{children:"Shares"}),f.jsx("input",{type:"number",placeholder:"100",value:De.shares||"",onChange:Z=>mt({...De,shares:parseFloat(Z.target.value)||0}),className:V.input})]}),f.jsxs("div",{className:V.inputGroup,children:[f.jsx("label",{children:"Purchase Date"}),f.jsx("input",{type:"date",value:De.purchaseDate,onChange:Z=>mt({...De,purchaseDate:Z.target.value}),className:V.input})]})]}),h?f.jsxs("div",{className:V.processing,children:[f.jsx("div",{className:V.spinner}),f.jsxs("p",{children:["Analyzing ",De.symbol,"..."]})]}):C?f.jsxs("div",{className:V.resultCard,children:[f.jsx("div",{className:V.thesisHighlight,children:"Position Added"}),f.jsx("p",{children:C})]}):f.jsx("button",{onClick:T,className:V.primaryButton,disabled:!De.symbol,children:"Generate Instant Analysis"})]});case 4:return f.jsxs("div",{className:V.stepContent,children:[f.jsxs("div",{className:V.stepHeader,children:[f.jsx("div",{className:V.stepNumber,children:"4"}),f.jsxs("div",{children:[f.jsx("h2",{children:"Ask Your First Question"}),f.jsx("p",{className:V.stepTime,children:"45 seconds"})]})]}),f.jsxs("div",{className:V.chatPreview,children:[f.jsxs("div",{className:V.userMessage,children:[f.jsx("span",{className:V.messageLabel,children:"You"}),f.jsx("p",{children:'"Should I max out my 401k this year?"'})]}),h?f.jsxs("div",{className:V.processing,children:[f.jsx("div",{className:V.spinner}),f.jsx("p",{children:"Your AI Advisor is thinking..."})]}):x?f.jsxs("div",{className:V.aiMessage,children:[f.jsx("span",{className:V.messageLabel,children:"Charge AI"}),f.jsx("p",{children:x})]}):f.jsx("button",{onClick:q,className:V.primaryButton,children:"Get My Answer"})]})]});case 5:return f.jsxs("div",{className:V.stepContent,children:[f.jsxs("div",{className:V.stepHeader,children:[f.jsx("div",{className:V.completedIcon,children:f.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),f.jsx("path",{d:"M22 4L12 14.01l-3-3"})]})}),f.jsxs("div",{children:[f.jsx("h2",{children:"Your Dashboard Is Ready!"}),f.jsx("p",{className:V.stepTime,children:"Wealth Readiness: 65%+"})]})]}),f.jsxs("div",{className:V.completionSummary,children:[f.jsxs("div",{className:V.summaryItem,children:[f.jsx("span",{className:V.checkIcon,children:""}),f.jsx("span",{children:"Tax profile calculated"})]}),!p.includes(2)&&f.jsxs("div",{className:V.summaryItem,children:[f.jsx("span",{className:V.checkIcon,children:""}),f.jsx("span",{children:"Tax return analyzed"})]}),!p.includes(3)&&De.symbol&&f.jsxs("div",{className:V.summaryItem,children:[f.jsx("span",{className:V.checkIcon,children:""}),f.jsxs("span",{children:[De.symbol," position added"]})]}),f.jsxs("div",{className:V.summaryItem,children:[f.jsx("span",{className:V.checkIcon,children:""}),f.jsx("span",{children:"AI Advisor ready"})]})]}),f.jsxs("button",{className:V.primaryButton,onClick:async()=>{d(!0);try{await fetch("/api/user/onboarding-complete",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(Z){console.error("Failed to save onboarding status:",Z)}window.location.href="/dashboard/ai"},disabled:h,children:[h?"Loading...":"Go to AI Advisor",!h&&f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:"20px",height:"20px",marginLeft:"8px"},children:f.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]});default:return null}};return f.jsx("div",{className:V.overlay,children:f.jsxs("div",{className:V.wizard,children:[f.jsx("div",{className:V.progressBar,children:f.jsx("div",{className:V.progressFill,style:{width:`${M}%`}})}),f.jsxs("div",{className:V.progressText,children:["Step ",l," of ",st]}),fe(),l<5&&f.jsx("button",{onClick:oe,className:V.skipButton,children:"Skip for now"})]})})}const W2="_container_trcu8_1",eE="_spinner_trcu8_9",tE="_small_trcu8_16",nE="_medium_trcu8_21",aE="_large_trcu8_26",sE="_ring_trcu8_31",iE="_dot_trcu8_64",rE="_text_trcu8_97",Fn={container:W2,spinner:eE,small:tE,medium:nE,large:aE,ring:sE,"pulse-spin":"_pulse-spin_trcu8_1",dot:iE,"pulse-glow":"_pulse-glow_trcu8_1",text:rE,"text-pulse":"_text-pulse_trcu8_1"};function lE({size:s="medium",text:n}){return f.jsxs("div",{className:`${Fn.container} ${Fn[s]}`,children:[f.jsxs("div",{className:Fn.spinner,children:[f.jsx("div",{className:Fn.ring}),f.jsx("div",{className:Fn.ring}),f.jsx("div",{className:Fn.ring}),f.jsx("div",{className:Fn.dot})]}),n&&f.jsx("p",{className:Fn.text,children:n})]})}const oE="_errorContainer_1abxk_1",uE="_errorContent_1abxk_9",cE="_errorIcon_1abxk_17",hE="_errorTitle_1abxk_30",dE="_errorSubtitle_1abxk_37",fE="_retryButton_1abxk_44",Ss={errorContainer:oE,errorContent:uE,errorIcon:cE,errorTitle:hE,errorSubtitle:dE,retryButton:fE},Fu={portfolio:"Couldn't load your portfolio.",tax:"Couldn't load your tax data.",ai:"Couldn't connect to your AI Advisor.",referrals:"Couldn't load your referral stats.",default:"Something went wrong."};class ja extends $.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by boundary:",n?.message,n?.stack),console.error("Component stack:",r?.componentStack)}handleRetry=()=>{this.setState({hasError:!1,error:void 0}),this.props.onRetry?.()};getFriendlyMessage(){const{moduleName:n}=this.props;return n&&Fu[n]?Fu[n]:Fu.default}render(){return this.state.hasError?f.jsx("div",{className:Ss.errorContainer,children:f.jsxs("div",{className:Ss.errorContent,children:[f.jsx("div",{className:Ss.errorIcon,children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("circle",{cx:"12",cy:"12",r:"10"}),f.jsx("path",{d:"M12 8v4"}),f.jsx("path",{d:"M12 16h.01"})]})}),f.jsx("h3",{className:Ss.errorTitle,children:this.getFriendlyMessage()}),f.jsx("p",{className:Ss.errorSubtitle,children:"Our team has been notified. Please try again."}),!1,f.jsxs("button",{className:Ss.retryButton,onClick:this.handleRetry,children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("polyline",{points:"23 4 23 10 17 10"}),f.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]}),"Try Again"]})]})}):this.props.children}}const mE="_dashboardLayout_i8fp3_1",pE="_mainContent_i8fp3_7",vE="_collapsed_i8fp3_15",yE="_topHeader_i8fp3_19",gE="_headerContent_i8fp3_27",_E="_headerLeft_i8fp3_37",bE="_pageTitle_i8fp3_43",wE="_userSection_i8fp3_56",SE="_userMenuTrigger_i8fp3_62",EE="_userAvatar_i8fp3_79",xE="_userName_i8fp3_92",TE="_chevron_i8fp3_98",jE="_open_i8fp3_105",AE="_userDropdown_i8fp3_109",OE="_dropdownHeader_i8fp3_134",CE="_dropdownEmail_i8fp3_139",RE="_dropdownDivider_i8fp3_144",kE="_dropdownItem_i8fp3_149",NE="_pageContent_i8fp3_190",DE="_transitioning_i8fp3_197",UE="_dashboardLoading_i8fp3_213",ME="_moduleLoader_i8fp3_220",zE="_loaderSpinner_i8fp3_230",BE="_commandCenter_i8fp3_245",LE="_onboardingLayout_i8fp3_250",qE="_primaryColumn_i8fp3_257",HE="_secondaryColumn_i8fp3_263",$E="_columnTitle_i8fp3_269",GE="_aiAdvisorPromo_i8fp3_278",VE="_promoHeader_i8fp3_285",IE="_promoIcon_i8fp3_291",QE="_promoText_i8fp3_308",KE="_promoTitle_i8fp3_312",YE="_promoDesc_i8fp3_319",PE="_startButton_i8fp3_326",JE="_lockedModules_i8fp3_354",XE="_modulePreview_i8fp3_360",ZE="_unlocked_i8fp3_371",FE="_moduleIcon_i8fp3_376",WE="_moduleLock_i8fp3_398",ex="_moduleInfo_i8fp3_417",tx="_moduleName_i8fp3_422",nx="_moduleUnlock_i8fp3_429",ax="_moduleLink_i8fp3_435",sx="_lockedModulePage_i8fp3_451",ix="_lockedContent_i8fp3_458",rx="_lockedIcon_i8fp3_463",lx="_lockedTitle_i8fp3_480",ox="_lockedDesc_i8fp3_487",ux="_lockedAction_i8fp3_494",cx="_disclaimer_i8fp3_806",P={dashboardLayout:mE,mainContent:pE,collapsed:vE,topHeader:yE,headerContent:gE,headerLeft:_E,pageTitle:bE,userSection:wE,userMenuTrigger:SE,userAvatar:EE,userName:xE,chevron:TE,open:jE,userDropdown:AE,dropdownHeader:OE,dropdownEmail:CE,dropdownDivider:RE,dropdownItem:kE,pageContent:NE,transitioning:DE,dashboardLoading:UE,moduleLoader:ME,loaderSpinner:zE,commandCenter:BE,onboardingLayout:LE,primaryColumn:qE,secondaryColumn:HE,columnTitle:$E,aiAdvisorPromo:GE,promoHeader:VE,promoIcon:IE,promoText:QE,promoTitle:KE,promoDesc:YE,startButton:PE,lockedModules:JE,modulePreview:XE,unlocked:ZE,moduleIcon:FE,moduleLock:WE,moduleInfo:ex,moduleName:tx,moduleUnlock:nx,moduleLink:ax,lockedModulePage:sx,lockedContent:ix,lockedIcon:rx,lockedTitle:lx,lockedDesc:ox,lockedAction:ux,disclaimer:cx},hx=$.lazy(()=>qi(()=>import("./ChargeAI-B1ZrMBTd.js"),__vite__mapDeps([0,1]))),dx=$.lazy(()=>qi(()=>import("./ChargeTaxIntel-DmjuHL32.js"),__vite__mapDeps([2,3]))),fx=$.lazy(()=>qi(()=>import("./ChargeAllocation-DjsrF3Uj.js"),__vite__mapDeps([4,5]))),mx=$.lazy(()=>qi(()=>import("./Playbooks-DNOhuXhZ.js"),__vite__mapDeps([6,7]))),px=$.lazy(()=>qi(()=>import("./ReferralDashboard-Bm0shTqy.js"),__vite__mapDeps([8,9])));function xi(){return f.jsxs("div",{className:P.moduleLoader,children:[f.jsx("div",{className:P.loaderSpinner}),f.jsx("span",{children:"Loading..."})]})}function vx(){const{theme:s,toggleTheme:n}=f_();return f.jsxs("button",{onClick:n,className:P.dropdownItem,children:[s==="dark"?f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("circle",{cx:"12",cy:"12",r:"5"}),f.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),f.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),f.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),f.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),f.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),f.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),f.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),f.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),s==="dark"?"Light Mode":"Dark Mode"]})}function Np(){const{user:s}=bv(),[n,r]=$.useState(!1),[l,c]=$.useState(!1),h=$.useRef(null),[d]=Fp(),[p,v]=$.useState(!1),[y,_]=$.useState(d),[b,S]=$.useState({hasTaxData:!1,hasPositions:!1,hasProfile:!1,hasCashFlow:!1}),[C,k]=$.useState(!1),[x,U]=$.useState(!0);$.useEffect(()=>{(async()=>{U(!0);try{const[ge,qe,He]=await Promise.all([fetch("/api/charge-ai/context",{credentials:"include"}),fetch("/api/allocation/portfolio",{credentials:"include"}),fetch("/api/tax-intel/current",{credentials:"include"})]),Ve=ge.ok?await ge.json():null,De=qe.ok?await qe.json():null,mt=He.ok?await He.json():null,st=!!Ve?.hasProfile,M=De?.portfolio?.positions?.length>0,I=!!mt?.taxData||!!Ve?.hasTaxData;S({hasTaxData:I,hasPositions:M,hasProfile:st,hasCashFlow:!1})}catch(ge){console.error("Failed to check user data:",ge)}finally{U(!1)}})()},[]),$.useEffect(()=>{new URLSearchParams(window.location.search).get("showOnboarding")==="true"&&(k(!0),window.history.replaceState({},"","/dashboard"))},[]),$.useEffect(()=>{const ee=qe=>{h.current&&!h.current.contains(qe.target)&&c(!1)},ge=qe=>{qe.key==="Escape"&&c(!1)};return l&&(document.addEventListener("mousedown",ee),document.addEventListener("keydown",ge)),()=>{document.removeEventListener("mousedown",ee),document.removeEventListener("keydown",ge)}},[l]),$.useEffect(()=>{c(!1)},[d]),$.useEffect(()=>{if(d!==y){v(!0);const ee=setTimeout(()=>{_(d),v(!1)},150);return()=>clearTimeout(ee)}},[d,y]),$.useEffect(()=>{const ee={"/dashboard":"Command Center | Charge Wealth","/dashboard/ai":"AI Advisor | Charge Wealth","/dashboard/tax-intel":"Tax Advisor | Charge Wealth","/dashboard/allocation":"Portfolio Engine | Charge Wealth","/dashboard/playbooks":"Playbooks | Charge Wealth","/dashboard/referrals":"Referral Program | Charge Wealth"};document.title=ee[d]||"Charge Wealth"},[d]);const N=()=>{window.location.href="/api/logout"},G=d==="/dashboard",F=(()=>{let ee=0;return b.hasProfile&&(ee+=20),b.hasTaxData&&(ee+=30),b.hasPositions&&(ee+=30),b.hasCashFlow&&(ee+=20),ee})(),ce=()=>G?"Command Center":d.includes("/ai")?"AI Advisor":d.includes("tax-intel")?"Tax Advisor":d.includes("allocation")?"Portfolio Engine":d.includes("playbooks")?"Playbooks":d.includes("referrals")?"Referral Program":"Charge Wealth",Y=ee=>ee==="ai"||ee==="command-center"?!1:ee==="playbooks"?F<20:!1,K=()=>{k(!1)};return C?f.jsx(Sv,{onComplete:K}):f.jsxs("div",{className:P.dashboardLayout,children:[f.jsx(Nw,{onCollapse:r,wealthScore:F}),f.jsxs("div",{className:`${P.mainContent} ${n?P.collapsed:""}`,children:[f.jsx("header",{className:P.topHeader,children:f.jsxs("div",{className:P.headerContent,children:[f.jsx("div",{className:P.headerLeft,children:f.jsx("h1",{className:P.pageTitle,children:ce()})}),f.jsxs("div",{className:P.userSection,ref:h,children:[f.jsxs("button",{className:P.userMenuTrigger,onClick:()=>c(!l),"aria-expanded":l,"aria-haspopup":"true",children:[f.jsx("div",{className:P.userAvatar,children:(s?.firstName?.[0]||s?.email?.[0]||"U").toUpperCase()}),f.jsx("span",{className:P.userName,children:s?.firstName||s?.email?.split("@")[0]}),f.jsx("svg",{className:`${P.chevron} ${l?P.open:""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M6 9l6 6 6-6"})})]}),l&&f.jsxs("div",{className:P.userDropdown,children:[f.jsx("div",{className:P.dropdownHeader,children:f.jsx("span",{className:P.dropdownEmail,children:s?.email})}),f.jsx("div",{className:P.dropdownDivider}),f.jsx(vx,{}),f.jsxs("a",{href:"/dashboard/referrals",className:P.dropdownItem,children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[f.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),f.jsx("circle",{cx:"9",cy:"7",r:"4"}),f.jsx("path",{d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]}),"Refer & Earn $50"]}),f.jsxs("button",{onClick:N,className:P.dropdownItem,children:[f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9"})}),"Sign Out"]})]})]})]})}),f.jsx("div",{id:"main-content",className:`${P.pageContent} ${p?P.transitioning:""}`,children:x?f.jsx("div",{className:P.dashboardLoading,children:f.jsx(lE,{size:"large",text:"Loading your dashboard..."})}):f.jsxs(tv,{children:[f.jsx(Tn,{path:"/dashboard",children:f.jsx(ja,{moduleName:"default",children:f.jsxs("div",{className:P.commandCenter,children:[f.jsxs("div",{className:P.onboardingLayout,children:[f.jsxs("div",{className:P.primaryColumn,children:[f.jsxs("div",{className:P.aiAdvisorPromo,children:[f.jsxs("div",{className:P.promoHeader,children:[f.jsx("div",{className:P.promoIcon,children:f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"}),f.jsx("circle",{cx:"8",cy:"14",r:"1.5"}),f.jsx("circle",{cx:"16",cy:"14",r:"1.5"})]})}),f.jsxs("div",{className:P.promoText,children:[f.jsx("h2",{className:P.promoTitle,children:"Your AI Advisor"}),f.jsx("p",{className:P.promoDesc,children:"Ask any financial question. Get clear answers based on your actual data."})]})]}),f.jsxs("a",{href:"/dashboard/ai",className:P.startButton,children:["Start Conversation",f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),f.jsx(rS,{hasTaxData:b.hasTaxData,hasPositions:b.hasPositions,hasProfile:b.hasProfile,hasCashFlow:b.hasCashFlow}),f.jsx(WS,{})]}),f.jsxs("div",{className:P.secondaryColumn,children:[f.jsx("h3",{className:P.columnTitle,children:"Unlock More Tools"}),f.jsxs("div",{className:P.lockedModules,children:[f.jsxs("div",{className:`${P.modulePreview} ${Y("tax-intel")?"":P.unlocked}`,children:[f.jsxs("div",{className:P.moduleIcon,children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),f.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),Y("tax-intel")&&f.jsx("div",{className:P.moduleLock,children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3z"})})})]}),f.jsxs("div",{className:P.moduleInfo,children:[f.jsx("h4",{className:P.moduleName,children:"Tax Advisor"}),f.jsx("p",{className:P.moduleUnlock,children:Y("tax-intel")?"Upload tax return to unlock":"Find tax-saving opportunities"})]}),!Y("tax-intel")&&f.jsx("a",{href:"/dashboard/tax-intel",className:P.moduleLink,children:"Open"})]}),f.jsxs("div",{className:`${P.modulePreview} ${Y("allocation")?"":P.unlocked}`,children:[f.jsxs("div",{className:P.moduleIcon,children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M12 2a10 10 0 1 0 10 10"}),f.jsx("path",{d:"M12 2v10l6.5-3.5"}),f.jsx("path",{d:"M12 12l6.5 3.5"})]}),Y("allocation")&&f.jsx("div",{className:P.moduleLock,children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3z"})})})]}),f.jsxs("div",{className:P.moduleInfo,children:[f.jsx("h4",{className:P.moduleName,children:"Portfolio Engine"}),f.jsx("p",{className:P.moduleUnlock,children:Y("allocation")?"Add positions to unlock":"Analyze risk & allocation"})]}),!Y("allocation")&&f.jsx("a",{href:"/dashboard/allocation",className:P.moduleLink,children:"Open"})]}),f.jsxs("div",{className:`${P.modulePreview} ${Y("playbooks")?"":P.unlocked}`,children:[f.jsxs("div",{className:P.moduleIcon,children:[f.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[f.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),f.jsx("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),f.jsx("path",{d:"M9 12l2 2 4-4"})]}),Y("playbooks")&&f.jsx("div",{className:P.moduleLock,children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3z"})})})]}),f.jsxs("div",{className:P.moduleInfo,children:[f.jsx("h4",{className:P.moduleName,children:"Playbooks"}),f.jsx("p",{className:P.moduleUnlock,children:Y("playbooks")?"Complete profile to unlock":"Step-by-step action plans"})]}),!Y("playbooks")&&f.jsx("a",{href:"/dashboard/playbooks",className:P.moduleLink,children:"Open"})]})]})]})]}),f.jsx("div",{className:P.disclaimer,children:"Charge Wealth provides decision support based on your data. We don't sell products, manage money, or give personalized recommendations. Consult qualified professionals before acting."})]})})}),f.jsx(Tn,{path:"/dashboard/ai",children:f.jsx(ja,{moduleName:"ai",children:f.jsx($.Suspense,{fallback:f.jsx(xi,{}),children:f.jsx(hx,{})})})}),f.jsx(Tn,{path:"/dashboard/tax-intel",children:f.jsx(ja,{moduleName:"tax",children:f.jsx($.Suspense,{fallback:f.jsx(xi,{}),children:Y("tax-intel")?f.jsx(Wu,{title:"Tax Advisor",description:"Upload your tax return to unlock tax optimization insights.",requiredAction:"Upload Tax Return",actionPath:"/dashboard/ai"}):f.jsx(dx,{})})})}),f.jsx(Tn,{path:"/dashboard/allocation",children:f.jsx(ja,{moduleName:"portfolio",children:f.jsx($.Suspense,{fallback:f.jsx(xi,{}),children:Y("allocation")?f.jsx(Wu,{title:"Portfolio Engine",description:"Add your portfolio positions to unlock CFA-level analysis.",requiredAction:"Add Portfolio Positions",actionPath:"/dashboard/ai"}):f.jsx(fx,{})})})}),f.jsx(Tn,{path:"/dashboard/playbooks",children:f.jsx(ja,{moduleName:"default",children:f.jsx($.Suspense,{fallback:f.jsx(xi,{}),children:Y("playbooks")?f.jsx(Wu,{title:"Playbooks",description:"Complete your financial profile to unlock step-by-step action plans.",requiredAction:"Complete Profile",actionPath:"/dashboard/ai"}):f.jsx(mx,{})})})}),f.jsx(Tn,{path:"/dashboard/referrals",children:f.jsx(ja,{moduleName:"referrals",children:f.jsx($.Suspense,{fallback:f.jsx(xi,{}),children:f.jsx(px,{})})})})]})})]})]})}function Wu({title:s,description:n,requiredAction:r,actionPath:l}){return f.jsx("div",{className:P.lockedModulePage,children:f.jsxs("div",{className:P.lockedContent,children:[f.jsx("div",{className:P.lockedIcon,children:f.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:f.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3zm0 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"})})}),f.jsx("h2",{className:P.lockedTitle,children:s}),f.jsx("p",{className:P.lockedDesc,children:n}),f.jsxs("a",{href:l,className:P.lockedAction,children:[r,f.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:f.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})})}function yx(){return f.jsx(R0,{client:G0,children:f.jsx(d_,{children:f.jsxs(Z2,{children:[f.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),f.jsx(ja,{moduleName:"default",children:f.jsx(bx,{})})]})})})}function gx(){return f.jsx("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg, #0F1117 0%, #1A1D28 100%)",padding:"2rem"},children:f.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[f.jsx("h1",{style:{fontSize:"2rem",fontWeight:"600",color:"#C9A962",marginBottom:"0.5rem",letterSpacing:"0.05em"},children:"Charge Wealth"}),f.jsx("p",{style:{fontSize:"1.125rem",color:"#F4F5F7",marginBottom:"0.5rem"},children:"Welcome back"}),f.jsx("p",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"2rem",lineHeight:"1.5"},children:"Sign in to access your financial decision tools."}),f.jsx("a",{href:"/api/login",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",width:"100%",background:"#C9A962",color:"#0F1117",padding:"0.875rem 1.5rem",fontSize:"0.9375rem",fontWeight:"600",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",textDecoration:"none"},children:"Sign In with Replit"}),f.jsx("p",{style:{marginTop:"2rem",fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.4)"},children:"No 1% AUM fees. No sales. No BS."})]})})}function _x(){return f.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0F1117"},children:f.jsx("div",{style:{textAlign:"center",color:"#C9A962"},children:f.jsx("p",{children:"Loading..."})})})}function bx(){const{isLoading:s,isAuthenticated:n}=P1(),{isLoading:r,isAuthenticated:l}=bv(),[c,h]=$.useState(!1),d=s&&r,p=n||l,{data:v,isLoading:y,refetch:_}=Ip({queryKey:["/api/user/onboarding-status"],enabled:p});if(d)return f.jsx(_x,{});if(!p)return f.jsx(gx,{});const b=p&&!c&&!y&&v&&!v.onboardingCompleted,S=()=>{h(!0),_()};return f.jsxs(f.Fragment,{children:[b&&f.jsx(Sv,{onComplete:S}),f.jsxs(tv,{children:[f.jsx(Tn,{path:"/dashboard",component:Np}),f.jsx(Tn,{path:"/dashboard/:module",component:Np}),f.jsx(Tn,{children:f.jsx(h_,{to:"/dashboard"})})]})]})}s0.createRoot(document.getElementById("root")).render(f.jsx(Up.StrictMode,{children:f.jsx(yx,{})}));export{lE as L,Xg as R,e0 as a,dl as b,K0 as c,Ip as d,Dp as g,f as j,$ as r,X2 as u};
