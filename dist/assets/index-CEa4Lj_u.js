const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChargeAI-y2REH09j.js","assets/ChargeAI-z3yUtIpm.css","assets/ChargeTaxIntel-CZQj6smG.js","assets/ChargeTaxIntel-Oc-xQ05J.css","assets/ChargeAllocation-Rar75gbN.js","assets/ChargeAllocation-0lPBkanV.css","assets/Playbooks-B0Msh8nE.js","assets/Playbooks-CHddX_Gw.css","assets/ReferralDashboard-C-rPe2dB.js","assets/ReferralDashboard-DaSsfwYX.css"])))=>i.map(i=>d[i]);
function Yg(s,n){for(var r=0;r<n.length;r++){const l=n[r];if(typeof l!="string"&&!Array.isArray(l)){for(const c in l)if(c!=="default"&&!(c in s)){const h=Object.getOwnPropertyDescriptor(l,c);h&&Object.defineProperty(s,c,h.get?h:{enumerable:!0,get:()=>l[c]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(c){if(c.ep)return;c.ep=!0;const h=r(c);fetch(c.href,h)}})();function Mp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var zu={exports:{}},Si={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function Jg(){if(Dm)return Si;Dm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,c,h){var f=null;if(h!==void 0&&(f=""+h),c.key!==void 0&&(f=""+c.key),"key"in c){h={};for(var p in c)p!=="key"&&(h[p]=c[p])}else h=c;return c=h.ref,{$$typeof:s,type:l,key:f,ref:c!==void 0?c:null,props:h}}return Si.Fragment=n,Si.jsx=r,Si.jsxs=r,Si}var Mm;function Xg(){return Mm||(Mm=1,zu.exports=Jg()),zu.exports}var d=Xg(),Bu={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function Zg(){if(Um)return ce;Um=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function O(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,D={};function k(T,L,P){this.props=T,this.context=L,this.refs=D,this.updater=P||C}k.prototype.isReactComponent={},k.prototype.setState=function(T,L){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,L,"setState")},k.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function G(){}G.prototype=k.prototype;function H(T,L,P){this.props=T,this.context=L,this.refs=D,this.updater=P||C}var F=H.prototype=new G;F.constructor=H,w(F,k.prototype),F.isPureReactComponent=!0;var de=Array.isArray;function ee(){}var Q={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function Re(T,L,P){var J=P.ref;return{$$typeof:s,type:T,key:L,ref:J!==void 0?J:null,props:P}}function nt(T,L){return Re(T.type,L,T.props)}function Ge(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function oe(T){var L={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(P){return L[P]})}var ve=/\/+/g;function Ie(T,L){return typeof T=="object"&&T!==null&&T.key!=null?oe(""+T.key):L.toString(36)}function Xe(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(ee,ee):(T.status="pending",T.then(function(L){T.status==="pending"&&(T.status="fulfilled",T.value=L)},function(L){T.status==="pending"&&(T.status="rejected",T.reason=L)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function U(T,L,P,J,ue){var pe=typeof T;(pe==="undefined"||pe==="boolean")&&(T=null);var X=!1;if(T===null)X=!0;else switch(pe){case"bigint":case"string":case"number":X=!0;break;case"object":switch(T.$$typeof){case s:case n:X=!0;break;case _:return X=T._init,U(X(T._payload),L,P,J,ue)}}if(X)return ue=ue(T),X=J===""?"."+Ie(T,0):J,de(ue)?(P="",X!=null&&(P=X.replace(ve,"$&/")+"/"),U(ue,L,P,"",function(Lt){return Lt})):ue!=null&&(Ge(ue)&&(ue=nt(ue,P+(ue.key==null||T&&T.key===ue.key?"":(""+ue.key).replace(ve,"$&/")+"/")+X)),L.push(ue)),1;X=0;var xe=J===""?".":J+":";if(de(T))for(var De=0;De<T.length;De++)J=T[De],pe=xe+Ie(J,De),X+=U(J,L,P,pe,ue);else if(De=O(T),typeof De=="function")for(T=De.call(T),De=0;!(J=T.next()).done;)J=J.value,pe=xe+Ie(J,De++),X+=U(J,L,P,pe,ue);else if(pe==="object"){if(typeof T.then=="function")return U(Xe(T),L,P,J,ue);throw L=String(T),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return X}function I(T,L,P){if(T==null)return T;var J=[],ue=0;return U(T,J,"","",function(pe){return L.call(P,pe,ue++)}),J}function ae(T){if(T._status===-1){var L=T._result;L=L(),L.then(function(P){(T._status===0||T._status===-1)&&(T._status=1,T._result=P)},function(P){(T._status===0||T._status===-1)&&(T._status=2,T._result=P)}),T._status===-1&&(T._status=0,T._result=L)}if(T._status===1)return T._result.default;throw T._result}var Te=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},je={map:I,forEach:function(T,L,P){I(T,function(){L.apply(this,arguments)},P)},count:function(T){var L=0;return I(T,function(){L++}),L},toArray:function(T){return I(T,function(L){return L})||[]},only:function(T){if(!Ge(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ce.Activity=b,ce.Children=je,ce.Component=k,ce.Fragment=r,ce.Profiler=c,ce.PureComponent=H,ce.StrictMode=l,ce.Suspense=y,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,ce.__COMPILER_RUNTIME={__proto__:null,c:function(T){return Q.H.useMemoCache(T)}},ce.cache=function(T){return function(){return T.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(T,L,P){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var J=w({},T.props),ue=T.key;if(L!=null)for(pe in L.key!==void 0&&(ue=""+L.key),L)!te.call(L,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&L.ref===void 0||(J[pe]=L[pe]);var pe=arguments.length-2;if(pe===1)J.children=P;else if(1<pe){for(var X=Array(pe),xe=0;xe<pe;xe++)X[xe]=arguments[xe+2];J.children=X}return Re(T.type,ue,J)},ce.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:h,_context:T},T},ce.createElement=function(T,L,P){var J,ue={},pe=null;if(L!=null)for(J in L.key!==void 0&&(pe=""+L.key),L)te.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ue[J]=L[J]);var X=arguments.length-2;if(X===1)ue.children=P;else if(1<X){for(var xe=Array(X),De=0;De<X;De++)xe[De]=arguments[De+2];ue.children=xe}if(T&&T.defaultProps)for(J in X=T.defaultProps,X)ue[J]===void 0&&(ue[J]=X[J]);return Re(T,pe,ue)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(T){return{$$typeof:p,render:T}},ce.isValidElement=Ge,ce.lazy=function(T){return{$$typeof:_,_payload:{_status:-1,_result:T},_init:ae}},ce.memo=function(T,L){return{$$typeof:v,type:T,compare:L===void 0?null:L}},ce.startTransition=function(T){var L=Q.T,P={};Q.T=P;try{var J=T(),ue=Q.S;ue!==null&&ue(P,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(ee,Te)}catch(pe){Te(pe)}finally{L!==null&&P.types!==null&&(L.types=P.types),Q.T=L}},ce.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},ce.use=function(T){return Q.H.use(T)},ce.useActionState=function(T,L,P){return Q.H.useActionState(T,L,P)},ce.useCallback=function(T,L){return Q.H.useCallback(T,L)},ce.useContext=function(T){return Q.H.useContext(T)},ce.useDebugValue=function(){},ce.useDeferredValue=function(T,L){return Q.H.useDeferredValue(T,L)},ce.useEffect=function(T,L){return Q.H.useEffect(T,L)},ce.useEffectEvent=function(T){return Q.H.useEffectEvent(T)},ce.useId=function(){return Q.H.useId()},ce.useImperativeHandle=function(T,L,P){return Q.H.useImperativeHandle(T,L,P)},ce.useInsertionEffect=function(T,L){return Q.H.useInsertionEffect(T,L)},ce.useLayoutEffect=function(T,L){return Q.H.useLayoutEffect(T,L)},ce.useMemo=function(T,L){return Q.H.useMemo(T,L)},ce.useOptimistic=function(T,L){return Q.H.useOptimistic(T,L)},ce.useReducer=function(T,L,P){return Q.H.useReducer(T,L,P)},ce.useRef=function(T){return Q.H.useRef(T)},ce.useState=function(T){return Q.H.useState(T)},ce.useSyncExternalStore=function(T,L,P){return Q.H.useSyncExternalStore(T,L,P)},ce.useTransition=function(){return Q.H.useTransition()},ce.version="19.2.0",ce}var zm;function fl(){return zm||(zm=1,Bu.exports=Zg()),Bu.exports}var $=fl();const Up=Mp($),Fg=Yg({__proto__:null,default:Up},[$]);var Lu={exports:{}},xi={},qu={exports:{}},Hu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function Wg(){return Bm||(Bm=1,(function(s){function n(U,I){var ae=U.length;U.push(I);e:for(;0<ae;){var Te=ae-1>>>1,je=U[Te];if(0<c(je,I))U[Te]=I,U[ae]=je,ae=Te;else break e}}function r(U){return U.length===0?null:U[0]}function l(U){if(U.length===0)return null;var I=U[0],ae=U.pop();if(ae!==I){U[0]=ae;e:for(var Te=0,je=U.length,T=je>>>1;Te<T;){var L=2*(Te+1)-1,P=U[L],J=L+1,ue=U[J];if(0>c(P,ae))J<je&&0>c(ue,P)?(U[Te]=ue,U[J]=ae,Te=J):(U[Te]=P,U[L]=ae,Te=L);else if(J<je&&0>c(ue,ae))U[Te]=ue,U[J]=ae,Te=J;else break e}}return I}function c(U,I){var ae=U.sortIndex-I.sortIndex;return ae!==0?ae:U.id-I.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();s.unstable_now=function(){return f.now()-p}}var y=[],v=[],_=1,b=null,x=3,O=!1,C=!1,w=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function F(U){for(var I=r(v);I!==null;){if(I.callback===null)l(v);else if(I.startTime<=U)l(v),I.sortIndex=I.expirationTime,n(y,I);else break;I=r(v)}}function de(U){if(w=!1,F(U),!C)if(r(y)!==null)C=!0,ee||(ee=!0,oe());else{var I=r(v);I!==null&&Xe(de,I.startTime-U)}}var ee=!1,Q=-1,te=5,Re=-1;function nt(){return D?!0:!(s.unstable_now()-Re<te)}function Ge(){if(D=!1,ee){var U=s.unstable_now();Re=U;var I=!0;try{e:{C=!1,w&&(w=!1,G(Q),Q=-1),O=!0;var ae=x;try{t:{for(F(U),b=r(y);b!==null&&!(b.expirationTime>U&&nt());){var Te=b.callback;if(typeof Te=="function"){b.callback=null,x=b.priorityLevel;var je=Te(b.expirationTime<=U);if(U=s.unstable_now(),typeof je=="function"){b.callback=je,F(U),I=!0;break t}b===r(y)&&l(y),F(U)}else l(y);b=r(y)}if(b!==null)I=!0;else{var T=r(v);T!==null&&Xe(de,T.startTime-U),I=!1}}break e}finally{b=null,x=ae,O=!1}I=void 0}}finally{I?oe():ee=!1}}}var oe;if(typeof H=="function")oe=function(){H(Ge)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ie=ve.port2;ve.port1.onmessage=Ge,oe=function(){Ie.postMessage(null)}}else oe=function(){k(Ge,0)};function Xe(U,I){Q=k(function(){U(s.unstable_now())},I)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(U){U.callback=null},s.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<U?Math.floor(1e3/U):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(U){switch(x){case 1:case 2:case 3:var I=3;break;default:I=x}var ae=x;x=I;try{return U()}finally{x=ae}},s.unstable_requestPaint=function(){D=!0},s.unstable_runWithPriority=function(U,I){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ae=x;x=U;try{return I()}finally{x=ae}},s.unstable_scheduleCallback=function(U,I,ae){var Te=s.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Te+ae:Te):ae=Te,U){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ae+je,U={id:_++,callback:I,priorityLevel:U,startTime:ae,expirationTime:je,sortIndex:-1},ae>Te?(U.sortIndex=ae,n(v,U),r(y)===null&&U===r(v)&&(w?(G(Q),Q=-1):w=!0,Xe(de,ae-Te))):(U.sortIndex=je,n(y,U),C||O||(C=!0,ee||(ee=!0,oe()))),U},s.unstable_shouldYield=nt,s.unstable_wrapCallback=function(U){var I=x;return function(){var ae=x;x=I;try{return U.apply(this,arguments)}finally{x=ae}}}})(Hu)),Hu}var Lm;function e0(){return Lm||(Lm=1,qu.exports=Wg()),qu.exports}var $u={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function t0(){if(qm)return pt;qm=1;var s=fl();function n(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)v+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(y,v,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:y,containerInfo:v,implementation:_}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,pt.createPortal=function(y,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(n(299));return h(y,v,null,_)},pt.flushSync=function(y){var v=f.T,_=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=v,l.p=_,l.d.f()}},pt.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,l.d.C(y,v))},pt.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},pt.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var _=v.as,b=p(_,v.crossOrigin),x=typeof v.integrity=="string"?v.integrity:void 0,O=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;_==="style"?l.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:O}):_==="script"&&l.d.X(y,{crossOrigin:b,integrity:x,fetchPriority:O,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},pt.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var _=p(v.as,v.crossOrigin);l.d.M(y,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&l.d.M(y)},pt.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var _=v.as,b=p(_,v.crossOrigin);l.d.L(y,_,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},pt.preloadModule=function(y,v){if(typeof y=="string")if(v){var _=p(v.as,v.crossOrigin);l.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else l.d.m(y)},pt.requestFormReset=function(y){l.d.r(y)},pt.unstable_batchedUpdates=function(y,v){return y(v)},pt.useFormState=function(y,v,_){return f.H.useFormState(y,v,_)},pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},pt.version="19.2.0",pt}var Hm;function n0(){if(Hm)return $u.exports;Hm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),$u.exports=t0(),$u.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function a0(){if($m)return xi;$m=1;var s=e0(),n=fl(),r=n0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(l(188))}function v(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,i=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){a=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return y(o),e;if(u===i)return y(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==i.return)a=o,i=u;else{for(var m=!1,g=o.child;g;){if(g===a){m=!0,a=o,i=u;break}if(g===i){m=!0,i=o,a=u;break}g=g.sibling}if(!m){for(g=u.child;g;){if(g===a){m=!0,a=u,i=o;break}if(g===i){m=!0,i=u,a=o;break}g=g.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==i)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),H=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Re=Symbol.for("react.activity"),nt=Symbol.for("react.memo_cache_sentinel"),Ge=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=Ge&&e[Ge]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Symbol.for("react.client.reference");function Ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case k:return"Profiler";case D:return"StrictMode";case de:return"Suspense";case ee:return"SuspenseList";case Re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case H:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:Ie(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return Ie(e(t))}catch{}}return null}var Xe=Array.isArray,U=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Te=[],je=-1;function T(e){return{current:e}}function L(e){0>je||(e.current=Te[je],Te[je]=null,je--)}function P(e,t){je++,Te[je]=e.current,e.current=t}var J=T(null),ue=T(null),pe=T(null),X=T(null);function xe(e,t){switch(P(pe,t),P(ue,e),P(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=nm(t),e=am(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(J),P(J,e)}function De(){L(J),L(ue),L(pe)}function Lt(e){e.memoizedState!==null&&P(X,e);var t=J.current,a=am(t,e.type);t!==a&&(P(ue,e),P(J,a))}function aa(e){ue.current===e&&(L(J),L(ue)),X.current===e&&(L(X),gi._currentValue=ae)}var vl,Nc;function sa(e){if(vl===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);vl=t&&t[1]||"",Nc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vl+e+Nc}var gl=!1;function _l(e,t){if(!e||gl)return"";gl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(M){var N=M}Reflect.construct(e,[],q)}else{try{q.call()}catch(M){N=M}e.call(q.prototype)}}else{try{throw Error()}catch(M){N=M}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(M){if(M&&N&&typeof M.stack=="string")return[M.stack,N.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),m=u[0],g=u[1];if(m&&g){var S=m.split(`
`),R=g.split(`
`);for(o=i=0;i<S.length&&!S[i].includes("DetermineComponentFrameRoot");)i++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(i===S.length||o===R.length)for(i=S.length-1,o=R.length-1;1<=i&&0<=o&&S[i]!==R[o];)o--;for(;1<=i&&0<=o;i--,o--)if(S[i]!==R[o]){if(i!==1||o!==1)do if(i--,o--,0>o||S[i]!==R[o]){var z=`
`+S[i].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=i&&0<=o);break}}}finally{gl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?sa(a):""}function Ty(e,t){switch(e.tag){case 26:case 27:case 5:return sa(e.type);case 16:return sa("Lazy");case 13:return e.child!==t&&t!==null?sa("Suspense Fallback"):sa("Suspense");case 19:return sa("SuspenseList");case 0:case 15:return _l(e.type,!1);case 11:return _l(e.type.render,!1);case 1:return _l(e.type,!0);case 31:return sa("Activity");default:return""}}function kc(e){try{var t="",a=null;do t+=Ty(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var bl=Object.prototype.hasOwnProperty,wl=s.unstable_scheduleCallback,Sl=s.unstable_cancelCallback,jy=s.unstable_shouldYield,Ay=s.unstable_requestPaint,Tt=s.unstable_now,Oy=s.unstable_getCurrentPriorityLevel,Dc=s.unstable_ImmediatePriority,Mc=s.unstable_UserBlockingPriority,$i=s.unstable_NormalPriority,Cy=s.unstable_LowPriority,Uc=s.unstable_IdlePriority,Ry=s.log,Ny=s.unstable_setDisableYieldValue,Rs=null,jt=null;function On(e){if(typeof Ry=="function"&&Ny(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Rs,e)}catch{}}var At=Math.clz32?Math.clz32:My,ky=Math.log,Dy=Math.LN2;function My(e){return e>>>=0,e===0?32:31-(ky(e)/Dy|0)|0}var Gi=256,Vi=262144,Ii=4194304;function ia(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pi(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var g=i&134217727;return g!==0?(i=g&~u,i!==0?o=ia(i):(m&=g,m!==0?o=ia(m):a||(a=g&~e,a!==0&&(o=ia(a))))):(g=i&~u,g!==0?o=ia(g):m!==0?o=ia(m):a||(a=i&~e,a!==0&&(o=ia(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Ns(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Uy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zc(){var e=Ii;return Ii<<=1,(Ii&62914560)===0&&(Ii=4194304),e}function xl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ks(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zy(e,t,a,i,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var g=e.entanglements,S=e.expirationTimes,R=e.hiddenUpdates;for(a=m&~a;0<a;){var z=31-At(a),q=1<<z;g[z]=0,S[z]=-1;var N=R[z];if(N!==null)for(R[z]=null,z=0;z<N.length;z++){var M=N[z];M!==null&&(M.lane&=-536870913)}a&=~q}i!==0&&Bc(e,i,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function Bc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-At(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function Lc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-At(a),o=1<<i;o&t|e[i]&t&&(e[i]|=t),a&=~o}}function qc(e,t){var a=t&-t;return a=(a&42)!==0?1:El(a),(a&(e.suspendedLanes|t))!==0?0:a}function El(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hc(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:jm(e.type))}function $c(e,t){var a=I.p;try{return I.p=e,t()}finally{I.p=a}}var Cn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Cn,vt="__reactProps$"+Cn,Da="__reactContainer$"+Cn,jl="__reactEvents$"+Cn,By="__reactListeners$"+Cn,Ly="__reactHandles$"+Cn,Gc="__reactResources$"+Cn,Ds="__reactMarker$"+Cn;function Al(e){delete e[lt],delete e[vt],delete e[jl],delete e[By],delete e[Ly]}function Ma(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Da]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=cm(e);e!==null;){if(a=e[lt])return a;e=cm(e)}return t}e=a,a=e.parentNode}return null}function Ua(e){if(e=e[lt]||e[Da]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ms(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function za(e){var t=e[Gc];return t||(t=e[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Ds]=!0}var Vc=new Set,Ic={};function ra(e,t){Ba(e,t),Ba(e+"Capture",t)}function Ba(e,t){for(Ic[e]=t,e=0;e<t.length;e++)Vc.add(t[e])}var qy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pc={},Qc={};function Hy(e){return bl.call(Qc,e)?!0:bl.call(Pc,e)?!1:qy.test(e)?Qc[e]=!0:(Pc[e]=!0,!1)}function Qi(e,t,a){if(Hy(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ki(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ln(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $y(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ol(e){if(!e._valueTracker){var t=Kc(e)?"checked":"value";e._valueTracker=$y(e,t,""+e[t])}}function Yc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=Kc(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Gy=/[\n"\\]/g;function Ht(e){return e.replace(Gy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Cl(e,t,a,i,o,u,m,g){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Rl(e,m,qt(t)):a!=null?Rl(e,m,qt(a)):i!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+qt(g):e.removeAttribute("name")}function Jc(e,t,a,i,o,u,m,g){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ol(e);return}a=a!=null?""+qt(a):"",t=t!=null?""+qt(t):a,g||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=g?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Ol(e)}function Rl(e,t,a){t==="number"&&Yi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function La(e,t,a,i){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&i&&(e[a].defaultSelected=!0)}else{for(a=""+qt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Xc(e,t,a){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+qt(a):""}function Zc(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(l(92));if(Xe(i)){if(1<i.length)throw Error(l(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=qt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),Ol(e)}function qa(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fc(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||Vy.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Wc(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&a[o]!==i&&Fc(e,o,i)}else for(var u in t)t.hasOwnProperty(u)&&Fc(e,u,t[u])}function Nl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Py=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ji(e){return Py.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function on(){}var kl=null;function Dl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ha=null,$a=null;function eh(e){var t=Ua(e);if(t&&(e=t.stateNode)){var a=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Cl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var o=i[vt]||null;if(!o)throw Error(l(90));Cl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&Yc(i)}break e;case"textarea":Xc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&La(e,!!a.multiple,t,!1)}}}var Ml=!1;function th(e,t,a){if(Ml)return e(t,a);Ml=!0;try{var i=e(t);return i}finally{if(Ml=!1,(Ha!==null||$a!==null)&&(zr(),Ha&&(t=Ha,e=$a,$a=Ha=null,eh(t),e)))for(t=0;t<e.length;t++)eh(e[t])}}function Us(e,t){var a=e.stateNode;if(a===null)return null;var i=a[vt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ul=!1;if(un)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Ul=!1}var Rn=null,zl=null,Xi=null;function nh(){if(Xi)return Xi;var e,t=zl,a=t.length,i,o="value"in Rn?Rn.value:Rn.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(i=1;i<=m&&t[a-i]===o[u-i];i++);return Xi=o.slice(e,1<i?1-i:void 0)}function Zi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function ah(){return!1}function gt(e){function t(a,i,o,u,m){this._reactName=a,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(u):u[g]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Fi:ah,this.isPropagationStopped=ah,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),t}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=gt(la),Bs=b({},la,{view:0,detail:0}),Qy=gt(Bs),Bl,Ll,Ls,er=b({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?(Bl=e.screenX-Ls.screenX,Ll=e.screenY-Ls.screenY):Ll=Bl=0,Ls=e),Bl)},movementY:function(e){return"movementY"in e?e.movementY:Ll}}),sh=gt(er),Ky=b({},er,{dataTransfer:0}),Yy=gt(Ky),Jy=b({},Bs,{relatedTarget:0}),ql=gt(Jy),Xy=b({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),Zy=gt(Xy),Fy=b({},la,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Wy=gt(Fy),ev=b({},la,{data:0}),ih=gt(ev),tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},av={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=av[e])?!!t[e]:!1}function Hl(){return sv}var iv=b({},Bs,{key:function(e){if(e.key){var t=tv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hl,charCode:function(e){return e.type==="keypress"?Zi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rv=gt(iv),lv=b({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=gt(lv),ov=b({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hl}),uv=gt(ov),cv=b({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),hv=gt(cv),dv=b({},er,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fv=gt(dv),mv=b({},la,{newState:0,oldState:0}),pv=gt(mv),yv=[9,13,27,32],$l=un&&"CompositionEvent"in window,qs=null;un&&"documentMode"in document&&(qs=document.documentMode);var vv=un&&"TextEvent"in window&&!qs,lh=un&&(!$l||qs&&8<qs&&11>=qs),oh=" ",uh=!1;function ch(e,t){switch(e){case"keyup":return yv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ga=!1;function gv(e,t){switch(e){case"compositionend":return hh(t);case"keypress":return t.which!==32?null:(uh=!0,oh);case"textInput":return e=t.data,e===oh&&uh?null:e;default:return null}}function _v(e,t){if(Ga)return e==="compositionend"||!$l&&ch(e,t)?(e=nh(),Xi=zl=Rn=null,Ga=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lh&&t.locale!=="ko"?null:t.data;default:return null}}var bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bv[e.type]:t==="textarea"}function fh(e,t,a,i){Ha?$a?$a.push(i):$a=[i]:Ha=i,t=Vr(t,"onChange"),0<t.length&&(a=new Wi("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Hs=null,$s=null;function wv(e){Xf(e,0)}function tr(e){var t=Ms(e);if(Yc(t))return e}function mh(e,t){if(e==="change")return t}var ph=!1;if(un){var Gl;if(un){var Vl="oninput"in document;if(!Vl){var yh=document.createElement("div");yh.setAttribute("oninput","return;"),Vl=typeof yh.oninput=="function"}Gl=Vl}else Gl=!1;ph=Gl&&(!document.documentMode||9<document.documentMode)}function vh(){Hs&&(Hs.detachEvent("onpropertychange",gh),$s=Hs=null)}function gh(e){if(e.propertyName==="value"&&tr($s)){var t=[];fh(t,$s,e,Dl(e)),th(wv,t)}}function Sv(e,t,a){e==="focusin"?(vh(),Hs=t,$s=a,Hs.attachEvent("onpropertychange",gh)):e==="focusout"&&vh()}function xv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tr($s)}function Ev(e,t){if(e==="click")return tr(t)}function Tv(e,t){if(e==="input"||e==="change")return tr(t)}function jv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:jv;function Gs(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var o=a[i];if(!bl.call(t,o)||!Ot(e[o],t[o]))return!1}return!0}function _h(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bh(e,t){var a=_h(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_h(a)}}function wh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Yi(e.document)}return t}function Il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Av=un&&"documentMode"in document&&11>=document.documentMode,Va=null,Pl=null,Vs=null,Ql=!1;function xh(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ql||Va==null||Va!==Yi(i)||(i=Va,"selectionStart"in i&&Il(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vs&&Gs(Vs,i)||(Vs=i,i=Vr(Pl,"onSelect"),0<i.length&&(t=new Wi("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Va)))}function oa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ia={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Kl={},Eh={};un&&(Eh=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function ua(e){if(Kl[e])return Kl[e];if(!Ia[e])return e;var t=Ia[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Eh)return Kl[e]=t[a];return e}var Th=ua("animationend"),jh=ua("animationiteration"),Ah=ua("animationstart"),Ov=ua("transitionrun"),Cv=ua("transitionstart"),Rv=ua("transitioncancel"),Oh=ua("transitionend"),Ch=new Map,Yl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yl.push("scrollEnd");function Xt(e,t){Ch.set(e,t),ra(t,[e])}var nr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$t=[],Pa=0,Jl=0;function ar(){for(var e=Pa,t=Jl=Pa=0;t<e;){var a=$t[t];$t[t++]=null;var i=$t[t];$t[t++]=null;var o=$t[t];$t[t++]=null;var u=$t[t];if($t[t++]=null,i!==null&&o!==null){var m=i.pending;m===null?o.next=o:(o.next=m.next,m.next=o),i.pending=o}u!==0&&Rh(a,o,u)}}function sr(e,t,a,i){$t[Pa++]=e,$t[Pa++]=t,$t[Pa++]=a,$t[Pa++]=i,Jl|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Xl(e,t,a,i){return sr(e,t,a,i),ir(e)}function ca(e,t){return sr(e,null,null,t),ir(e)}function Rh(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,i=u.alternate,i!==null&&(i.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-At(a),e=u.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=a|536870912),u):null}function ir(e){if(50<hi)throw hi=0,ru=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qa={};function Nv(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,a,i){return new Nv(e,t,a,i)}function Zl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,t){var a=e.alternate;return a===null?(a=Ct(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Nh(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function rr(e,t,a,i,o,u){var m=0;if(i=e,typeof e=="function")Zl(e)&&(m=1);else if(typeof e=="string")m=zg(e,a,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Re:return e=Ct(31,a,t,o),e.elementType=Re,e.lanes=u,e;case w:return ha(a.children,o,u,t);case D:m=8,o|=24;break;case k:return e=Ct(12,a,t,o|2),e.elementType=k,e.lanes=u,e;case de:return e=Ct(13,a,t,o),e.elementType=de,e.lanes=u,e;case ee:return e=Ct(19,a,t,o),e.elementType=ee,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:m=10;break e;case G:m=9;break e;case F:m=11;break e;case Q:m=14;break e;case te:m=16,i=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Ct(m,a,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function ha(e,t,a,i){return e=Ct(7,e,i,t),e.lanes=a,e}function Fl(e,t,a){return e=Ct(6,e,null,t),e.lanes=a,e}function kh(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function Wl(e,t,a){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Dh=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var a=Dh.get(e);return a!==void 0?a:(t={value:e,source:t,stack:kc(t)},Dh.set(e,t),t)}return{value:e,source:t,stack:kc(t)}}var Ka=[],Ya=0,lr=null,Is=0,Vt=[],It=0,Nn=null,nn=1,an="";function hn(e,t){Ka[Ya++]=Is,Ka[Ya++]=lr,lr=e,Is=t}function Mh(e,t,a){Vt[It++]=nn,Vt[It++]=an,Vt[It++]=Nn,Nn=e;var i=nn;e=an;var o=32-At(i)-1;i&=~(1<<o),a+=1;var u=32-At(t)+o;if(30<u){var m=o-o%5;u=(i&(1<<m)-1).toString(32),i>>=m,o-=m,nn=1<<32-At(t)+o|a<<o|i,an=u+e}else nn=1<<u|a<<o|i,an=e}function eo(e){e.return!==null&&(hn(e,1),Mh(e,1,0))}function to(e){for(;e===lr;)lr=Ka[--Ya],Ka[Ya]=null,Is=Ka[--Ya],Ka[Ya]=null;for(;e===Nn;)Nn=Vt[--It],Vt[It]=null,an=Vt[--It],Vt[It]=null,nn=Vt[--It],Vt[It]=null}function Uh(e,t){Vt[It++]=nn,Vt[It++]=an,Vt[It++]=Nn,nn=t.id,an=t.overflow,Nn=e}var ot=null,qe=null,Se=!1,kn=null,Pt=!1,no=Error(l(519));function Dn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ps(Gt(t,e)),no}function zh(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[lt]=e,t[vt]=i,a){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(a=0;a<fi.length;a++)_e(fi[a],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Jc(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),Zc(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||em(t.textContent,a)?(i.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),i.onScroll!=null&&_e("scroll",t),i.onScrollEnd!=null&&_e("scrollend",t),i.onClick!=null&&(t.onclick=on),t=!0):t=!1,t||Dn(e,!0)}function Bh(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:ot=ot.return}}function Ja(e){if(e!==ot)return!1;if(!Se)return Bh(e),Se=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wu(e.type,e.memoizedProps)),a=!a),a&&qe&&Dn(e),Bh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));qe=um(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));qe=um(e)}else t===27?(t=qe,Kn(e.type)?(e=ju,ju=null,qe=e):qe=t):qe=ot?Kt(e.stateNode.nextSibling):null;return!0}function da(){qe=ot=null,Se=!1}function ao(){var e=kn;return e!==null&&(St===null?St=e:St.push.apply(St,e),kn=null),e}function Ps(e){kn===null?kn=[e]:kn.push(e)}var so=T(null),fa=null,dn=null;function Mn(e,t,a){P(so,t._currentValue),t._currentValue=a}function fn(e){e._currentValue=so.current,L(so)}function io(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function ro(e,t,a,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var g=u;u=o;for(var S=0;S<t.length;S++)if(g.context===t[S]){u.lanes|=a,g=u.alternate,g!==null&&(g.lanes|=a),io(u.return,a,e),i||(m=null);break e}u=g.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(l(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),io(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Xa(e,t,a,i){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var g=o.type;Ot(o.pendingProps.value,m.value)||(e!==null?e.push(g):e=[g])}}else if(o===X.current){if(m=o.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(gi):e=[gi])}o=o.return}e!==null&&ro(t,e,a,i),t.flags|=262144}function or(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ma(e){fa=e,dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ut(e){return Lh(fa,e)}function ur(e,t){return fa===null&&ma(e),Lh(e,t)}function Lh(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},dn===null){if(e===null)throw Error(l(308));dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dn=dn.next=t;return a}var kv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Dv=s.unstable_scheduleCallback,Mv=s.unstable_NormalPriority,Ze={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lo(){return{controller:new kv,data:new Map,refCount:0}}function Qs(e){e.refCount--,e.refCount===0&&Dv(Mv,function(){e.controller.abort()})}var Ks=null,oo=0,Za=0,Fa=null;function Uv(e,t){if(Ks===null){var a=Ks=[];oo=0,Za=du(),Fa={status:"pending",value:void 0,then:function(i){a.push(i)}}}return oo++,t.then(qh,qh),t}function qh(){if(--oo===0&&Ks!==null){Fa!==null&&(Fa.status="fulfilled");var e=Ks;Ks=null,Za=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function zv(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),i}var Hh=U.S;U.S=function(e,t){Ef=Tt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Uv(e,t),Hh!==null&&Hh(e,t)};var pa=T(null);function uo(){var e=pa.current;return e!==null?e:Be.pooledCache}function cr(e,t){t===null?P(pa,pa.current):P(pa,t.pool)}function $h(){var e=uo();return e===null?null:{parent:Ze._currentValue,pool:e}}var Wa=Error(l(460)),co=Error(l(474)),hr=Error(l(542)),dr={then:function(){}};function Gh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vh(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(on,on),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ph(e),e;default:if(typeof t.status=="string")t.then(on,on);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ph(e),e}throw va=t,Wa}}function ya(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(va=a,Wa):a}}var va=null;function Ih(){if(va===null)throw Error(l(459));var e=va;return va=null,e}function Ph(e){if(e===Wa||e===hr)throw Error(l(483))}var es=null,Ys=0;function fr(e){var t=Ys;return Ys+=1,es===null&&(es=[]),Vh(es,e,t)}function Js(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mr(e,t){throw t.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qh(e){function t(j,E){if(e){var A=j.deletions;A===null?(j.deletions=[E],j.flags|=16):A.push(E)}}function a(j,E){if(!e)return null;for(;E!==null;)t(j,E),E=E.sibling;return null}function i(j){for(var E=new Map;j!==null;)j.key!==null?E.set(j.key,j):E.set(j.index,j),j=j.sibling;return E}function o(j,E){return j=cn(j,E),j.index=0,j.sibling=null,j}function u(j,E,A){return j.index=A,e?(A=j.alternate,A!==null?(A=A.index,A<E?(j.flags|=67108866,E):A):(j.flags|=67108866,E)):(j.flags|=1048576,E)}function m(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function g(j,E,A,B){return E===null||E.tag!==6?(E=Fl(A,j.mode,B),E.return=j,E):(E=o(E,A),E.return=j,E)}function S(j,E,A,B){var ne=A.type;return ne===w?z(j,E,A.props.children,B,A.key):E!==null&&(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===te&&ya(ne)===E.type)?(E=o(E,A.props),Js(E,A),E.return=j,E):(E=rr(A.type,A.key,A.props,null,j.mode,B),Js(E,A),E.return=j,E)}function R(j,E,A,B){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Wl(A,j.mode,B),E.return=j,E):(E=o(E,A.children||[]),E.return=j,E)}function z(j,E,A,B,ne){return E===null||E.tag!==7?(E=ha(A,j.mode,B,ne),E.return=j,E):(E=o(E,A),E.return=j,E)}function q(j,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Fl(""+E,j.mode,A),E.return=j,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case O:return A=rr(E.type,E.key,E.props,null,j.mode,A),Js(A,E),A.return=j,A;case C:return E=Wl(E,j.mode,A),E.return=j,E;case te:return E=ya(E),q(j,E,A)}if(Xe(E)||oe(E))return E=ha(E,j.mode,A,null),E.return=j,E;if(typeof E.then=="function")return q(j,fr(E),A);if(E.$$typeof===H)return q(j,ur(j,E),A);mr(j,E)}return null}function N(j,E,A,B){var ne=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ne!==null?null:g(j,E,""+A,B);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case O:return A.key===ne?S(j,E,A,B):null;case C:return A.key===ne?R(j,E,A,B):null;case te:return A=ya(A),N(j,E,A,B)}if(Xe(A)||oe(A))return ne!==null?null:z(j,E,A,B,null);if(typeof A.then=="function")return N(j,E,fr(A),B);if(A.$$typeof===H)return N(j,E,ur(j,A),B);mr(j,A)}return null}function M(j,E,A,B,ne){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return j=j.get(A)||null,g(E,j,""+B,ne);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case O:return j=j.get(B.key===null?A:B.key)||null,S(E,j,B,ne);case C:return j=j.get(B.key===null?A:B.key)||null,R(E,j,B,ne);case te:return B=ya(B),M(j,E,A,B,ne)}if(Xe(B)||oe(B))return j=j.get(A)||null,z(E,j,B,ne,null);if(typeof B.then=="function")return M(j,E,A,fr(B),ne);if(B.$$typeof===H)return M(j,E,A,ur(E,B),ne);mr(E,B)}return null}function Y(j,E,A,B){for(var ne=null,Ae=null,Z=E,fe=E=0,we=null;Z!==null&&fe<A.length;fe++){Z.index>fe?(we=Z,Z=null):we=Z.sibling;var Oe=N(j,Z,A[fe],B);if(Oe===null){Z===null&&(Z=we);break}e&&Z&&Oe.alternate===null&&t(j,Z),E=u(Oe,E,fe),Ae===null?ne=Oe:Ae.sibling=Oe,Ae=Oe,Z=we}if(fe===A.length)return a(j,Z),Se&&hn(j,fe),ne;if(Z===null){for(;fe<A.length;fe++)Z=q(j,A[fe],B),Z!==null&&(E=u(Z,E,fe),Ae===null?ne=Z:Ae.sibling=Z,Ae=Z);return Se&&hn(j,fe),ne}for(Z=i(Z);fe<A.length;fe++)we=M(Z,j,fe,A[fe],B),we!==null&&(e&&we.alternate!==null&&Z.delete(we.key===null?fe:we.key),E=u(we,E,fe),Ae===null?ne=we:Ae.sibling=we,Ae=we);return e&&Z.forEach(function(Fn){return t(j,Fn)}),Se&&hn(j,fe),ne}function ie(j,E,A,B){if(A==null)throw Error(l(151));for(var ne=null,Ae=null,Z=E,fe=E=0,we=null,Oe=A.next();Z!==null&&!Oe.done;fe++,Oe=A.next()){Z.index>fe?(we=Z,Z=null):we=Z.sibling;var Fn=N(j,Z,Oe.value,B);if(Fn===null){Z===null&&(Z=we);break}e&&Z&&Fn.alternate===null&&t(j,Z),E=u(Fn,E,fe),Ae===null?ne=Fn:Ae.sibling=Fn,Ae=Fn,Z=we}if(Oe.done)return a(j,Z),Se&&hn(j,fe),ne;if(Z===null){for(;!Oe.done;fe++,Oe=A.next())Oe=q(j,Oe.value,B),Oe!==null&&(E=u(Oe,E,fe),Ae===null?ne=Oe:Ae.sibling=Oe,Ae=Oe);return Se&&hn(j,fe),ne}for(Z=i(Z);!Oe.done;fe++,Oe=A.next())Oe=M(Z,j,fe,Oe.value,B),Oe!==null&&(e&&Oe.alternate!==null&&Z.delete(Oe.key===null?fe:Oe.key),E=u(Oe,E,fe),Ae===null?ne=Oe:Ae.sibling=Oe,Ae=Oe);return e&&Z.forEach(function(Kg){return t(j,Kg)}),Se&&hn(j,fe),ne}function ze(j,E,A,B){if(typeof A=="object"&&A!==null&&A.type===w&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case O:e:{for(var ne=A.key;E!==null;){if(E.key===ne){if(ne=A.type,ne===w){if(E.tag===7){a(j,E.sibling),B=o(E,A.props.children),B.return=j,j=B;break e}}else if(E.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===te&&ya(ne)===E.type){a(j,E.sibling),B=o(E,A.props),Js(B,A),B.return=j,j=B;break e}a(j,E);break}else t(j,E);E=E.sibling}A.type===w?(B=ha(A.props.children,j.mode,B,A.key),B.return=j,j=B):(B=rr(A.type,A.key,A.props,null,j.mode,B),Js(B,A),B.return=j,j=B)}return m(j);case C:e:{for(ne=A.key;E!==null;){if(E.key===ne)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){a(j,E.sibling),B=o(E,A.children||[]),B.return=j,j=B;break e}else{a(j,E);break}else t(j,E);E=E.sibling}B=Wl(A,j.mode,B),B.return=j,j=B}return m(j);case te:return A=ya(A),ze(j,E,A,B)}if(Xe(A))return Y(j,E,A,B);if(oe(A)){if(ne=oe(A),typeof ne!="function")throw Error(l(150));return A=ne.call(A),ie(j,E,A,B)}if(typeof A.then=="function")return ze(j,E,fr(A),B);if(A.$$typeof===H)return ze(j,E,ur(j,A),B);mr(j,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(a(j,E.sibling),B=o(E,A),B.return=j,j=B):(a(j,E),B=Fl(A,j.mode,B),B.return=j,j=B),m(j)):a(j,E)}return function(j,E,A,B){try{Ys=0;var ne=ze(j,E,A,B);return es=null,ne}catch(Z){if(Z===Wa||Z===hr)throw Z;var Ae=Ct(29,Z,null,j.mode);return Ae.lanes=B,Ae.return=j,Ae}finally{}}}var ga=Qh(!0),Kh=Qh(!1),Un=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bn(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ce&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=ir(e),Rh(e,null,a),t}return sr(e,i,t,a),ir(e)}function Xs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Lc(e,a)}}function mo(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var po=!1;function Zs(){if(po){var e=Fa;if(e!==null)throw e}}function Fs(e,t,a,i){po=!1;var o=e.updateQueue;Un=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var S=g,R=S.next;S.next=null,m===null?u=R:m.next=R,m=S;var z=e.alternate;z!==null&&(z=z.updateQueue,g=z.lastBaseUpdate,g!==m&&(g===null?z.firstBaseUpdate=R:g.next=R,z.lastBaseUpdate=S))}if(u!==null){var q=o.baseState;m=0,z=R=S=null,g=u;do{var N=g.lane&-536870913,M=N!==g.lane;if(M?(be&N)===N:(i&N)===N){N!==0&&N===Za&&(po=!0),z!==null&&(z=z.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var Y=e,ie=g;N=t;var ze=a;switch(ie.tag){case 1:if(Y=ie.payload,typeof Y=="function"){q=Y.call(ze,q,N);break e}q=Y;break e;case 3:Y.flags=Y.flags&-65537|128;case 0:if(Y=ie.payload,N=typeof Y=="function"?Y.call(ze,q,N):Y,N==null)break e;q=b({},q,N);break e;case 2:Un=!0}}N=g.callback,N!==null&&(e.flags|=64,M&&(e.flags|=8192),M=o.callbacks,M===null?o.callbacks=[N]:M.push(N))}else M={lane:N,tag:g.tag,payload:g.payload,callback:g.callback,next:null},z===null?(R=z=M,S=q):z=z.next=M,m|=N;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;M=g,g=M.next,M.next=null,o.lastBaseUpdate=M,o.shared.pending=null}}while(!0);z===null&&(S=q),o.baseState=S,o.firstBaseUpdate=R,o.lastBaseUpdate=z,u===null&&(o.shared.lanes=0),Gn|=m,e.lanes=m,e.memoizedState=q}}function Yh(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Jh(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Yh(a[e],t)}var ts=T(null),pr=T(0);function Xh(e,t){e=Sn,P(pr,e),P(ts,t),Sn=e|t.baseLanes}function yo(){P(pr,Sn),P(ts,ts.current)}function vo(){Sn=pr.current,L(ts),L(pr)}var Rt=T(null),Qt=null;function Ln(e){var t=e.alternate;P(Ye,Ye.current&1),P(Rt,e),Qt===null&&(t===null||ts.current!==null||t.memoizedState!==null)&&(Qt=e)}function go(e){P(Ye,Ye.current),P(Rt,e),Qt===null&&(Qt=e)}function Zh(e){e.tag===22?(P(Ye,Ye.current),P(Rt,e),Qt===null&&(Qt=e)):qn()}function qn(){P(Ye,Ye.current),P(Rt,Rt.current)}function Nt(e){L(Rt),Qt===e&&(Qt=null),L(Ye)}var Ye=T(0);function yr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Eu(a)||Tu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mn=0,he=null,Me=null,Fe=null,vr=!1,ns=!1,_a=!1,gr=0,Ws=0,as=null,Bv=0;function Pe(){throw Error(l(321))}function _o(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ot(e[a],t[a]))return!1;return!0}function bo(e,t,a,i,o,u){return mn=u,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Md:Uo,_a=!1,u=a(i,o),_a=!1,ns&&(u=Wh(t,a,i,o)),Fh(e),u}function Fh(e){U.H=ni;var t=Me!==null&&Me.next!==null;if(mn=0,Fe=Me=he=null,vr=!1,Ws=0,as=null,t)throw Error(l(300));e===null||We||(e=e.dependencies,e!==null&&or(e)&&(We=!0))}function Wh(e,t,a,i){he=e;var o=0;do{if(ns&&(as=null),Ws=0,ns=!1,25<=o)throw Error(l(301));if(o+=1,Fe=Me=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}U.H=Ud,u=t(a,i)}while(ns);return u}function Lv(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?ei(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(he.flags|=1024),t}function wo(){var e=gr!==0;return gr=0,e}function So(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function xo(e){if(vr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vr=!1}mn=0,Fe=Me=he=null,ns=!1,Ws=gr=0,as=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?he.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Je(){if(Me===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Fe===null?he.memoizedState:Fe.next;if(t!==null)Fe=t,Me=e;else{if(e===null)throw he.alternate===null?Error(l(467)):Error(l(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Fe===null?he.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function _r(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ei(e){var t=Ws;return Ws+=1,as===null&&(as=[]),e=Vh(as,e,t),t=he,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Md:Uo),e}function br(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ei(e);if(e.$$typeof===H)return ut(e)}throw Error(l(438,String(e)))}function Eo(e){var t=null,a=he.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=he.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=_r(),he.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=nt;return t.index++,a}function pn(e,t){return typeof t=="function"?t(e):t}function wr(e){var t=Je();return To(t,Me,e)}function To(e,t,a){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=a;var o=e.baseQueue,u=i.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,i.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var g=m=null,S=null,R=t,z=!1;do{var q=R.lane&-536870913;if(q!==R.lane?(be&q)===q:(mn&q)===q){var N=R.revertLane;if(N===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),q===Za&&(z=!0);else if((mn&N)===N){R=R.next,N===Za&&(z=!0);continue}else q={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(g=S=q,m=u):S=S.next=q,he.lanes|=N,Gn|=N;q=R.action,_a&&a(u,q),u=R.hasEagerState?R.eagerState:a(u,q)}else N={lane:q,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},S===null?(g=S=N,m=u):S=S.next=N,he.lanes|=q,Gn|=q;R=R.next}while(R!==null&&R!==t);if(S===null?m=u:S.next=g,!Ot(u,e.memoizedState)&&(We=!0,z&&(a=Fa,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=S,i.lastRenderedState=u}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function jo(e){var t=Je(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var i=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);Ot(u,t.memoizedState)||(We=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,i]}function ed(e,t,a){var i=he,o=Je(),u=Se;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!Ot((Me||o).memoizedState,a);if(m&&(o.memoizedState=a,We=!0),o=o.queue,Co(ad.bind(null,i,o,e),[e]),o.getSnapshot!==t||m||Fe!==null&&Fe.memoizedState.tag&1){if(i.flags|=2048,ss(9,{destroy:void 0},nd.bind(null,i,o,a,t),null),Be===null)throw Error(l(349));u||(mn&127)!==0||td(i,t,a)}return a}function td(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=he.updateQueue,t===null?(t=_r(),he.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function nd(e,t,a,i){t.value=a,t.getSnapshot=i,sd(t)&&id(e)}function ad(e,t,a){return a(function(){sd(t)&&id(e)})}function sd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ot(e,a)}catch{return!0}}function id(e){var t=ca(e,2);t!==null&&xt(t,e,2)}function Ao(e){var t=yt();if(typeof e=="function"){var a=e;if(e=a(),_a){On(!0);try{a()}finally{On(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:e},t}function rd(e,t,a,i){return e.baseState=a,To(e,Me,typeof i=="function"?i:pn)}function qv(e,t,a,i,o){if(Er(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};U.T!==null?a(!0):u.isTransition=!1,i(u),a=t.pending,a===null?(u.next=t.pending=u,ld(t,u)):(u.next=a.next,t.pending=a.next=u)}}function ld(e,t){var a=t.action,i=t.payload,o=e.state;if(t.isTransition){var u=U.T,m={};U.T=m;try{var g=a(o,i),S=U.S;S!==null&&S(m,g),od(e,t,g)}catch(R){Oo(e,t,R)}finally{u!==null&&m.types!==null&&(u.types=m.types),U.T=u}}else try{u=a(o,i),od(e,t,u)}catch(R){Oo(e,t,R)}}function od(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){ud(e,t,i)},function(i){return Oo(e,t,i)}):ud(e,t,a)}function ud(e,t,a){t.status="fulfilled",t.value=a,cd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,ld(e,a)))}function Oo(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,cd(t),t=t.next;while(t!==i)}e.action=null}function cd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function hd(e,t){return t}function dd(e,t){if(Se){var a=Be.formState;if(a!==null){e:{var i=he;if(Se){if(qe){t:{for(var o=qe,u=Pt;o.nodeType!==8;){if(!u){o=null;break t}if(o=Kt(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){qe=Kt(o.nextSibling),i=o.data==="F!";break e}}Dn(i)}i=!1}i&&(t=a[0])}}return a=yt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:t},a.queue=i,a=Nd.bind(null,he,i),i.dispatch=a,i=Ao(!1),u=Mo.bind(null,he,!1,i.queue),i=yt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,a=qv.bind(null,he,o,u,a),o.dispatch=a,i.memoizedState=e,[t,a,!1]}function fd(e){var t=Je();return md(t,Me,e)}function md(e,t,a){if(t=To(e,t,hd)[0],e=wr(pn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ei(t)}catch(m){throw m===Wa?hr:m}else i=t;t=Je();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(he.flags|=2048,ss(9,{destroy:void 0},Hv.bind(null,o,a),null)),[i,u,e]}function Hv(e,t){e.action=t}function pd(e){var t=Je(),a=Me;if(a!==null)return md(t,a,e);Je(),t=t.memoizedState,a=Je();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function ss(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=he.updateQueue,t===null&&(t=_r(),he.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function yd(){return Je().memoizedState}function Sr(e,t,a,i){var o=yt();he.flags|=e,o.memoizedState=ss(1|t,{destroy:void 0},a,i===void 0?null:i)}function xr(e,t,a,i){var o=Je();i=i===void 0?null:i;var u=o.memoizedState.inst;Me!==null&&i!==null&&_o(i,Me.memoizedState.deps)?o.memoizedState=ss(t,u,a,i):(he.flags|=e,o.memoizedState=ss(1|t,u,a,i))}function vd(e,t){Sr(8390656,8,e,t)}function Co(e,t){xr(2048,8,e,t)}function $v(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=_r(),he.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function gd(e){var t=Je().memoizedState;return $v({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function _d(e,t){return xr(4,2,e,t)}function bd(e,t){return xr(4,4,e,t)}function wd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sd(e,t,a){a=a!=null?a.concat([e]):null,xr(4,4,wd.bind(null,t,e),a)}function Ro(){}function xd(e,t){var a=Je();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&_o(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Ed(e,t){var a=Je();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&_o(t,i[1]))return i[0];if(i=e(),_a){On(!0);try{e()}finally{On(!1)}}return a.memoizedState=[i,t],i}function No(e,t,a){return a===void 0||(mn&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=jf(),he.lanes|=e,Gn|=e,a)}function Td(e,t,a,i){return Ot(a,t)?a:ts.current!==null?(e=No(e,a,i),Ot(e,t)||(We=!0),e):(mn&42)===0||(mn&1073741824)!==0&&(be&261930)===0?(We=!0,e.memoizedState=a):(e=jf(),he.lanes|=e,Gn|=e,t)}function jd(e,t,a,i,o){var u=I.p;I.p=u!==0&&8>u?u:8;var m=U.T,g={};U.T=g,Mo(e,!1,t,a);try{var S=o(),R=U.S;if(R!==null&&R(g,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var z=zv(S,i);ti(e,t,z,Mt(e))}else ti(e,t,i,Mt(e))}catch(q){ti(e,t,{then:function(){},status:"rejected",reason:q},Mt())}finally{I.p=u,m!==null&&g.types!==null&&(m.types=g.types),U.T=m}}function Gv(){}function ko(e,t,a,i){if(e.tag!==5)throw Error(l(476));var o=Ad(e).queue;jd(e,o,t,ae,a===null?Gv:function(){return Od(e),a(i)})}function Ad(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Od(e){var t=Ad(e);t.next===null&&(t=e.alternate.memoizedState),ti(e,t.next.queue,{},Mt())}function Do(){return ut(gi)}function Cd(){return Je().memoizedState}function Rd(){return Je().memoizedState}function Vv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Mt();e=zn(a);var i=Bn(t,e,a);i!==null&&(xt(i,t,a),Xs(i,t,a)),t={cache:lo()},e.payload=t;return}t=t.return}}function Iv(e,t,a){var i=Mt();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Er(e)?kd(t,a):(a=Xl(e,t,a,i),a!==null&&(xt(a,e,i),Dd(a,t,i)))}function Nd(e,t,a){var i=Mt();ti(e,t,a,i)}function ti(e,t,a,i){var o={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Er(e))kd(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,g=u(m,a);if(o.hasEagerState=!0,o.eagerState=g,Ot(g,m))return sr(e,t,o,0),Be===null&&ar(),!1}catch{}finally{}if(a=Xl(e,t,o,i),a!==null)return xt(a,e,i),Dd(a,t,i),!0}return!1}function Mo(e,t,a,i){if(i={lane:2,revertLane:du(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Er(e)){if(t)throw Error(l(479))}else t=Xl(e,a,i,2),t!==null&&xt(t,e,2)}function Er(e){var t=e.alternate;return e===he||t!==null&&t===he}function kd(e,t){ns=vr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Dd(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Lc(e,a)}}var ni={readContext:ut,use:br,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};ni.useEffectEvent=Pe;var Md={readContext:ut,use:br,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:vd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Sr(4194308,4,wd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Sr(4194308,4,e,t)},useInsertionEffect:function(e,t){Sr(4,2,e,t)},useMemo:function(e,t){var a=yt();t=t===void 0?null:t;var i=e();if(_a){On(!0);try{e()}finally{On(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=yt();if(a!==void 0){var o=a(t);if(_a){On(!0);try{a(t)}finally{On(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=Iv.bind(null,he,e),[i.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ao(e);var t=e.queue,a=Nd.bind(null,he,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ro,useDeferredValue:function(e,t){var a=yt();return No(a,e,t)},useTransition:function(){var e=Ao(!1);return e=jd.bind(null,he,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=he,o=yt();if(Se){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Be===null)throw Error(l(349));(be&127)!==0||td(i,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,vd(ad.bind(null,i,u,e),[e]),i.flags|=2048,ss(9,{destroy:void 0},nd.bind(null,i,u,a,t),null),a},useId:function(){var e=yt(),t=Be.identifierPrefix;if(Se){var a=an,i=nn;a=(i&~(1<<32-At(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=gr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Bv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:dd,useActionState:dd,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Mo.bind(null,he,!0,a),a.dispatch=t,[e,t]},useMemoCache:Eo,useCacheRefresh:function(){return yt().memoizedState=Vv.bind(null,he)},useEffectEvent:function(e){var t=yt(),a={impl:e};return t.memoizedState=a,function(){if((Ce&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Uo={readContext:ut,use:br,useCallback:xd,useContext:ut,useEffect:Co,useImperativeHandle:Sd,useInsertionEffect:_d,useLayoutEffect:bd,useMemo:Ed,useReducer:wr,useRef:yd,useState:function(){return wr(pn)},useDebugValue:Ro,useDeferredValue:function(e,t){var a=Je();return Td(a,Me.memoizedState,e,t)},useTransition:function(){var e=wr(pn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:ei(e),t]},useSyncExternalStore:ed,useId:Cd,useHostTransitionStatus:Do,useFormState:fd,useActionState:fd,useOptimistic:function(e,t){var a=Je();return rd(a,Me,e,t)},useMemoCache:Eo,useCacheRefresh:Rd};Uo.useEffectEvent=gd;var Ud={readContext:ut,use:br,useCallback:xd,useContext:ut,useEffect:Co,useImperativeHandle:Sd,useInsertionEffect:_d,useLayoutEffect:bd,useMemo:Ed,useReducer:jo,useRef:yd,useState:function(){return jo(pn)},useDebugValue:Ro,useDeferredValue:function(e,t){var a=Je();return Me===null?No(a,e,t):Td(a,Me.memoizedState,e,t)},useTransition:function(){var e=jo(pn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:ei(e),t]},useSyncExternalStore:ed,useId:Cd,useHostTransitionStatus:Do,useFormState:pd,useActionState:pd,useOptimistic:function(e,t){var a=Je();return Me!==null?rd(a,Me,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Eo,useCacheRefresh:Rd};Ud.useEffectEvent=gd;function zo(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Bo={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Mt(),o=zn(i);o.payload=t,a!=null&&(o.callback=a),t=Bn(e,o,i),t!==null&&(xt(t,e,i),Xs(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Mt(),o=zn(i);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Bn(e,o,i),t!==null&&(xt(t,e,i),Xs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Mt(),i=zn(a);i.tag=2,t!=null&&(i.callback=t),t=Bn(e,i,a),t!==null&&(xt(t,e,a),Xs(t,e,a))}};function zd(e,t,a,i,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,m):t.prototype&&t.prototype.isPureReactComponent?!Gs(a,i)||!Gs(o,u):!0}function Bd(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&Bo.enqueueReplaceState(t,t.state,null)}function ba(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Ld(e){nr(e)}function qd(e){console.error(e)}function Hd(e){nr(e)}function Tr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function $d(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Lo(e,t,a){return a=zn(a),a.tag=3,a.payload={element:null},a.callback=function(){Tr(e,t)},a}function Gd(e){return e=zn(e),e.tag=3,e}function Vd(e,t,a,i){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=i.value;e.payload=function(){return o(u)},e.callback=function(){$d(t,a,i)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){$d(t,a,i),typeof o!="function"&&(Vn===null?Vn=new Set([this]):Vn.add(this));var g=i.stack;this.componentDidCatch(i.value,{componentStack:g!==null?g:""})})}function Pv(e,t,a,i,o){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Xa(t,a,o,!0),a=Rt.current,a!==null){switch(a.tag){case 31:case 13:return Qt===null?Br():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=o,i===dr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),uu(e,i,o)),!1;case 22:return a.flags|=65536,i===dr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),uu(e,i,o)),!1}throw Error(l(435,a.tag))}return uu(e,i,o),Br(),!1}if(Se)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==no&&(e=Error(l(422),{cause:i}),Ps(Gt(e,a)))):(i!==no&&(t=Error(l(423),{cause:i}),Ps(Gt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Gt(i,a),o=Lo(e.stateNode,i,o),mo(e,o),Qe!==4&&(Qe=2)),!1;var u=Error(l(520),{cause:i});if(u=Gt(u,a),ci===null?ci=[u]:ci.push(u),Qe!==4&&(Qe=2),t===null)return!0;i=Gt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Lo(a.stateNode,i,e),mo(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Vn===null||!Vn.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Gd(o),Vd(o,e,a,i),mo(a,o),!1}a=a.return}while(a!==null);return!1}var qo=Error(l(461)),We=!1;function ct(e,t,a,i){t.child=e===null?Kh(t,null,a,i):ga(t,e.child,a,i)}function Id(e,t,a,i,o){a=a.render;var u=t.ref;if("ref"in i){var m={};for(var g in i)g!=="ref"&&(m[g]=i[g])}else m=i;return ma(t),i=bo(e,t,a,m,u,o),g=wo(),e!==null&&!We?(So(e,t,o),yn(e,t,o)):(Se&&g&&eo(t),t.flags|=1,ct(e,t,i,o),t.child)}function Pd(e,t,a,i,o){if(e===null){var u=a.type;return typeof u=="function"&&!Zl(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Qd(e,t,u,i,o)):(e=rr(a.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Ko(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:Gs,a(m,i)&&e.ref===t.ref)return yn(e,t,o)}return t.flags|=1,e=cn(u,i),e.ref=t.ref,e.return=t,t.child=e}function Qd(e,t,a,i,o){if(e!==null){var u=e.memoizedProps;if(Gs(u,i)&&e.ref===t.ref)if(We=!1,t.pendingProps=i=u,Ko(e,o))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,yn(e,t,o)}return Ho(e,t,a,i,o)}function Kd(e,t,a,i){var o=i.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~u}else i=0,t.child=null;return Yd(e,t,u,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cr(t,u!==null?u.cachePool:null),u!==null?Xh(t,u):yo(),Zh(t);else return i=t.lanes=536870912,Yd(e,t,u!==null?u.baseLanes|a:a,a,i)}else u!==null?(cr(t,u.cachePool),Xh(t,u),qn(),t.memoizedState=null):(e!==null&&cr(t,null),yo(),qn());return ct(e,t,o,a),t.child}function ai(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Yd(e,t,a,i,o){var u=uo();return u=u===null?null:{parent:Ze._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&cr(t,null),yo(),Zh(t),e!==null&&Xa(e,t,i,!0),t.childLanes=o,null}function jr(e,t){return t=Or({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Jd(e,t,a){return ga(t,e.child,null,a),e=jr(t,t.pendingProps),e.flags|=2,Nt(t),t.memoizedState=null,e}function Qv(e,t,a){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(i.mode==="hidden")return e=jr(t,i),t.lanes=536870912,ai(null,e);if(go(t),(e=qe)?(e=om(e,Pt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Nn!==null?{id:nn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},a=kh(e),a.return=t,t.child=a,ot=t,qe=null)):e=null,e===null)throw Dn(t);return t.lanes=536870912,null}return jr(t,i)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(go(t),o)if(t.flags&256)t.flags&=-257,t=Jd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(We||Xa(e,t,a,!1),o=(a&e.childLanes)!==0,We||o){if(i=Be,i!==null&&(m=qc(i,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,ca(e,m),xt(i,e,m),qo;Br(),t=Jd(e,t,a)}else e=u.treeContext,qe=Kt(m.nextSibling),ot=t,Se=!0,kn=null,Pt=!1,e!==null&&Uh(t,e),t=jr(t,i),t.flags|=4096;return t}return e=cn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ar(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ho(e,t,a,i,o){return ma(t),a=bo(e,t,a,i,void 0,o),i=wo(),e!==null&&!We?(So(e,t,o),yn(e,t,o)):(Se&&i&&eo(t),t.flags|=1,ct(e,t,a,o),t.child)}function Xd(e,t,a,i,o,u){return ma(t),t.updateQueue=null,a=Wh(t,i,a,o),Fh(e),i=wo(),e!==null&&!We?(So(e,t,u),yn(e,t,u)):(Se&&i&&eo(t),t.flags|=1,ct(e,t,a,u),t.child)}function Zd(e,t,a,i,o){if(ma(t),t.stateNode===null){var u=Qa,m=a.contextType;typeof m=="object"&&m!==null&&(u=ut(m)),u=new a(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Bo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},ho(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?ut(m):Qa,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(zo(t,a,m,i),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&Bo.enqueueReplaceState(u,u.state,null),Fs(t,i,u,o),Zs(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var g=t.memoizedProps,S=ba(a,g);u.props=S;var R=u.context,z=a.contextType;m=Qa,typeof z=="object"&&z!==null&&(m=ut(z));var q=a.getDerivedStateFromProps;z=typeof q=="function"||typeof u.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,z||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g||R!==m)&&Bd(t,u,i,m),Un=!1;var N=t.memoizedState;u.state=N,Fs(t,i,u,o),Zs(),R=t.memoizedState,g||N!==R||Un?(typeof q=="function"&&(zo(t,a,q,i),R=t.memoizedState),(S=Un||zd(t,a,S,i,N,R,m))?(z||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=R),u.props=i,u.state=R,u.context=m,i=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,fo(e,t),m=t.memoizedProps,z=ba(a,m),u.props=z,q=t.pendingProps,N=u.context,R=a.contextType,S=Qa,typeof R=="object"&&R!==null&&(S=ut(R)),g=a.getDerivedStateFromProps,(R=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==q||N!==S)&&Bd(t,u,i,S),Un=!1,N=t.memoizedState,u.state=N,Fs(t,i,u,o),Zs();var M=t.memoizedState;m!==q||N!==M||Un||e!==null&&e.dependencies!==null&&or(e.dependencies)?(typeof g=="function"&&(zo(t,a,g,i),M=t.memoizedState),(z=Un||zd(t,a,z,i,N,M,S)||e!==null&&e.dependencies!==null&&or(e.dependencies))?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,M,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,M,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=M),u.props=i,u.state=M,u.context=S,i=z):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,Ar(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=ga(t,e.child,null,o),t.child=ga(t,null,a,o)):ct(e,t,a,o),t.memoizedState=u.state,e=t.child):e=yn(e,t,o),e}function Fd(e,t,a,i){return da(),t.flags|=256,ct(e,t,a,i),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Go(e){return{baseLanes:e,cachePool:$h()}}function Vo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Dt),e}function Wd(e,t,a){var i=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Ye.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(o?Ln(t):qn(),(e=qe)?(e=om(e,Pt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Nn!==null?{id:nn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},a=kh(e),a.return=t,t.child=a,ot=t,qe=null)):e=null,e===null)throw Dn(t);return Tu(e)?t.lanes=32:t.lanes=536870912,null}var g=i.children;return i=i.fallback,o?(qn(),o=t.mode,g=Or({mode:"hidden",children:g},o),i=ha(i,o,a,null),g.return=t,i.return=t,g.sibling=i,t.child=g,i=t.child,i.memoizedState=Go(a),i.childLanes=Vo(e,m,a),t.memoizedState=$o,ai(null,i)):(Ln(t),Io(t,g))}var S=e.memoizedState;if(S!==null&&(g=S.dehydrated,g!==null)){if(u)t.flags&256?(Ln(t),t.flags&=-257,t=Po(e,t,a)):t.memoizedState!==null?(qn(),t.child=e.child,t.flags|=128,t=null):(qn(),g=i.fallback,o=t.mode,i=Or({mode:"visible",children:i.children},o),g=ha(g,o,a,null),g.flags|=2,i.return=t,g.return=t,i.sibling=g,t.child=i,ga(t,e.child,null,a),i=t.child,i.memoizedState=Go(a),i.childLanes=Vo(e,m,a),t.memoizedState=$o,t=ai(null,i));else if(Ln(t),Tu(g)){if(m=g.nextSibling&&g.nextSibling.dataset,m)var R=m.dgst;m=R,i=Error(l(419)),i.stack="",i.digest=m,Ps({value:i,source:null,stack:null}),t=Po(e,t,a)}else if(We||Xa(e,t,a,!1),m=(a&e.childLanes)!==0,We||m){if(m=Be,m!==null&&(i=qc(m,a),i!==0&&i!==S.retryLane))throw S.retryLane=i,ca(e,i),xt(m,e,i),qo;Eu(g)||Br(),t=Po(e,t,a)}else Eu(g)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,qe=Kt(g.nextSibling),ot=t,Se=!0,kn=null,Pt=!1,e!==null&&Uh(t,e),t=Io(t,i.children),t.flags|=4096);return t}return o?(qn(),g=i.fallback,o=t.mode,S=e.child,R=S.sibling,i=cn(S,{mode:"hidden",children:i.children}),i.subtreeFlags=S.subtreeFlags&65011712,R!==null?g=cn(R,g):(g=ha(g,o,a,null),g.flags|=2),g.return=t,i.return=t,i.sibling=g,t.child=i,ai(null,i),i=t.child,g=e.child.memoizedState,g===null?g=Go(a):(o=g.cachePool,o!==null?(S=Ze._currentValue,o=o.parent!==S?{parent:S,pool:S}:o):o=$h(),g={baseLanes:g.baseLanes|a,cachePool:o}),i.memoizedState=g,i.childLanes=Vo(e,m,a),t.memoizedState=$o,ai(e.child,i)):(Ln(t),a=e.child,e=a.sibling,a=cn(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Io(e,t){return t=Or({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Or(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function Po(e,t,a){return ga(t,e.child,null,a),e=Io(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ef(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),io(e.return,t,a)}function Qo(e,t,a,i,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function tf(e,t,a){var i=t.pendingProps,o=i.revealOrder,u=i.tail;i=i.children;var m=Ye.current,g=(m&2)!==0;if(g?(m=m&1|2,t.flags|=128):m&=1,P(Ye,m),ct(e,t,i,a),i=Se?Is:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ef(e,a,t);else if(e.tag===19)ef(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&yr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Qo(t,!1,o,a,u,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Qo(t,!0,a,null,u,i);break;case"together":Qo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function yn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xa(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=cn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=cn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Ko(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&or(e)))}function Kv(e,t,a){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),Mn(t,Ze,e.memoizedState.cache),da();break;case 27:case 5:Lt(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:Mn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,go(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ln(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Wd(e,t,a):(Ln(t),e=yn(e,t,a),e!==null?e.sibling:null);Ln(t);break;case 19:var o=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Xa(e,t,a,!1),i=(a&t.childLanes)!==0),o){if(i)return tf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),P(Ye,Ye.current),i)break;return null;case 22:return t.lanes=0,Kd(e,t,a,t.pendingProps);case 24:Mn(t,Ze,e.memoizedState.cache)}return yn(e,t,a)}function nf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!Ko(e,a)&&(t.flags&128)===0)return We=!1,Kv(e,t,a);We=(e.flags&131072)!==0}else We=!1,Se&&(t.flags&1048576)!==0&&Mh(t,Is,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ya(t.elementType),t.type=e,typeof e=="function")Zl(e)?(i=ba(e,i),t.tag=1,t=Zd(null,t,e,i,a)):(t.tag=0,t=Ho(null,t,e,i,a));else{if(e!=null){var o=e.$$typeof;if(o===F){t.tag=11,t=Id(null,t,e,i,a);break e}else if(o===Q){t.tag=14,t=Pd(null,t,e,i,a);break e}}throw t=Ie(e)||e,Error(l(306,t,""))}}return t;case 0:return Ho(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,o=ba(i,t.pendingProps),Zd(e,t,i,o,a);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var u=t.memoizedState;o=u.element,fo(e,t),Fs(t,i,null,a);var m=t.memoizedState;if(i=m.cache,Mn(t,Ze,i),i!==u.cache&&ro(t,[Ze],a,!0),Zs(),i=m.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Fd(e,t,i,a);break e}else if(i!==o){o=Gt(Error(l(424)),t),Ps(o),t=Fd(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=Kt(e.firstChild),ot=t,Se=!0,kn=null,Pt=!0,a=Kh(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(da(),i===o){t=yn(e,t,a);break e}ct(e,t,i,a)}t=t.child}return t;case 26:return Ar(e,t),e===null?(a=mm(t.type,null,t.pendingProps,null))?t.memoizedState=a:Se||(a=t.type,e=t.pendingProps,i=Ir(pe.current).createElement(a),i[lt]=t,i[vt]=e,ht(i,a,e),it(i),t.stateNode=i):t.memoizedState=mm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Lt(t),e===null&&Se&&(i=t.stateNode=hm(t.type,t.pendingProps,pe.current),ot=t,Pt=!0,o=qe,Kn(t.type)?(ju=o,qe=Kt(i.firstChild)):qe=o),ct(e,t,t.pendingProps.children,a),Ar(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((o=i=qe)&&(i=xg(i,t.type,t.pendingProps,Pt),i!==null?(t.stateNode=i,ot=t,qe=Kt(i.firstChild),Pt=!1,o=!0):o=!1),o||Dn(t)),Lt(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,i=u.children,wu(o,u)?i=null:m!==null&&wu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=bo(e,t,Lv,null,null,a),gi._currentValue=o),Ar(e,t),ct(e,t,i,a),t.child;case 6:return e===null&&Se&&((e=a=qe)&&(a=Eg(a,t.pendingProps,Pt),a!==null?(t.stateNode=a,ot=t,qe=null,e=!0):e=!1),e||Dn(t)),null;case 13:return Wd(e,t,a);case 4:return xe(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ga(t,null,i,a):ct(e,t,i,a),t.child;case 11:return Id(e,t,t.type,t.pendingProps,a);case 7:return ct(e,t,t.pendingProps,a),t.child;case 8:return ct(e,t,t.pendingProps.children,a),t.child;case 12:return ct(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Mn(t,t.type,i.value),ct(e,t,i.children,a),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,ma(t),o=ut(o),i=i(o),t.flags|=1,ct(e,t,i,a),t.child;case 14:return Pd(e,t,t.type,t.pendingProps,a);case 15:return Qd(e,t,t.type,t.pendingProps,a);case 19:return tf(e,t,a);case 31:return Qv(e,t,a);case 22:return Kd(e,t,a,t.pendingProps);case 24:return ma(t),i=ut(Ze),e===null?(o=uo(),o===null&&(o=Be,u=lo(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:i,cache:o},ho(t),Mn(t,Ze,o)):((e.lanes&a)!==0&&(fo(e,t),Fs(t,null,null,a),Zs()),o=e.memoizedState,u=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Mn(t,Ze,i)):(i=u.cache,Mn(t,Ze,i),i!==o.cache&&ro(t,[Ze],a,!0))),ct(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function vn(e){e.flags|=4}function Yo(e,t,a,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Rf())e.flags|=8192;else throw va=dr,co}else e.flags&=-16777217}function af(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_m(t))if(Rf())e.flags|=8192;else throw va=dr,co}function Cr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?zc():536870912,e.lanes|=t,os|=t)}function si(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function Yv(e,t,a){var i=t.pendingProps;switch(to(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return He(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),fn(Ze),De(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ja(t)?vn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ao())),He(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(vn(t),u!==null?(He(t),af(t,u)):(He(t),Yo(t,o,null,i,a))):u?u!==e.memoizedState?(vn(t),He(t),af(t,u)):(He(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&vn(t),He(t),Yo(t,o,e,i,a)),null;case 27:if(aa(t),a=pe.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return He(t),null}e=J.current,Ja(t)?zh(t):(e=hm(o,i,a),t.stateNode=e,vn(t))}return He(t),null;case 5:if(aa(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return He(t),null}if(u=J.current,Ja(t))zh(t);else{var m=Ir(pe.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?m.createElement("select",{is:i.is}):m.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?m.createElement(o,{is:i.is}):m.createElement(o)}}u[lt]=t,u[vt]=i;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(ht(u,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&vn(t)}}return He(t),Yo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&vn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=pe.current,Ja(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,o=ot,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||em(e.nodeValue,a)),e||Dn(t,!0)}else e=Ir(e).createTextNode(i),e[lt]=t,t.stateNode=e}return He(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=Ja(t),a!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[lt]=t}else da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),e=!1}else a=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Nt(t),t):(Nt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return He(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Ja(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[lt]=t}else da(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else o=ao(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Nt(t),t):(Nt(t),null)}return Nt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Cr(t,t.updateQueue),He(t),null);case 4:return De(),e===null&&yu(t.stateNode.containerInfo),He(t),null;case 10:return fn(t.type),He(t),null;case 19:if(L(Ye),i=t.memoizedState,i===null)return He(t),null;if(o=(t.flags&128)!==0,u=i.rendering,u===null)if(o)si(i,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=yr(e),u!==null){for(t.flags|=128,si(i,!1),e=u.updateQueue,t.updateQueue=e,Cr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Nh(a,e),a=a.sibling;return P(Ye,Ye.current&1|2),Se&&hn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Tt()>Mr&&(t.flags|=128,o=!0,si(i,!1),t.lanes=4194304)}else{if(!o)if(e=yr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Cr(t,e),si(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!Se)return He(t),null}else 2*Tt()-i.renderingStartTime>Mr&&a!==536870912&&(t.flags|=128,o=!0,si(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Tt(),e.sibling=null,a=Ye.current,P(Ye,o?a&1|2:a&1),Se&&hn(t,i.treeForkCount),e):(He(t),null);case 22:case 23:return Nt(t),vo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),a=t.updateQueue,a!==null&&Cr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&L(pa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),fn(Ze),He(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Jv(e,t){switch(to(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(Ze),De(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return aa(t),null;case 31:if(t.memoizedState!==null){if(Nt(t),t.alternate===null)throw Error(l(340));da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Nt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Ye),null;case 4:return De(),null;case 10:return fn(t.type),null;case 22:case 23:return Nt(t),vo(),e!==null&&L(pa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fn(Ze),null;case 25:return null;default:return null}}function sf(e,t){switch(to(t),t.tag){case 3:fn(Ze),De();break;case 26:case 27:case 5:aa(t);break;case 4:De();break;case 31:t.memoizedState!==null&&Nt(t);break;case 13:Nt(t);break;case 19:L(Ye);break;case 10:fn(t.type);break;case 22:case 23:Nt(t),vo(),e!==null&&L(pa);break;case 24:fn(Ze)}}function ii(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){i=void 0;var u=a.create,m=a.inst;i=u(),m.destroy=i}a=a.next}while(a!==o)}}catch(g){ke(t,t.return,g)}}function Hn(e,t,a){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){var m=i.inst,g=m.destroy;if(g!==void 0){m.destroy=void 0,o=t;var S=a,R=g;try{R()}catch(z){ke(o,S,z)}}}i=i.next}while(i!==u)}}catch(z){ke(t,t.return,z)}}function rf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Jh(t,a)}catch(i){ke(e,e.return,i)}}}function lf(e,t,a){a.props=ba(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){ke(e,t,i)}}function ri(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(o){ke(e,t,o)}}function sn(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(o){ke(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){ke(e,t,o)}else a.current=null}function of(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(o){ke(e,e.return,o)}}function Jo(e,t,a){try{var i=e.stateNode;vg(i,e.type,a,t),i[vt]=t}catch(o){ke(e,e.return,o)}}function uf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Kn(e.type)||e.tag===4}function Xo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Kn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zo(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=on));else if(i!==4&&(i===27&&Kn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Zo(e,t,a),e=e.sibling;e!==null;)Zo(e,t,a),e=e.sibling}function Rr(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Kn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Rr(e,t,a),e=e.sibling;e!==null;)Rr(e,t,a),e=e.sibling}function cf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ht(t,i,a),t[lt]=e,t[vt]=a}catch(u){ke(e,e.return,u)}}var gn=!1,et=!1,Fo=!1,hf=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Xv(e,t){if(e=e.containerInfo,_u=Zr,e=Sh(e),Il(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,g=-1,S=-1,R=0,z=0,q=e,N=null;t:for(;;){for(var M;q!==a||o!==0&&q.nodeType!==3||(g=m+o),q!==u||i!==0&&q.nodeType!==3||(S=m+i),q.nodeType===3&&(m+=q.nodeValue.length),(M=q.firstChild)!==null;)N=q,q=M;for(;;){if(q===e)break t;if(N===a&&++R===o&&(g=m),N===u&&++z===i&&(S=m),(M=q.nextSibling)!==null)break;q=N,N=q.parentNode}q=M}a=g===-1||S===-1?null:{start:g,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(bu={focusedElem:e,selectionRange:a},Zr=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,i=a.stateNode;try{var Y=ba(a.type,o);e=i.getSnapshotBeforeUpdate(Y,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(ie){ke(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)xu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function df(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:bn(e,a),i&4&&ii(5,a);break;case 1:if(bn(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){ke(a,a.return,m)}else{var o=ba(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){ke(a,a.return,m)}}i&64&&rf(a),i&512&&ri(a,a.return);break;case 3:if(bn(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Jh(e,t)}catch(m){ke(a,a.return,m)}}break;case 27:t===null&&i&4&&cf(a);case 26:case 5:bn(e,a),t===null&&i&4&&of(a),i&512&&ri(a,a.return);break;case 12:bn(e,a);break;case 31:bn(e,a),i&4&&pf(e,a);break;case 13:bn(e,a),i&4&&yf(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ig.bind(null,a),Tg(e,a))));break;case 22:if(i=a.memoizedState!==null||gn,!i){t=t!==null&&t.memoizedState!==null||et,o=gn;var u=et;gn=i,(et=t)&&!u?wn(e,a,(a.subtreeFlags&8772)!==0):bn(e,a),gn=o,et=u}break;case 30:break;default:bn(e,a)}}function ff(e){var t=e.alternate;t!==null&&(e.alternate=null,ff(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Al(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,_t=!1;function _n(e,t,a){for(a=a.child;a!==null;)mf(e,t,a),a=a.sibling}function mf(e,t,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Rs,a)}catch{}switch(a.tag){case 26:et||sn(a,t),_n(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:et||sn(a,t);var i=$e,o=_t;Kn(a.type)&&($e=a.stateNode,_t=!1),_n(e,t,a),pi(a.stateNode),$e=i,_t=o;break;case 5:et||sn(a,t);case 6:if(i=$e,o=_t,$e=null,_n(e,t,a),$e=i,_t=o,$e!==null)if(_t)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(a.stateNode)}catch(u){ke(a,t,u)}else try{$e.removeChild(a.stateNode)}catch(u){ke(a,t,u)}break;case 18:$e!==null&&(_t?(e=$e,rm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ys(e)):rm($e,a.stateNode));break;case 4:i=$e,o=_t,$e=a.stateNode.containerInfo,_t=!0,_n(e,t,a),$e=i,_t=o;break;case 0:case 11:case 14:case 15:Hn(2,a,t),et||Hn(4,a,t),_n(e,t,a);break;case 1:et||(sn(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&lf(a,t,i)),_n(e,t,a);break;case 21:_n(e,t,a);break;case 22:et=(i=et)||a.memoizedState!==null,_n(e,t,a),et=i;break;default:_n(e,t,a)}}function pf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ys(e)}catch(a){ke(t,t.return,a)}}}function yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ys(e)}catch(a){ke(t,t.return,a)}}function Zv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new hf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new hf),t;default:throw Error(l(435,e.tag))}}function Nr(e,t){var a=Zv(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var o=rg.bind(null,e,i);i.then(o,o)}})}function bt(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var o=a[i],u=e,m=t,g=m;e:for(;g!==null;){switch(g.tag){case 27:if(Kn(g.type)){$e=g.stateNode,_t=!1;break e}break;case 5:$e=g.stateNode,_t=!1;break e;case 3:case 4:$e=g.stateNode.containerInfo,_t=!0;break e}g=g.return}if($e===null)throw Error(l(160));mf(u,m,o),$e=null,_t=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vf(t,e),t=t.sibling}var Zt=null;function vf(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),wt(e),i&4&&(Hn(3,e,e.return),ii(3,e),Hn(5,e,e.return));break;case 1:bt(t,e),wt(e),i&512&&(et||a===null||sn(a,a.return)),i&64&&gn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var o=Zt;if(bt(t,e),wt(e),i&512&&(et||a===null||sn(a,a.return)),i&4){var u=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Ds]||u[lt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(i),o.head.insertBefore(u,o.querySelector("head > title"))),ht(u,i,a),u[lt]=e,it(u),i=u;break e;case"link":var m=vm("link","href",o).get(i+(a.href||""));if(m){for(var g=0;g<m.length;g++)if(u=m[g],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(g,1);break t}}u=o.createElement(i),ht(u,i,a),o.head.appendChild(u);break;case"meta":if(m=vm("meta","content",o).get(i+(a.content||""))){for(g=0;g<m.length;g++)if(u=m[g],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(g,1);break t}}u=o.createElement(i),ht(u,i,a),o.head.appendChild(u);break;default:throw Error(l(468,i))}u[lt]=e,it(u),i=u}e.stateNode=i}else gm(o,e.type,e.stateNode);else e.stateNode=ym(o,i,e.memoizedProps);else u!==i?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,i===null?gm(o,e.type,e.stateNode):ym(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Jo(e,e.memoizedProps,a.memoizedProps)}break;case 27:bt(t,e),wt(e),i&512&&(et||a===null||sn(a,a.return)),a!==null&&i&4&&Jo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(bt(t,e),wt(e),i&512&&(et||a===null||sn(a,a.return)),e.flags&32){o=e.stateNode;try{qa(o,"")}catch(Y){ke(e,e.return,Y)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Jo(e,o,a!==null?a.memoizedProps:o)),i&1024&&(Fo=!0);break;case 6:if(bt(t,e),wt(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(Y){ke(e,e.return,Y)}}break;case 3:if(Kr=null,o=Zt,Zt=Pr(t.containerInfo),bt(t,e),Zt=o,wt(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{ys(t.containerInfo)}catch(Y){ke(e,e.return,Y)}Fo&&(Fo=!1,gf(e));break;case 4:i=Zt,Zt=Pr(e.stateNode.containerInfo),bt(t,e),wt(e),Zt=i;break;case 12:bt(t,e),wt(e);break;case 31:bt(t,e),wt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nr(e,i)));break;case 13:bt(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dr=Tt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nr(e,i)));break;case 22:o=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,R=gn,z=et;if(gn=R||o,et=z||S,bt(t,e),et=z,gn=R,wt(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||S||gn||et||wa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(u=S.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{g=S.stateNode;var q=S.memoizedProps.style,N=q!=null&&q.hasOwnProperty("display")?q.display:null;g.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(Y){ke(S,S.return,Y)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=o?"":S.memoizedProps}catch(Y){ke(S,S.return,Y)}}}else if(t.tag===18){if(a===null){S=t;try{var M=S.stateNode;o?lm(M,!0):lm(S.stateNode,!1)}catch(Y){ke(S,S.return,Y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Nr(e,a))));break;case 19:bt(t,e),wt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nr(e,i)));break;case 30:break;case 21:break;default:bt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(uf(i)){a=i;break}i=i.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=Xo(e);Rr(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(qa(m,""),a.flags&=-33);var g=Xo(e);Rr(e,g,m);break;case 3:case 4:var S=a.stateNode.containerInfo,R=Xo(e);Zo(e,R,S);break;default:throw Error(l(161))}}catch(z){ke(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)df(e,t.alternate,t),t=t.sibling}function wa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Hn(4,t,t.return),wa(t);break;case 1:sn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&lf(t,t.return,a),wa(t);break;case 27:pi(t.stateNode);case 26:case 5:sn(t,t.return),wa(t);break;case 22:t.memoizedState===null&&wa(t);break;case 30:wa(t);break;default:wa(t)}e=e.sibling}}function wn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:wn(o,u,a),ii(4,u);break;case 1:if(wn(o,u,a),i=u,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){ke(i,i.return,R)}if(i=u,o=i.updateQueue,o!==null){var g=i.stateNode;try{var S=o.shared.hiddenCallbacks;if(S!==null)for(o.shared.hiddenCallbacks=null,o=0;o<S.length;o++)Yh(S[o],g)}catch(R){ke(i,i.return,R)}}a&&m&64&&rf(u),ri(u,u.return);break;case 27:cf(u);case 26:case 5:wn(o,u,a),a&&i===null&&m&4&&of(u),ri(u,u.return);break;case 12:wn(o,u,a);break;case 31:wn(o,u,a),a&&m&4&&pf(o,u);break;case 13:wn(o,u,a),a&&m&4&&yf(o,u);break;case 22:u.memoizedState===null&&wn(o,u,a),ri(u,u.return);break;case 30:break;default:wn(o,u,a)}t=t.sibling}}function Wo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qs(a))}function eu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qs(e))}function Ft(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_f(e,t,a,i),t=t.sibling}function _f(e,t,a,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ft(e,t,a,i),o&2048&&ii(9,t);break;case 1:Ft(e,t,a,i);break;case 3:Ft(e,t,a,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qs(e)));break;case 12:if(o&2048){Ft(e,t,a,i),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,g=u.onPostCommit;typeof g=="function"&&g(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){ke(t,t.return,S)}}else Ft(e,t,a,i);break;case 31:Ft(e,t,a,i);break;case 13:Ft(e,t,a,i);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Ft(e,t,a,i):li(e,t):u._visibility&2?Ft(e,t,a,i):(u._visibility|=2,is(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Wo(m,t);break;case 24:Ft(e,t,a,i),o&2048&&eu(t.alternate,t);break;default:Ft(e,t,a,i)}}function is(e,t,a,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,g=a,S=i,R=m.flags;switch(m.tag){case 0:case 11:case 15:is(u,m,g,S,o),ii(8,m);break;case 23:break;case 22:var z=m.stateNode;m.memoizedState!==null?z._visibility&2?is(u,m,g,S,o):li(u,m):(z._visibility|=2,is(u,m,g,S,o)),o&&R&2048&&Wo(m.alternate,m);break;case 24:is(u,m,g,S,o),o&&R&2048&&eu(m.alternate,m);break;default:is(u,m,g,S,o)}t=t.sibling}}function li(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,o=i.flags;switch(i.tag){case 22:li(a,i),o&2048&&Wo(i.alternate,i);break;case 24:li(a,i),o&2048&&eu(i.alternate,i);break;default:li(a,i)}t=t.sibling}}var oi=8192;function rs(e,t,a){if(e.subtreeFlags&oi)for(e=e.child;e!==null;)bf(e,t,a),e=e.sibling}function bf(e,t,a){switch(e.tag){case 26:rs(e,t,a),e.flags&oi&&e.memoizedState!==null&&Bg(a,Zt,e.memoizedState,e.memoizedProps);break;case 5:rs(e,t,a);break;case 3:case 4:var i=Zt;Zt=Pr(e.stateNode.containerInfo),rs(e,t,a),Zt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=oi,oi=16777216,rs(e,t,a),oi=i):rs(e,t,a));break;default:rs(e,t,a)}}function wf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];rt=i,xf(i,e)}wf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sf(e),e=e.sibling}function Sf(e){switch(e.tag){case 0:case 11:case 15:ui(e),e.flags&2048&&Hn(9,e,e.return);break;case 3:ui(e);break;case 12:ui(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kr(e)):ui(e);break;default:ui(e)}}function kr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];rt=i,xf(i,e)}wf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Hn(8,t,t.return),kr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,kr(t));break;default:kr(t)}e=e.sibling}}function xf(e,t){for(;rt!==null;){var a=rt;switch(a.tag){case 0:case 11:case 15:Hn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Qs(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,rt=i;else e:for(a=e;rt!==null;){i=rt;var o=i.sibling,u=i.return;if(ff(i),i===a){rt=null;break e}if(o!==null){o.return=u,rt=o;break e}rt=u}}}var Fv={getCacheForType:function(e){var t=ut(Ze),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ut(Ze).controller.signal}},Wv=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Be=null,ge=null,be=0,Ne=0,kt=null,$n=!1,ls=!1,tu=!1,Sn=0,Qe=0,Gn=0,Sa=0,nu=0,Dt=0,os=0,ci=null,St=null,au=!1,Dr=0,Ef=0,Mr=1/0,Ur=null,Vn=null,at=0,In=null,us=null,xn=0,su=0,iu=null,Tf=null,hi=0,ru=null;function Mt(){return(Ce&2)!==0&&be!==0?be&-be:U.T!==null?du():Hc()}function jf(){if(Dt===0)if((be&536870912)===0||Se){var e=Vi;Vi<<=1,(Vi&3932160)===0&&(Vi=262144),Dt=e}else Dt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Dt}function xt(e,t,a){(e===Be&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(cs(e,0),Pn(e,be,Dt,!1)),ks(e,a),((Ce&2)===0||e!==Be)&&(e===Be&&((Ce&2)===0&&(Sa|=a),Qe===4&&Pn(e,be,Dt,!1)),rn(e))}function Af(e,t,a){if((Ce&6)!==0)throw Error(l(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ns(e,t),o=i?ng(e,t):ou(e,t,!0),u=i;do{if(o===0){ls&&!i&&Pn(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!eg(a)){o=ou(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var g=e;o=ci;var S=g.current.memoizedState.isDehydrated;if(S&&(cs(g,m).flags|=256),m=ou(g,m,!1),m!==2){if(tu&&!S){g.errorRecoveryDisabledLanes|=u,Sa|=u,o=4;break e}u=St,St=o,u!==null&&(St===null?St=u:St.push.apply(St,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){cs(e,0),Pn(e,t,0,!0);break}e:{switch(i=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Pn(i,t,Dt,!$n);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Dr+300-Tt(),10<o)){if(Pn(i,t,Dt,!$n),Pi(i,0,!0)!==0)break e;xn=t,i.timeoutHandle=sm(Of.bind(null,i,a,St,Ur,au,t,Dt,Sa,os,$n,u,"Throttled",-0,0),o);break e}Of(i,a,St,Ur,au,t,Dt,Sa,os,$n,u,null,-0,0)}}break}while(!0);rn(e)}function Of(e,t,a,i,o,u,m,g,S,R,z,q,N,M){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},bf(t,u,q);var Y=(u&62914560)===u?Dr-Tt():(u&4194048)===u?Ef-Tt():0;if(Y=Lg(q,Y),Y!==null){xn=u,e.cancelPendingCommit=Y(zf.bind(null,e,t,u,a,i,o,m,g,S,z,q,null,N,M)),Pn(e,u,m,!R);return}}zf(e,t,u,a,i,o,m,g,S)}function eg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var o=a[i],u=o.getSnapshot;o=o.value;try{if(!Ot(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t,a,i){t&=~nu,t&=~Sa,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var u=31-At(o),m=1<<u;i[u]=-1,o&=~m}a!==0&&Bc(e,a,t)}function zr(){return(Ce&6)===0?(di(0),!1):!0}function lu(){if(ge!==null){if(Ne===0)var e=ge.return;else e=ge,dn=fa=null,xo(e),es=null,Ys=0,e=ge;for(;e!==null;)sf(e.alternate,e),e=e.return;ge=null}}function cs(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,bg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),xn=0,lu(),Be=e,ge=a=cn(e.current,null),be=t,Ne=0,kt=null,$n=!1,ls=Ns(e,t),tu=!1,os=Dt=nu=Sa=Gn=Qe=0,St=ci=null,au=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-At(i),u=1<<o;t|=e[o],i&=~u}return Sn=t,ar(),a}function Cf(e,t){he=null,U.H=ni,t===Wa||t===hr?(t=Ih(),Ne=3):t===co?(t=Ih(),Ne=4):Ne=t===qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,ge===null&&(Qe=1,Tr(e,Gt(t,e.current)))}function Rf(){var e=Rt.current;return e===null?!0:(be&4194048)===be?Qt===null:(be&62914560)===be||(be&536870912)!==0?e===Qt:!1}function Nf(){var e=U.H;return U.H=ni,e===null?ni:e}function kf(){var e=U.A;return U.A=Fv,e}function Br(){Qe=4,$n||(be&4194048)!==be&&Rt.current!==null||(ls=!0),(Gn&134217727)===0&&(Sa&134217727)===0||Be===null||Pn(Be,be,Dt,!1)}function ou(e,t,a){var i=Ce;Ce|=2;var o=Nf(),u=kf();(Be!==e||be!==t)&&(Ur=null,cs(e,t)),t=!1;var m=Qe;e:do try{if(Ne!==0&&ge!==null){var g=ge,S=kt;switch(Ne){case 8:lu(),m=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var R=Ne;if(Ne=0,kt=null,hs(e,g,S,R),a&&ls){m=0;break e}break;default:R=Ne,Ne=0,kt=null,hs(e,g,S,R)}}tg(),m=Qe;break}catch(z){Cf(e,z)}while(!0);return t&&e.shellSuspendCounter++,dn=fa=null,Ce=i,U.H=o,U.A=u,ge===null&&(Be=null,be=0,ar()),m}function tg(){for(;ge!==null;)Df(ge)}function ng(e,t){var a=Ce;Ce|=2;var i=Nf(),o=kf();Be!==e||be!==t?(Ur=null,Mr=Tt()+500,cs(e,t)):ls=Ns(e,t);e:do try{if(Ne!==0&&ge!==null){t=ge;var u=kt;t:switch(Ne){case 1:Ne=0,kt=null,hs(e,t,u,1);break;case 2:case 9:if(Gh(u)){Ne=0,kt=null,Mf(t);break}t=function(){Ne!==2&&Ne!==9||Be!==e||(Ne=7),rn(e)},u.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Gh(u)?(Ne=0,kt=null,Mf(t)):(Ne=0,kt=null,hs(e,t,u,7));break;case 5:var m=null;switch(ge.tag){case 26:m=ge.memoizedState;case 5:case 27:var g=ge;if(m?_m(m):g.stateNode.complete){Ne=0,kt=null;var S=g.sibling;if(S!==null)ge=S;else{var R=g.return;R!==null?(ge=R,Lr(R)):ge=null}break t}}Ne=0,kt=null,hs(e,t,u,5);break;case 6:Ne=0,kt=null,hs(e,t,u,6);break;case 8:lu(),Qe=6;break e;default:throw Error(l(462))}}ag();break}catch(z){Cf(e,z)}while(!0);return dn=fa=null,U.H=i,U.A=o,Ce=a,ge!==null?0:(Be=null,be=0,ar(),Qe)}function ag(){for(;ge!==null&&!jy();)Df(ge)}function Df(e){var t=nf(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?Lr(e):ge=t}function Mf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Xd(a,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Xd(a,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:xo(t);default:sf(a,t),t=ge=Nh(t,Sn),t=nf(a,t,Sn)}e.memoizedProps=e.pendingProps,t===null?Lr(e):ge=t}function hs(e,t,a,i){dn=fa=null,xo(t),es=null,Ys=0;var o=t.return;try{if(Pv(e,o,t,a,be)){Qe=1,Tr(e,Gt(a,e.current)),ge=null;return}}catch(u){if(o!==null)throw ge=o,u;Qe=1,Tr(e,Gt(a,e.current)),ge=null;return}t.flags&32768?(Se||i===1?e=!0:ls||(be&536870912)!==0?e=!1:($n=e=!0,(i===2||i===9||i===3||i===6)&&(i=Rt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Uf(t,e)):Lr(t)}function Lr(e){var t=e;do{if((t.flags&32768)!==0){Uf(t,$n);return}e=t.return;var a=Yv(t.alternate,t,Sn);if(a!==null){ge=a;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Qe===0&&(Qe=5)}function Uf(e,t){do{var a=Jv(e.alternate,e);if(a!==null){a.flags&=32767,ge=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=a}while(e!==null);Qe=6,ge=null}function zf(e,t,a,i,o,u,m,g,S){e.cancelPendingCommit=null;do qr();while(at!==0);if((Ce&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=Jl,zy(e,a,u,m,g,S),e===Be&&(ge=Be=null,be=0),us=t,In=e,xn=a,su=u,iu=o,Tf=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lg($i,function(){return $f(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=U.T,U.T=null,o=I.p,I.p=2,m=Ce,Ce|=4;try{Xv(e,t,a)}finally{Ce=m,I.p=o,U.T=i}}at=1,Bf(),Lf(),qf()}}function Bf(){if(at===1){at=0;var e=In,t=us,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var i=I.p;I.p=2;var o=Ce;Ce|=4;try{vf(t,e);var u=bu,m=Sh(e.containerInfo),g=u.focusedElem,S=u.selectionRange;if(m!==g&&g&&g.ownerDocument&&wh(g.ownerDocument.documentElement,g)){if(S!==null&&Il(g)){var R=S.start,z=S.end;if(z===void 0&&(z=R),"selectionStart"in g)g.selectionStart=R,g.selectionEnd=Math.min(z,g.value.length);else{var q=g.ownerDocument||document,N=q&&q.defaultView||window;if(N.getSelection){var M=N.getSelection(),Y=g.textContent.length,ie=Math.min(S.start,Y),ze=S.end===void 0?ie:Math.min(S.end,Y);!M.extend&&ie>ze&&(m=ze,ze=ie,ie=m);var j=bh(g,ie),E=bh(g,ze);if(j&&E&&(M.rangeCount!==1||M.anchorNode!==j.node||M.anchorOffset!==j.offset||M.focusNode!==E.node||M.focusOffset!==E.offset)){var A=q.createRange();A.setStart(j.node,j.offset),M.removeAllRanges(),ie>ze?(M.addRange(A),M.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),M.addRange(A))}}}}for(q=[],M=g;M=M.parentNode;)M.nodeType===1&&q.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<q.length;g++){var B=q[g];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Zr=!!_u,bu=_u=null}finally{Ce=o,I.p=i,U.T=a}}e.current=t,at=2}}function Lf(){if(at===2){at=0;var e=In,t=us,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var i=I.p;I.p=2;var o=Ce;Ce|=4;try{df(e,t.alternate,t)}finally{Ce=o,I.p=i,U.T=a}}at=3}}function qf(){if(at===4||at===3){at=0,Ay();var e=In,t=us,a=xn,i=Tf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,us=In=null,Hf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Vn=null),Tl(a),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Rs,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=U.T,o=I.p,I.p=2,U.T=null;try{for(var u=e.onRecoverableError,m=0;m<i.length;m++){var g=i[m];u(g.value,{componentStack:g.stack})}}finally{U.T=t,I.p=o}}(xn&3)!==0&&qr(),rn(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===ru?hi++:(hi=0,ru=e):hi=0,di(0)}}function Hf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Qs(t)))}function qr(){return Bf(),Lf(),qf(),$f()}function $f(){if(at!==5)return!1;var e=In,t=su;su=0;var a=Tl(xn),i=U.T,o=I.p;try{I.p=32>a?32:a,U.T=null,a=iu,iu=null;var u=In,m=xn;if(at=0,us=In=null,xn=0,(Ce&6)!==0)throw Error(l(331));var g=Ce;if(Ce|=4,Sf(u.current),_f(u,u.current,m,a),Ce=g,di(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Rs,u)}catch{}return!0}finally{I.p=o,U.T=i,Hf(e,t)}}function Gf(e,t,a){t=Gt(a,t),t=Lo(e.stateNode,t,2),e=Bn(e,t,2),e!==null&&(ks(e,2),rn(e))}function ke(e,t,a){if(e.tag===3)Gf(e,e,a);else for(;t!==null;){if(t.tag===3){Gf(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Vn===null||!Vn.has(i))){e=Gt(a,e),a=Gd(2),i=Bn(t,a,2),i!==null&&(Vd(a,i,t,e),ks(i,2),rn(i));break}}t=t.return}}function uu(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Wv;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(a)||(tu=!0,o.add(a),e=sg.bind(null,e,t,a),t.then(e,e))}function sg(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(be&a)===a&&(Qe===4||Qe===3&&(be&62914560)===be&&300>Tt()-Dr?(Ce&2)===0&&cs(e,0):nu|=a,os===be&&(os=0)),rn(e)}function Vf(e,t){t===0&&(t=zc()),e=ca(e,t),e!==null&&(ks(e,t),rn(e))}function ig(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Vf(e,a)}function rg(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),Vf(e,a)}function lg(e,t){return wl(e,t)}var Hr=null,ds=null,cu=!1,$r=!1,hu=!1,Qn=0;function rn(e){e!==ds&&e.next===null&&(ds===null?Hr=ds=e:ds=ds.next=e),$r=!0,cu||(cu=!0,ug())}function di(e,t){if(!hu&&$r){hu=!0;do for(var a=!1,i=Hr;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var u=0;else{var m=i.suspendedLanes,g=i.pingedLanes;u=(1<<31-At(42|e)+1)-1,u&=o&~(m&~g),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,Kf(i,u))}else u=be,u=Pi(i,i===Be?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||Ns(i,u)||(a=!0,Kf(i,u));i=i.next}while(a);hu=!1}}function og(){If()}function If(){$r=cu=!1;var e=0;Qn!==0&&_g()&&(e=Qn);for(var t=Tt(),a=null,i=Hr;i!==null;){var o=i.next,u=Pf(i,t);u===0?(i.next=null,a===null?Hr=o:a.next=o,o===null&&(ds=a)):(a=i,(e!==0||(u&3)!==0)&&($r=!0)),i=o}at!==0&&at!==5||di(e),Qn!==0&&(Qn=0)}function Pf(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-At(u),g=1<<m,S=o[m];S===-1?((g&a)===0||(g&i)!==0)&&(o[m]=Uy(g,t)):S<=t&&(e.expiredLanes|=g),u&=~g}if(t=Be,a=be,a=Pi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Sl(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ns(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Sl(i),Tl(a)){case 2:case 8:a=Mc;break;case 32:a=$i;break;case 268435456:a=Uc;break;default:a=$i}return i=Qf.bind(null,e),a=wl(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Sl(i),e.callbackPriority=2,e.callbackNode=null,2}function Qf(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(qr()&&e.callbackNode!==a)return null;var i=be;return i=Pi(e,e===Be?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Af(e,i,t),Pf(e,Tt()),e.callbackNode!=null&&e.callbackNode===a?Qf.bind(null,e):null)}function Kf(e,t){if(qr())return null;Af(e,t,!0)}function ug(){wg(function(){(Ce&6)!==0?wl(Dc,og):If()})}function du(){if(Qn===0){var e=Za;e===0&&(e=Gi,Gi<<=1,(Gi&261888)===0&&(Gi=256)),Qn=e}return Qn}function Yf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ji(""+e)}function Jf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function cg(e,t,a,i,o){if(t==="submit"&&a&&a.stateNode===o){var u=Yf((o[vt]||null).action),m=i.submitter;m&&(t=(t=m[vt]||null)?Yf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var g=new Wi("action","action",null,i,o);e.push({event:g,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Qn!==0){var S=m?Jf(o,m):new FormData(o);ko(a,{pending:!0,data:S,method:o.method,action:u},null,S)}}else typeof u=="function"&&(g.preventDefault(),S=m?Jf(o,m):new FormData(o),ko(a,{pending:!0,data:S,method:o.method,action:u},u,S))},currentTarget:o}]})}}for(var fu=0;fu<Yl.length;fu++){var mu=Yl[fu],hg=mu.toLowerCase(),dg=mu[0].toUpperCase()+mu.slice(1);Xt(hg,"on"+dg)}Xt(Th,"onAnimationEnd"),Xt(jh,"onAnimationIteration"),Xt(Ah,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Ov,"onTransitionRun"),Xt(Cv,"onTransitionStart"),Xt(Rv,"onTransitionCancel"),Xt(Oh,"onTransitionEnd"),Ba("onMouseEnter",["mouseout","mouseover"]),Ba("onMouseLeave",["mouseout","mouseover"]),Ba("onPointerEnter",["pointerout","pointerover"]),Ba("onPointerLeave",["pointerout","pointerover"]),ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fi));function Xf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var m=i.length-1;0<=m;m--){var g=i[m],S=g.instance,R=g.currentTarget;if(g=g.listener,S!==u&&o.isPropagationStopped())break e;u=g,o.currentTarget=R;try{u(o)}catch(z){nr(z)}o.currentTarget=null,u=S}else for(m=0;m<i.length;m++){if(g=i[m],S=g.instance,R=g.currentTarget,g=g.listener,S!==u&&o.isPropagationStopped())break e;u=g,o.currentTarget=R;try{u(o)}catch(z){nr(z)}o.currentTarget=null,u=S}}}}function _e(e,t){var a=t[jl];a===void 0&&(a=t[jl]=new Set);var i=e+"__bubble";a.has(i)||(Zf(t,e,2,!1),a.add(i))}function pu(e,t,a){var i=0;t&&(i|=4),Zf(a,e,i,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function yu(e){if(!e[Gr]){e[Gr]=!0,Vc.forEach(function(a){a!=="selectionchange"&&(fg.has(a)||pu(a,!1,e),pu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gr]||(t[Gr]=!0,pu("selectionchange",!1,t))}}function Zf(e,t,a,i){switch(jm(t)){case 2:var o=$g;break;case 8:o=Gg;break;default:o=Nu}a=o.bind(null,t,a,e),o=void 0,!Ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function vu(e,t,a,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var g=i.stateNode.containerInfo;if(g===o)break;if(m===4)for(m=i.return;m!==null;){var S=m.tag;if((S===3||S===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;g!==null;){if(m=Ma(g),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){i=u=m;continue e}g=g.parentNode}}i=i.return}th(function(){var R=u,z=Dl(a),q=[];e:{var N=Ch.get(e);if(N!==void 0){var M=Wi,Y=e;switch(e){case"keypress":if(Zi(a)===0)break e;case"keydown":case"keyup":M=rv;break;case"focusin":Y="focus",M=ql;break;case"focusout":Y="blur",M=ql;break;case"beforeblur":case"afterblur":M=ql;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=Yy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=uv;break;case Th:case jh:case Ah:M=Zy;break;case Oh:M=hv;break;case"scroll":case"scrollend":M=Qy;break;case"wheel":M=fv;break;case"copy":case"cut":case"paste":M=Wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=rh;break;case"toggle":case"beforetoggle":M=pv}var ie=(t&4)!==0,ze=!ie&&(e==="scroll"||e==="scrollend"),j=ie?N!==null?N+"Capture":null:N;ie=[];for(var E=R,A;E!==null;){var B=E;if(A=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||A===null||j===null||(B=Us(E,j),B!=null&&ie.push(mi(E,B,A))),ze)break;E=E.return}0<ie.length&&(N=new M(N,Y,null,a,z),q.push({event:N,listeners:ie}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",N&&a!==kl&&(Y=a.relatedTarget||a.fromElement)&&(Ma(Y)||Y[Da]))break e;if((M||N)&&(N=z.window===z?z:(N=z.ownerDocument)?N.defaultView||N.parentWindow:window,M?(Y=a.relatedTarget||a.toElement,M=R,Y=Y?Ma(Y):null,Y!==null&&(ze=h(Y),ie=Y.tag,Y!==ze||ie!==5&&ie!==27&&ie!==6)&&(Y=null)):(M=null,Y=R),M!==Y)){if(ie=sh,B="onMouseLeave",j="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ie=rh,B="onPointerLeave",j="onPointerEnter",E="pointer"),ze=M==null?N:Ms(M),A=Y==null?N:Ms(Y),N=new ie(B,E+"leave",M,a,z),N.target=ze,N.relatedTarget=A,B=null,Ma(z)===R&&(ie=new ie(j,E+"enter",Y,a,z),ie.target=A,ie.relatedTarget=ze,B=ie),ze=B,M&&Y)t:{for(ie=mg,j=M,E=Y,A=0,B=j;B;B=ie(B))A++;B=0;for(var ne=E;ne;ne=ie(ne))B++;for(;0<A-B;)j=ie(j),A--;for(;0<B-A;)E=ie(E),B--;for(;A--;){if(j===E||E!==null&&j===E.alternate){ie=j;break t}j=ie(j),E=ie(E)}ie=null}else ie=null;M!==null&&Ff(q,N,M,ie,!1),Y!==null&&ze!==null&&Ff(q,ze,Y,ie,!0)}}e:{if(N=R?Ms(R):window,M=N.nodeName&&N.nodeName.toLowerCase(),M==="select"||M==="input"&&N.type==="file")var Ae=mh;else if(dh(N))if(ph)Ae=Tv;else{Ae=xv;var Z=Sv}else M=N.nodeName,!M||M.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?R&&Nl(R.elementType)&&(Ae=mh):Ae=Ev;if(Ae&&(Ae=Ae(e,R))){fh(q,Ae,a,z);break e}Z&&Z(e,N,R),e==="focusout"&&R&&N.type==="number"&&R.memoizedProps.value!=null&&Rl(N,"number",N.value)}switch(Z=R?Ms(R):window,e){case"focusin":(dh(Z)||Z.contentEditable==="true")&&(Va=Z,Pl=R,Vs=null);break;case"focusout":Vs=Pl=Va=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,xh(q,a,z);break;case"selectionchange":if(Av)break;case"keydown":case"keyup":xh(q,a,z)}var fe;if($l)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ga?ch(e,a)&&(we="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(lh&&a.locale!=="ko"&&(Ga||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ga&&(fe=nh()):(Rn=z,zl="value"in Rn?Rn.value:Rn.textContent,Ga=!0)),Z=Vr(R,we),0<Z.length&&(we=new ih(we,e,null,a,z),q.push({event:we,listeners:Z}),fe?we.data=fe:(fe=hh(a),fe!==null&&(we.data=fe)))),(fe=vv?gv(e,a):_v(e,a))&&(we=Vr(R,"onBeforeInput"),0<we.length&&(Z=new ih("onBeforeInput","beforeinput",null,a,z),q.push({event:Z,listeners:we}),Z.data=fe)),cg(q,e,R,a,z)}Xf(q,t)})}function mi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Vr(e,t){for(var a=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=Us(e,a),o!=null&&i.unshift(mi(e,o,u)),o=Us(e,t),o!=null&&i.push(mi(e,o,u))),e.tag===3)return i;e=e.return}return[]}function mg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ff(e,t,a,i,o){for(var u=t._reactName,m=[];a!==null&&a!==i;){var g=a,S=g.alternate,R=g.stateNode;if(g=g.tag,S!==null&&S===i)break;g!==5&&g!==26&&g!==27||R===null||(S=R,o?(R=Us(a,u),R!=null&&m.unshift(mi(a,R,S))):o||(R=Us(a,u),R!=null&&m.push(mi(a,R,S)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var pg=/\r\n?/g,yg=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(pg,`
`).replace(yg,"")}function em(e,t){return t=Wf(t),Wf(e)===t}function Ue(e,t,a,i,o,u){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||qa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&qa(e,""+i);break;case"className":Ki(e,"class",i);break;case"tabIndex":Ki(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(e,a,i);break;case"style":Wc(e,i,u);break;case"data":if(t!=="object"){Ki(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ji(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Ue(e,t,"name",o.name,o,null),Ue(e,t,"formEncType",o.formEncType,o,null),Ue(e,t,"formMethod",o.formMethod,o,null),Ue(e,t,"formTarget",o.formTarget,o,null)):(Ue(e,t,"encType",o.encType,o,null),Ue(e,t,"method",o.method,o,null),Ue(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ji(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=on);break;case"onScroll":i!=null&&_e("scroll",e);break;case"onScrollEnd":i!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=Ji(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Qi(e,"popover",i);break;case"xlinkActuate":ln(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ln(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ln(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ln(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ln(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ln(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ln(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ln(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ln(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Qi(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Iy.get(a)||a,Qi(e,a,i))}}function gu(e,t,a,i,o,u){switch(a){case"style":Wc(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof i=="string"?qa(e,i):(typeof i=="number"||typeof i=="bigint")&&qa(e,""+i);break;case"onScroll":i!=null&&_e("scroll",e);break;case"onScrollEnd":i!=null&&_e("scrollend",e);break;case"onClick":i!=null&&(e.onclick=on);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ic.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[vt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof i=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,o);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Qi(e,a,i)}}}function ht(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var i=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,u,m,a,null)}}o&&Ue(e,t,"srcSet",a.srcSet,a,null),i&&Ue(e,t,"src",a.src,a,null);return;case"input":_e("invalid",e);var g=u=m=o=null,S=null,R=null;for(i in a)if(a.hasOwnProperty(i)){var z=a[i];if(z!=null)switch(i){case"name":o=z;break;case"type":m=z;break;case"checked":S=z;break;case"defaultChecked":R=z;break;case"value":u=z;break;case"defaultValue":g=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:Ue(e,t,i,z,a,null)}}Jc(e,u,g,S,R,m,o,!1);return;case"select":_e("invalid",e),i=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(g=a[o],g!=null))switch(o){case"value":u=g;break;case"defaultValue":m=g;break;case"multiple":i=g;default:Ue(e,t,o,g,a,null)}t=u,a=m,e.multiple=!!i,t!=null?La(e,!!i,t,!1):a!=null&&La(e,!!i,a,!0);return;case"textarea":_e("invalid",e),u=o=i=null;for(m in a)if(a.hasOwnProperty(m)&&(g=a[m],g!=null))switch(m){case"value":i=g;break;case"defaultValue":o=g;break;case"children":u=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(l(91));break;default:Ue(e,t,m,g,a,null)}Zc(e,i,o,u);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(i=a[S],i!=null))switch(S){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ue(e,t,S,i,a,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(i=0;i<fi.length;i++)_e(fi[i],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(i=a[R],i!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,R,i,a,null)}return;default:if(Nl(t)){for(z in a)a.hasOwnProperty(z)&&(i=a[z],i!==void 0&&gu(e,t,z,i,a,void 0));return}}for(g in a)a.hasOwnProperty(g)&&(i=a[g],i!=null&&Ue(e,t,g,i,a,null))}function vg(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,g=null,S=null,R=null,z=null;for(M in a){var q=a[M];if(a.hasOwnProperty(M)&&q!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=q;default:i.hasOwnProperty(M)||Ue(e,t,M,null,i,q)}}for(var N in i){var M=i[N];if(q=a[N],i.hasOwnProperty(N)&&(M!=null||q!=null))switch(N){case"type":u=M;break;case"name":o=M;break;case"checked":R=M;break;case"defaultChecked":z=M;break;case"value":m=M;break;case"defaultValue":g=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(l(137,t));break;default:M!==q&&Ue(e,t,N,M,i,q)}}Cl(e,m,g,S,R,z,u,o);return;case"select":M=m=g=N=null;for(u in a)if(S=a[u],a.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":M=S;default:i.hasOwnProperty(u)||Ue(e,t,u,null,i,S)}for(o in i)if(u=i[o],S=a[o],i.hasOwnProperty(o)&&(u!=null||S!=null))switch(o){case"value":N=u;break;case"defaultValue":g=u;break;case"multiple":m=u;default:u!==S&&Ue(e,t,o,u,i,S)}t=g,a=m,i=M,N!=null?La(e,!!a,N,!1):!!i!=!!a&&(t!=null?La(e,!!a,t,!0):La(e,!!a,a?[]:"",!1));return;case"textarea":M=N=null;for(g in a)if(o=a[g],a.hasOwnProperty(g)&&o!=null&&!i.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Ue(e,t,g,null,i,o)}for(m in i)if(o=i[m],u=a[m],i.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":N=o;break;case"defaultValue":M=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&Ue(e,t,m,o,i,u)}Xc(e,N,M);return;case"option":for(var Y in a)if(N=a[Y],a.hasOwnProperty(Y)&&N!=null&&!i.hasOwnProperty(Y))switch(Y){case"selected":e.selected=!1;break;default:Ue(e,t,Y,null,i,N)}for(S in i)if(N=i[S],M=a[S],i.hasOwnProperty(S)&&N!==M&&(N!=null||M!=null))switch(S){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ue(e,t,S,N,i,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)N=a[ie],a.hasOwnProperty(ie)&&N!=null&&!i.hasOwnProperty(ie)&&Ue(e,t,ie,null,i,N);for(R in i)if(N=i[R],M=a[R],i.hasOwnProperty(R)&&N!==M&&(N!=null||M!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(137,t));break;default:Ue(e,t,R,N,i,M)}return;default:if(Nl(t)){for(var ze in a)N=a[ze],a.hasOwnProperty(ze)&&N!==void 0&&!i.hasOwnProperty(ze)&&gu(e,t,ze,void 0,i,N);for(z in i)N=i[z],M=a[z],!i.hasOwnProperty(z)||N===M||N===void 0&&M===void 0||gu(e,t,z,N,i,M);return}}for(var j in a)N=a[j],a.hasOwnProperty(j)&&N!=null&&!i.hasOwnProperty(j)&&Ue(e,t,j,null,i,N);for(q in i)N=i[q],M=a[q],!i.hasOwnProperty(q)||N===M||N==null&&M==null||Ue(e,t,q,N,i,M)}function tm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var o=a[i],u=o.transferSize,m=o.initiatorType,g=o.duration;if(u&&g&&tm(m)){for(m=0,g=o.responseEnd,i+=1;i<a.length;i++){var S=a[i],R=S.startTime;if(R>g)break;var z=S.transferSize,q=S.initiatorType;z&&tm(q)&&(S=S.responseEnd,m+=z*(S<g?1:(g-R)/(S-R)))}if(--i,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _u=null,bu=null;function Ir(e){return e.nodeType===9?e:e.ownerDocument}function nm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function am(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Su=null;function _g(){var e=window.event;return e&&e.type==="popstate"?e===Su?!1:(Su=e,!0):(Su=null,!1)}var sm=typeof setTimeout=="function"?setTimeout:void 0,bg=typeof clearTimeout=="function"?clearTimeout:void 0,im=typeof Promise=="function"?Promise:void 0,wg=typeof queueMicrotask=="function"?queueMicrotask:typeof im<"u"?function(e){return im.resolve(null).then(e).catch(Sg)}:sm;function Sg(e){setTimeout(function(){throw e})}function Kn(e){return e==="head"}function rm(e,t){var a=t,i=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(o),ys(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")pi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,pi(a);for(var u=a.firstChild;u;){var m=u.nextSibling,g=u.nodeName;u[Ds]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&pi(e.ownerDocument.body);a=o}while(a);ys(t)}function lm(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function xu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xu(a),Al(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xg(e,t,a,i){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ds])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function Eg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kt(e.nextSibling),e===null))return null;return e}function om(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function Eu(e){return e.data==="$?"||e.data==="$~"}function Tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Tg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ju=null;function um(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Kt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function hm(e,t,a){switch(t=Ir(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function pi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Al(e)}var Yt=new Map,dm=new Set;function Pr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var En=I.d;I.d={f:jg,r:Ag,D:Og,C:Cg,L:Rg,m:Ng,X:Dg,S:kg,M:Mg};function jg(){var e=En.f(),t=zr();return e||t}function Ag(e){var t=Ua(e);t!==null&&t.tag===5&&t.type==="form"?Od(t):En.r(e)}var fs=typeof document>"u"?null:document;function fm(e,t,a){var i=fs;if(i&&typeof t=="string"&&t){var o=Ht(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),dm.has(o)||(dm.add(o),e={rel:e,crossOrigin:a,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),ht(t,"link",e),it(t),i.head.appendChild(t)))}}function Og(e){En.D(e),fm("dns-prefetch",e,null)}function Cg(e,t){En.C(e,t),fm("preconnect",e,t)}function Rg(e,t,a){En.L(e,t,a);var i=fs;if(i&&e&&t){var o='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Ht(a.imageSizes)+'"]')):o+='[href="'+Ht(e)+'"]';var u=o;switch(t){case"style":u=ms(e);break;case"script":u=ps(e)}Yt.has(u)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Yt.set(u,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(yi(u))||t==="script"&&i.querySelector(vi(u))||(t=i.createElement("link"),ht(t,"link",e),it(t),i.head.appendChild(t)))}}function Ng(e,t){En.m(e,t);var a=fs;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ht(i)+'"][href="'+Ht(e)+'"]',u=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ps(e)}if(!Yt.has(u)&&(e=b({rel:"modulepreload",href:e},t),Yt.set(u,e),a.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vi(u)))return}i=a.createElement("link"),ht(i,"link",e),it(i),a.head.appendChild(i)}}}function kg(e,t,a){En.S(e,t,a);var i=fs;if(i&&e){var o=za(i).hoistableStyles,u=ms(e);t=t||"default";var m=o.get(u);if(!m){var g={loading:0,preload:null};if(m=i.querySelector(yi(u)))g.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Yt.get(u))&&Au(e,a);var S=m=i.createElement("link");it(S),ht(S,"link",e),S._p=new Promise(function(R,z){S.onload=R,S.onerror=z}),S.addEventListener("load",function(){g.loading|=1}),S.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Qr(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:g},o.set(u,m)}}}function Dg(e,t){En.X(e,t);var a=fs;if(a&&e){var i=za(a).hoistableScripts,o=ps(e),u=i.get(o);u||(u=a.querySelector(vi(o)),u||(e=b({src:e,async:!0},t),(t=Yt.get(o))&&Ou(e,t),u=a.createElement("script"),it(u),ht(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function Mg(e,t){En.M(e,t);var a=fs;if(a&&e){var i=za(a).hoistableScripts,o=ps(e),u=i.get(o);u||(u=a.querySelector(vi(o)),u||(e=b({src:e,async:!0,type:"module"},t),(t=Yt.get(o))&&Ou(e,t),u=a.createElement("script"),it(u),ht(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function mm(e,t,a,i){var o=(o=pe.current)?Pr(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ms(a.href),a=za(o).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ms(a.href);var u=za(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(yi(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Yt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yt.set(e,a),u||Ug(o,e,a,m.state))),t&&i===null)throw Error(l(528,""));return m}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ps(a),a=za(o).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ms(e){return'href="'+Ht(e)+'"'}function yi(e){return'link[rel="stylesheet"]['+e+"]"}function pm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Ug(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ht(t,"link",a),it(t),e.head.appendChild(t))}function ps(e){return'[src="'+Ht(e)+'"]'}function vi(e){return"script[async]"+e}function ym(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(i)return t.instance=i,it(i),i;var o=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),it(i),ht(i,"style",o),Qr(i,a.precedence,e),t.instance=i;case"stylesheet":o=ms(a.href);var u=e.querySelector(yi(o));if(u)return t.state.loading|=4,t.instance=u,it(u),u;i=pm(a),(o=Yt.get(o))&&Au(i,o),u=(e.ownerDocument||e).createElement("link"),it(u);var m=u;return m._p=new Promise(function(g,S){m.onload=g,m.onerror=S}),ht(u,"link",i),t.state.loading|=4,Qr(u,a.precedence,e),t.instance=u;case"script":return u=ps(a.src),(o=e.querySelector(vi(u)))?(t.instance=o,it(o),o):(i=a,(o=Yt.get(u))&&(i=b({},a),Ou(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),it(o),ht(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Qr(i,a.precedence,e));return t.instance}function Qr(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,u=o,m=0;m<i.length;m++){var g=i[m];if(g.dataset.precedence===t)u=g;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ou(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Kr=null;function vm(e,t,a){if(Kr===null){var i=new Map,o=Kr=new Map;o.set(a,i)}else o=Kr,i=o.get(a),i||(i=new Map,o.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Ds]||u[lt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var g=i.get(m);g?g.push(u):i.set(m,[u])}}return i}function gm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function zg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Bg(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=ms(i.href),u=t.querySelector(yi(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Yr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,it(u);return}u=t.ownerDocument||t,i=pm(i),(o=Yt.get(o))&&Au(i,o),u=u.createElement("link"),it(u);var m=u;m._p=new Promise(function(g,S){m.onload=g,m.onerror=S}),ht(u,"link",i),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Yr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Cu=0;function Lg(e,t){return e.stylesheets&&e.count===0&&Xr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&Xr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Cu===0&&(Cu=62500*gg());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Cu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Yr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jr=null;function Xr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jr=new Map,t.forEach(qg,e),Jr=null,Yr.call(e))}function qg(e,t){if(!(t.state.loading&4)){var a=Jr.get(e);if(a)var i=a.get(null);else{a=new Map,Jr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),i=m)}i&&a.set(null,i)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||i,u===i&&a.set(null,o),a.set(m,o),this.count++,i=Yr.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var gi={$$typeof:H,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function Hg(e,t,a,i,o,u,m,g,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xl(0),this.hiddenUpdates=xl(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function bm(e,t,a,i,o,u,m,g,S,R,z,q){return e=new Hg(e,t,a,m,S,R,z,q,g),t=1,u===!0&&(t|=24),u=Ct(3,null,null,t),e.current=u,u.stateNode=e,t=lo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:a,cache:t},ho(u),e}function wm(e){return e?(e=Qa,e):Qa}function Sm(e,t,a,i,o,u){o=wm(o),i.context===null?i.context=o:i.pendingContext=o,i=zn(t),i.payload={element:a},u=u===void 0?null:u,u!==null&&(i.callback=u),a=Bn(e,i,t),a!==null&&(xt(a,e,t),Xs(a,e,t))}function xm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ru(e,t){xm(e,t),(e=e.alternate)&&xm(e,t)}function Em(e){if(e.tag===13||e.tag===31){var t=ca(e,67108864);t!==null&&xt(t,e,67108864),Ru(e,67108864)}}function Tm(e){if(e.tag===13||e.tag===31){var t=Mt();t=El(t);var a=ca(e,t);a!==null&&xt(a,e,t),Ru(e,t)}}var Zr=!0;function $g(e,t,a,i){var o=U.T;U.T=null;var u=I.p;try{I.p=2,Nu(e,t,a,i)}finally{I.p=u,U.T=o}}function Gg(e,t,a,i){var o=U.T;U.T=null;var u=I.p;try{I.p=8,Nu(e,t,a,i)}finally{I.p=u,U.T=o}}function Nu(e,t,a,i){if(Zr){var o=ku(i);if(o===null)vu(e,t,i,Fr,a),Am(e,i);else if(Ig(o,e,t,a,i))i.stopPropagation();else if(Am(e,i),t&4&&-1<Vg.indexOf(e)){for(;o!==null;){var u=Ua(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=ia(u.pendingLanes);if(m!==0){var g=u;for(g.pendingLanes|=2,g.entangledLanes|=2;m;){var S=1<<31-At(m);g.entanglements[1]|=S,m&=~S}rn(u),(Ce&6)===0&&(Mr=Tt()+500,di(0))}}break;case 31:case 13:g=ca(u,2),g!==null&&xt(g,u,2),zr(),Ru(u,2)}if(u=ku(i),u===null&&vu(e,t,i,Fr,a),u===o)break;o=u}o!==null&&i.stopPropagation()}else vu(e,t,i,null,a)}}function ku(e){return e=Dl(e),Du(e)}var Fr=null;function Du(e){if(Fr=null,e=Ma(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fr=e,null}function jm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oy()){case Dc:return 2;case Mc:return 8;case $i:case Cy:return 32;case Uc:return 268435456;default:return 32}default:return 32}}var Mu=!1,Yn=null,Jn=null,Xn=null,_i=new Map,bi=new Map,Zn=[],Vg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Am(e,t){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":_i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bi.delete(t.pointerId)}}function wi(e,t,a,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Ua(t),t!==null&&Em(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ig(e,t,a,i,o){switch(t){case"focusin":return Yn=wi(Yn,e,t,a,i,o),!0;case"dragenter":return Jn=wi(Jn,e,t,a,i,o),!0;case"mouseover":return Xn=wi(Xn,e,t,a,i,o),!0;case"pointerover":var u=o.pointerId;return _i.set(u,wi(_i.get(u)||null,e,t,a,i,o)),!0;case"gotpointercapture":return u=o.pointerId,bi.set(u,wi(bi.get(u)||null,e,t,a,i,o)),!0}return!1}function Om(e){var t=Ma(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,$c(e.priority,function(){Tm(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,$c(e.priority,function(){Tm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ku(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);kl=i,a.target.dispatchEvent(i),kl=null}else return t=Ua(a),t!==null&&Em(t),e.blockedOn=a,!1;t.shift()}return!0}function Cm(e,t,a){Wr(e)&&a.delete(t)}function Pg(){Mu=!1,Yn!==null&&Wr(Yn)&&(Yn=null),Jn!==null&&Wr(Jn)&&(Jn=null),Xn!==null&&Wr(Xn)&&(Xn=null),_i.forEach(Cm),bi.forEach(Cm)}function el(e,t){e.blockedOn===t&&(e.blockedOn=null,Mu||(Mu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Pg)))}var tl=null;function Rm(e){tl!==e&&(tl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){tl===e&&(tl=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Du(i||a)===null)continue;break}var u=Ua(a);u!==null&&(e.splice(t,3),t-=3,ko(u,{pending:!0,data:o,method:a.method,action:i},i,o))}}))}function ys(e){function t(S){return el(S,e)}Yn!==null&&el(Yn,e),Jn!==null&&el(Jn,e),Xn!==null&&el(Xn,e),_i.forEach(t),bi.forEach(t);for(var a=0;a<Zn.length;a++){var i=Zn[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Zn.length&&(a=Zn[0],a.blockedOn===null);)Om(a),a.blockedOn===null&&Zn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var o=a[i],u=a[i+1],m=o[vt]||null;if(typeof u=="function")m||Rm(a);else if(m){var g=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[vt]||null)g=m.formAction;else if(Du(o)!==null)continue}else g=m.action;typeof g=="function"?a[i+1]=g:(a.splice(i,3),i-=3),Rm(a)}}}function Nm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Uu(e){this._internalRoot=e}nl.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,i=Mt();Sm(a,i,e,t,null,null)},nl.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sm(e.current,2,null,e,null,null),zr(),t[Da]=null}};function nl(e){this._internalRoot=e}nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Zn.length&&t!==0&&t<Zn[a].priority;a++);Zn.splice(a,0,e),a===0&&Om(e)}};var km=n.version;if(km!=="19.2.0")throw Error(l(527,km,"19.2.0"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=v(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Qg={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{Rs=al.inject(Qg),jt=al}catch{}}return xi.createRoot=function(e,t){if(!c(e))throw Error(l(299));var a=!1,i="",o=Ld,u=qd,m=Hd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=bm(e,1,!1,null,null,a,i,null,o,u,m,Nm),e[Da]=t.current,yu(e),new Uu(t)},xi.hydrateRoot=function(e,t,a){if(!c(e))throw Error(l(299));var i=!1,o="",u=Ld,m=qd,g=Hd,S=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=bm(e,1,!0,t,a??null,i,o,S,u,m,g,Nm),t.context=wm(null),a=t.current,i=Mt(),i=El(i),o=zn(i),o.callback=null,Bn(a,o,i),a=i,t.current.lanes=a,ks(t,a),rn(t),e[Da]=t.current,yu(e),new nl(t)},xi.version="19.2.0",xi}var Gm;function s0(){if(Gm)return Lu.exports;Gm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Lu.exports=a0(),Lu.exports}var i0=s0();const r0=Mp(i0);var Bi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},l0={setTimeout:(s,n)=>setTimeout(s,n),clearTimeout:s=>clearTimeout(s),setInterval:(s,n)=>setInterval(s,n),clearInterval:s=>clearInterval(s)},o0=class{#e=l0;#t=!1;setTimeoutProvider(s){this.#e=s}setTimeout(s,n){return this.#e.setTimeout(s,n)}clearTimeout(s){this.#e.clearTimeout(s)}setInterval(s,n){return this.#e.setInterval(s,n)}clearInterval(s){this.#e.clearInterval(s)}},Ra=new o0;function u0(s){setTimeout(s,0)}var ka=typeof window>"u"||"Deno"in globalThis;function Et(){}function c0(s,n){return typeof s=="function"?s(n):s}function tc(s){return typeof s=="number"&&s>=0&&s!==1/0}function zp(s,n){return Math.max(s+(n||0)-Date.now(),0)}function na(s,n){return typeof s=="function"?s(n):s}function Jt(s,n){return typeof s=="function"?s(n):s}function Vm(s,n){const{type:r="all",exact:l,fetchStatus:c,predicate:h,queryKey:f,stale:p}=s;if(f){if(l){if(n.queryHash!==_c(f,n.options))return!1}else if(!Ri(n.queryKey,f))return!1}if(r!=="all"){const y=n.isActive();if(r==="active"&&!y||r==="inactive"&&y)return!1}return!(typeof p=="boolean"&&n.isStale()!==p||c&&c!==n.state.fetchStatus||h&&!h(n))}function Im(s,n){const{exact:r,status:l,predicate:c,mutationKey:h}=s;if(h){if(!n.options.mutationKey)return!1;if(r){if(Ci(n.options.mutationKey)!==Ci(h))return!1}else if(!Ri(n.options.mutationKey,h))return!1}return!(l&&n.state.status!==l||c&&!c(n))}function _c(s,n){return(n?.queryKeyHashFn||Ci)(s)}function Ci(s){return JSON.stringify(s,(n,r)=>ac(r)?Object.keys(r).sort().reduce((l,c)=>(l[c]=r[c],l),{}):r)}function Ri(s,n){return s===n?!0:typeof s!=typeof n?!1:s&&n&&typeof s=="object"&&typeof n=="object"?Object.keys(n).every(r=>Ri(s[r],n[r])):!1}var h0=Object.prototype.hasOwnProperty;function Bp(s,n){if(s===n)return s;const r=Pm(s)&&Pm(n);if(!r&&!(ac(s)&&ac(n)))return n;const c=(r?s:Object.keys(s)).length,h=r?n:Object.keys(n),f=h.length,p=r?new Array(f):{};let y=0;for(let v=0;v<f;v++){const _=r?v:h[v],b=s[_],x=n[_];if(b===x){p[_]=b,(r?v<c:h0.call(s,_))&&y++;continue}if(b===null||x===null||typeof b!="object"||typeof x!="object"){p[_]=x;continue}const O=Bp(b,x);p[_]=O,O===b&&y++}return c===f&&y===c?s:p}function nc(s,n){if(!n||Object.keys(s).length!==Object.keys(n).length)return!1;for(const r in s)if(s[r]!==n[r])return!1;return!0}function Pm(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function ac(s){if(!Qm(s))return!1;const n=s.constructor;if(n===void 0)return!0;const r=n.prototype;return!(!Qm(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Qm(s){return Object.prototype.toString.call(s)==="[object Object]"}function d0(s){return new Promise(n=>{Ra.setTimeout(n,s)})}function sc(s,n,r){return typeof r.structuralSharing=="function"?r.structuralSharing(s,n):r.structuralSharing!==!1?Bp(s,n):n}function f0(s,n,r=0){const l=[...s,n];return r&&l.length>r?l.slice(1):l}function m0(s,n,r=0){const l=[n,...s];return r&&l.length>r?l.slice(0,-1):l}var bc=Symbol();function Lp(s,n){return!s.queryFn&&n?.initialPromise?()=>n.initialPromise:!s.queryFn||s.queryFn===bc?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function p0(s,n){return typeof s=="function"?s(...n):!!s}var y0=class extends Bi{#e;#t;#n;constructor(){super(),this.#n=s=>{if(!ka&&window.addEventListener){const n=()=>s();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#n=s,this.#t?.(),this.#t=s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(n=>{n(s)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},wc=new y0;function ic(){let s,n;const r=new Promise((c,h)=>{s=c,n=h});r.status="pending",r.catch(()=>{});function l(c){Object.assign(r,c),delete r.resolve,delete r.reject}return r.resolve=c=>{l({status:"fulfilled",value:c}),s(c)},r.reject=c=>{l({status:"rejected",reason:c}),n(c)},r}var v0=u0;function g0(){let s=[],n=0,r=p=>{p()},l=p=>{p()},c=v0;const h=p=>{n?s.push(p):c(()=>{r(p)})},f=()=>{const p=s;s=[],p.length&&c(()=>{l(()=>{p.forEach(y=>{r(y)})})})};return{batch:p=>{let y;n++;try{y=p()}finally{n--,n||f()}return y},batchCalls:p=>(...y)=>{h(()=>{p(...y)})},schedule:h,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{l=p},setScheduler:p=>{c=p}}}var mt=g0(),_0=class extends Bi{#e=!0;#t;#n;constructor(){super(),this.#n=s=>{if(!ka&&window.addEventListener){const n=()=>s(!0),r=()=>s(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(s){this.#n=s,this.#t?.(),this.#t=s(this.setOnline.bind(this))}setOnline(s){this.#e!==s&&(this.#e=s,this.listeners.forEach(r=>{r(s)}))}isOnline(){return this.#e}},ul=new _0;function b0(s){return Math.min(1e3*2**s,3e4)}function qp(s){return(s??"online")==="online"?ul.isOnline():!0}var rc=class extends Error{constructor(s){super("CancelledError"),this.revert=s?.revert,this.silent=s?.silent}};function Hp(s){let n=!1,r=0,l;const c=ic(),h=()=>c.status!=="pending",f=w=>{if(!h()){const D=new rc(w);x(D),s.onCancel?.(D)}},p=()=>{n=!0},y=()=>{n=!1},v=()=>wc.isFocused()&&(s.networkMode==="always"||ul.isOnline())&&s.canRun(),_=()=>qp(s.networkMode)&&s.canRun(),b=w=>{h()||(l?.(),c.resolve(w))},x=w=>{h()||(l?.(),c.reject(w))},O=()=>new Promise(w=>{l=D=>{(h()||v())&&w(D)},s.onPause?.()}).then(()=>{l=void 0,h()||s.onContinue?.()}),C=()=>{if(h())return;let w;const D=r===0?s.initialPromise:void 0;try{w=D??s.fn()}catch(k){w=Promise.reject(k)}Promise.resolve(w).then(b).catch(k=>{if(h())return;const G=s.retry??(ka?0:3),H=s.retryDelay??b0,F=typeof H=="function"?H(r,k):H,de=G===!0||typeof G=="number"&&r<G||typeof G=="function"&&G(r,k);if(n||!de){x(k);return}r++,s.onFail?.(r,k),d0(F).then(()=>v()?void 0:O()).then(()=>{n?x(k):C()})})};return{promise:c,status:()=>c.status,cancel:f,continue:()=>(l?.(),c),cancelRetry:p,continueRetry:y,canStart:_,start:()=>(_()?C():O().then(C),c)}}var $p=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tc(this.gcTime)&&(this.#e=Ra.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(ka?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ra.clearTimeout(this.#e),this.#e=void 0)}},w0=class extends $p{#e;#t;#n;#s;#a;#l;#r;constructor(s){super(),this.#r=!1,this.#l=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.#s=s.client,this.#n=this.#s.getQueryCache(),this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.#e=Km(this.options),this.state=s.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(s){if(this.options={...this.#l,...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=Km(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(s,n){const r=sc(this.state.data,s,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(s,n){this.#i({type:"setState",state:s,setStateOptions:n})}cancel(s){const n=this.#a?.promise;return this.#a?.cancel(s),n?n.then(Et).catch(Et):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(s=>Jt(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>na(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!zp(this.state.dataUpdatedAt,s)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(n=>n!==s),this.observers.length||(this.#a&&(this.#r?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(s,n){if(this.state.fetchStatus!=="idle"&&this.#a?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(s&&this.setOptions(s),!this.options.queryFn){const p=this.observers.find(y=>y.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,l=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(this.#r=!0,r.signal)})},c=()=>{const p=Lp(this.options,n),v=(()=>{const _={client:this.#s,queryKey:this.queryKey,meta:this.meta};return l(_),_})();return this.#r=!1,this.options.persister?this.options.persister(p,v,this):p(v)},f=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:c};return l(p),p})();this.options.behavior?.onFetch(f,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==f.fetchOptions?.meta)&&this.#i({type:"fetch",meta:f.fetchOptions?.meta}),this.#a=Hp({initialPromise:n?.initialPromise,fn:f.fetchFn,onCancel:p=>{p instanceof rc&&p.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(p,y)=>{this.#i({type:"failed",failureCount:p,error:y})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0});try{const p=await this.#a.start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),this.#n.config.onSuccess?.(p,this),this.#n.config.onSettled?.(p,this.state.error,this),p}catch(p){if(p instanceof rc){if(p.silent)return this.#a.promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw this.#i({type:"error",error:p}),this.#n.config.onError?.(p,this),this.#n.config.onSettled?.(this.state.data,p,this),p}finally{this.scheduleGc()}}#i(s){const n=r=>{switch(s.type){case"failed":return{...r,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Gp(r.data,this.options),fetchMeta:s.meta??null};case"success":const l={...r,data:s.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:s.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=s.manual?l:void 0,l;case"error":const c=s.error;return{...r,error:c,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...s.state}}};this.state=n(this.state),mt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:s})})}};function Gp(s,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qp(n.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Km(s){const n=typeof s.initialData=="function"?s.initialData():s.initialData,r=n!==void 0,l=r?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:r?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var S0=class extends Bi{constructor(s,n){super(),this.options=n,this.#e=s,this.#i=null,this.#r=ic(),this.bindMethods(),this.setOptions(n)}#e;#t=void 0;#n=void 0;#s=void 0;#a;#l;#r;#i;#p;#d;#f;#u;#c;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Ym(this.#t,this.options)?this.#h():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lc(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lc(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(s){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jt(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!nc(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const l=this.hasListeners();l&&Jm(this.#t,r,this.options,n)&&this.#h(),this.updateResult(),l&&(this.#t!==r||Jt(this.options.enabled,this.#t)!==Jt(n.enabled,this.#t)||na(this.options.staleTime,this.#t)!==na(n.staleTime,this.#t))&&this.#y();const c=this.#v();l&&(this.#t!==r||Jt(this.options.enabled,this.#t)!==Jt(n.enabled,this.#t)||c!==this.#o)&&this.#g(c)}getOptimisticResult(s){const n=this.#e.getQueryCache().build(this.#e,s),r=this.createResult(n,s);return E0(this,r)&&(this.#s=r,this.#l=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#s}trackResult(s,n){return new Proxy(s,{get:(r,l)=>(this.trackProp(l),n?.(l),l==="promise"&&!this.options.experimental_prefetchInRender&&this.#r.status==="pending"&&this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(r,l))})}trackProp(s){this.#m.add(s)}getCurrentQuery(){return this.#t}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const n=this.#e.defaultQueryOptions(s),r=this.#e.getQueryCache().build(this.#e,n);return r.fetch().then(()=>this.createResult(r,n))}fetch(s){return this.#h({...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#s))}#h(s){this.#S();let n=this.#t.fetch(this.options,s);return s?.throwOnError||(n=n.catch(Et)),n}#y(){this.#b();const s=na(this.options.staleTime,this.#t);if(ka||this.#s.isStale||!tc(s))return;const r=zp(this.#s.dataUpdatedAt,s)+1;this.#u=Ra.setTimeout(()=>{this.#s.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(s){this.#w(),this.#o=s,!(ka||Jt(this.options.enabled,this.#t)===!1||!tc(this.#o)||this.#o===0)&&(this.#c=Ra.setInterval(()=>{(this.options.refetchIntervalInBackground||wc.isFocused())&&this.#h()},this.#o))}#_(){this.#y(),this.#g(this.#v())}#b(){this.#u&&(Ra.clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(Ra.clearInterval(this.#c),this.#c=void 0)}createResult(s,n){const r=this.#t,l=this.options,c=this.#s,h=this.#a,f=this.#l,y=s!==r?s.state:this.#n,{state:v}=s;let _={...v},b=!1,x;if(n._optimisticResults){const te=this.hasListeners(),Re=!te&&Ym(s,n),nt=te&&Jm(s,r,n,l);(Re||nt)&&(_={..._,...Gp(v.data,s.options)}),n._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:O,errorUpdatedAt:C,status:w}=_;x=_.data;let D=!1;if(n.placeholderData!==void 0&&x===void 0&&w==="pending"){let te;c?.isPlaceholderData&&n.placeholderData===f?.placeholderData?(te=c.data,D=!0):te=typeof n.placeholderData=="function"?n.placeholderData(this.#f?.state.data,this.#f):n.placeholderData,te!==void 0&&(w="success",x=sc(c?.data,te,n),b=!0)}if(n.select&&x!==void 0&&!D)if(c&&x===h?.data&&n.select===this.#p)x=this.#d;else try{this.#p=n.select,x=n.select(x),x=sc(c?.data,x,n),this.#d=x,this.#i=null}catch(te){this.#i=te}this.#i&&(O=this.#i,x=this.#d,C=Date.now(),w="error");const k=_.fetchStatus==="fetching",G=w==="pending",H=w==="error",F=G&&k,de=x!==void 0,Q={status:w,fetchStatus:_.fetchStatus,isPending:G,isSuccess:w==="success",isError:H,isInitialLoading:F,isLoading:F,data:x,dataUpdatedAt:_.dataUpdatedAt,error:O,errorUpdatedAt:C,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>y.dataUpdateCount||_.errorUpdateCount>y.errorUpdateCount,isFetching:k,isRefetching:k&&!G,isLoadingError:H&&!de,isPaused:_.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:H&&de,isStale:Sc(s,n),refetch:this.refetch,promise:this.#r,isEnabled:Jt(n.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const te=Ge=>{Q.status==="error"?Ge.reject(Q.error):Q.data!==void 0&&Ge.resolve(Q.data)},Re=()=>{const Ge=this.#r=Q.promise=ic();te(Ge)},nt=this.#r;switch(nt.status){case"pending":s.queryHash===r.queryHash&&te(nt);break;case"fulfilled":(Q.status==="error"||Q.data!==nt.value)&&Re();break;case"rejected":(Q.status!=="error"||Q.error!==nt.reason)&&Re();break}}return Q}updateResult(){const s=this.#s,n=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#l=this.options,this.#a.data!==void 0&&(this.#f=this.#t),nc(n,s))return;this.#s=n;const r=()=>{if(!s)return!0;const{notifyOnChangeProps:l}=this.options,c=typeof l=="function"?l():l;if(c==="all"||!c&&!this.#m.size)return!0;const h=new Set(c??this.#m);return this.options.throwOnError&&h.add("error"),Object.keys(this.#s).some(f=>{const p=f;return this.#s[p]!==s[p]&&h.has(p)})};this.#x({listeners:r()})}#S(){const s=this.#e.getQueryCache().build(this.#e,this.options);if(s===this.#t)return;const n=this.#t;this.#t=s,this.#n=s.state,this.hasListeners()&&(n?.removeObserver(this),s.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#x(s){mt.batch(()=>{s.listeners&&this.listeners.forEach(n=>{n(this.#s)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function x0(s,n){return Jt(n.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&n.retryOnMount===!1)}function Ym(s,n){return x0(s,n)||s.state.data!==void 0&&lc(s,n,n.refetchOnMount)}function lc(s,n,r){if(Jt(n.enabled,s)!==!1&&na(n.staleTime,s)!=="static"){const l=typeof r=="function"?r(s):r;return l==="always"||l!==!1&&Sc(s,n)}return!1}function Jm(s,n,r,l){return(s!==n||Jt(l.enabled,s)===!1)&&(!r.suspense||s.state.status!=="error")&&Sc(s,r)}function Sc(s,n){return Jt(n.enabled,s)!==!1&&s.isStaleByTime(na(n.staleTime,s))}function E0(s,n){return!nc(s.getCurrentResult(),n)}function Xm(s){return{onFetch:(n,r)=>{const l=n.options,c=n.fetchOptions?.meta?.fetchMore?.direction,h=n.state.data?.pages||[],f=n.state.data?.pageParams||[];let p={pages:[],pageParams:[]},y=0;const v=async()=>{let _=!1;const b=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(n.signal.aborted?_=!0:n.signal.addEventListener("abort",()=>{_=!0}),n.signal)})},x=Lp(n.options,n.fetchOptions),O=async(C,w,D)=>{if(_)return Promise.reject();if(w==null&&C.pages.length)return Promise.resolve(C);const G=(()=>{const ee={client:n.client,queryKey:n.queryKey,pageParam:w,direction:D?"backward":"forward",meta:n.options.meta};return b(ee),ee})(),H=await x(G),{maxPages:F}=n.options,de=D?m0:f0;return{pages:de(C.pages,H,F),pageParams:de(C.pageParams,w,F)}};if(c&&h.length){const C=c==="backward",w=C?T0:Zm,D={pages:h,pageParams:f},k=w(l,D);p=await O(D,k,C)}else{const C=s??h.length;do{const w=y===0?f[0]??l.initialPageParam:Zm(l,p);if(y>0&&w==null)break;p=await O(p,w),y++}while(y<C)}return p};n.options.persister?n.fetchFn=()=>n.options.persister?.(v,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},r):n.fetchFn=v}}}function Zm(s,{pages:n,pageParams:r}){const l=n.length-1;return n.length>0?s.getNextPageParam(n[l],n,r[l],r):void 0}function T0(s,{pages:n,pageParams:r}){return n.length>0?s.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var j0=class extends $p{#e;#t;#n;#s;constructor(s){super(),this.#e=s.client,this.mutationId=s.mutationId,this.#n=s.mutationCache,this.#t=[],this.state=s.state||A0(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){this.#t.includes(s)||(this.#t.push(s),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.#t=this.#t.filter(n=>n!==s),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(s){const n=()=>{this.#a({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=Hp({fn:()=>this.options.mutationFn?this.options.mutationFn(s,r):Promise.reject(new Error("No mutationFn found")),onFail:(h,f)=>{this.#a({type:"failed",failureCount:h,error:f})},onPause:()=>{this.#a({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const l=this.state.status==="pending",c=!this.#s.canStart();try{if(l)n();else{this.#a({type:"pending",variables:s,isPaused:c}),await this.#n.config.onMutate?.(s,this,r);const f=await this.options.onMutate?.(s,r);f!==this.state.context&&this.#a({type:"pending",context:f,variables:s,isPaused:c})}const h=await this.#s.start();return await this.#n.config.onSuccess?.(h,s,this.state.context,this,r),await this.options.onSuccess?.(h,s,this.state.context,r),await this.#n.config.onSettled?.(h,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(h,null,s,this.state.context,r),this.#a({type:"success",data:h}),h}catch(h){try{throw await this.#n.config.onError?.(h,s,this.state.context,this,r),await this.options.onError?.(h,s,this.state.context,r),await this.#n.config.onSettled?.(void 0,h,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,h,s,this.state.context,r),h}finally{this.#a({type:"error",error:h})}}finally{this.#n.runNext(this)}}#a(s){const n=r=>{switch(s.type){case"failed":return{...r,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...r,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:s.error,failureCount:r.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mt.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(s)}),this.#n.notify({mutation:this,type:"updated",action:s})})}};function A0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var O0=class extends Bi{constructor(s={}){super(),this.config=s,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(s,n,r){const l=new j0({client:s,mutationCache:this,mutationId:++this.#n,options:s.defaultMutationOptions(n),state:r});return this.add(l),l}add(s){this.#e.add(s);const n=sl(s);if(typeof n=="string"){const r=this.#t.get(n);r?r.push(s):this.#t.set(n,[s])}this.notify({type:"added",mutation:s})}remove(s){if(this.#e.delete(s)){const n=sl(s);if(typeof n=="string"){const r=this.#t.get(n);if(r)if(r.length>1){const l=r.indexOf(s);l!==-1&&r.splice(l,1)}else r[0]===s&&this.#t.delete(n)}}this.notify({type:"removed",mutation:s})}canRun(s){const n=sl(s);if(typeof n=="string"){const l=this.#t.get(n)?.find(c=>c.state.status==="pending");return!l||l===s}else return!0}runNext(s){const n=sl(s);return typeof n=="string"?this.#t.get(n)?.find(l=>l!==s&&l.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){mt.batch(()=>{this.#e.forEach(s=>{this.notify({type:"removed",mutation:s})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(s){const n={exact:!0,...s};return this.getAll().find(r=>Im(n,r))}findAll(s={}){return this.getAll().filter(n=>Im(s,n))}notify(s){mt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}resumePausedMutations(){const s=this.getAll().filter(n=>n.state.isPaused);return mt.batch(()=>Promise.all(s.map(n=>n.continue().catch(Et))))}};function sl(s){return s.options.scope?.id}var C0=class extends Bi{constructor(s={}){super(),this.config=s,this.#e=new Map}#e;build(s,n,r){const l=n.queryKey,c=n.queryHash??_c(l,n);let h=this.get(c);return h||(h=new w0({client:s,queryKey:l,queryHash:c,options:s.defaultQueryOptions(n),state:r,defaultOptions:s.getQueryDefaults(l)}),this.add(h)),h}add(s){this.#e.has(s.queryHash)||(this.#e.set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const n=this.#e.get(s.queryHash);n&&(s.destroy(),n===s&&this.#e.delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){mt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return this.#e.get(s)}getAll(){return[...this.#e.values()]}find(s){const n={exact:!0,...s};return this.getAll().find(r=>Vm(n,r))}findAll(s={}){const n=this.getAll();return Object.keys(s).length>0?n.filter(r=>Vm(s,r)):n}notify(s){mt.batch(()=>{this.listeners.forEach(n=>{n(s)})})}onFocus(){mt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){mt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},R0=class{#e;#t;#n;#s;#a;#l;#r;#i;constructor(s={}){this.#e=s.queryCache||new C0,this.#t=s.mutationCache||new O0,this.#n=s.defaultOptions||{},this.#s=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#r=wc.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=ul.subscribe(async s=>{s&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#r?.(),this.#r=void 0,this.#i?.(),this.#i=void 0)}isFetching(s){return this.#e.findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return this.#t.findAll({...s,status:"pending"}).length}getQueryData(s){const n=this.defaultQueryOptions({queryKey:s});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(s){const n=this.defaultQueryOptions(s),r=this.#e.build(this,n),l=r.state.data;return l===void 0?this.fetchQuery(s):(s.revalidateIfStale&&r.isStaleByTime(na(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(l))}getQueriesData(s){return this.#e.findAll(s).map(({queryKey:n,state:r})=>{const l=r.data;return[n,l]})}setQueryData(s,n,r){const l=this.defaultQueryOptions({queryKey:s}),h=this.#e.get(l.queryHash)?.state.data,f=c0(n,h);if(f!==void 0)return this.#e.build(this,l).setData(f,{...r,manual:!0})}setQueriesData(s,n,r){return mt.batch(()=>this.#e.findAll(s).map(({queryKey:l})=>[l,this.setQueryData(l,n,r)]))}getQueryState(s){const n=this.defaultQueryOptions({queryKey:s});return this.#e.get(n.queryHash)?.state}removeQueries(s){const n=this.#e;mt.batch(()=>{n.findAll(s).forEach(r=>{n.remove(r)})})}resetQueries(s,n){const r=this.#e;return mt.batch(()=>(r.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...s},n)))}cancelQueries(s,n={}){const r={revert:!0,...n},l=mt.batch(()=>this.#e.findAll(s).map(c=>c.cancel(r)));return Promise.all(l).then(Et).catch(Et)}invalidateQueries(s,n={}){return mt.batch(()=>(this.#e.findAll(s).forEach(r=>{r.invalidate()}),s?.refetchType==="none"?Promise.resolve():this.refetchQueries({...s,type:s?.refetchType??s?.type??"active"},n)))}refetchQueries(s,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},l=mt.batch(()=>this.#e.findAll(s).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let h=c.fetch(void 0,r);return r.throwOnError||(h=h.catch(Et)),c.state.fetchStatus==="paused"?Promise.resolve():h}));return Promise.all(l).then(Et)}fetchQuery(s){const n=this.defaultQueryOptions(s);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(na(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(Et).catch(Et)}fetchInfiniteQuery(s){return s.behavior=Xm(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(Et).catch(Et)}ensureInfiniteQueryData(s){return s.behavior=Xm(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return ul.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(s){this.#n=s}setQueryDefaults(s,n){this.#s.set(Ci(s),{queryKey:s,defaultOptions:n})}getQueryDefaults(s){const n=[...this.#s.values()],r={};return n.forEach(l=>{Ri(s,l.queryKey)&&Object.assign(r,l.defaultOptions)}),r}setMutationDefaults(s,n){this.#a.set(Ci(s),{mutationKey:s,defaultOptions:n})}getMutationDefaults(s){const n=[...this.#a.values()],r={};return n.forEach(l=>{Ri(s,l.mutationKey)&&Object.assign(r,l.defaultOptions)}),r}defaultQueryOptions(s){if(s._defaulted)return s;const n={...this.#n.queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return n.queryHash||(n.queryHash=_c(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===bc&&(n.enabled=!1),n}defaultMutationOptions(s){return s?._defaulted?s:{...this.#n.mutations,...s?.mutationKey&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Vp=$.createContext(void 0),N0=s=>{const n=$.useContext(Vp);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},k0=({client:s,children:n})=>($.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),d.jsx(Vp.Provider,{value:s,children:n})),Ip=$.createContext(!1),D0=()=>$.useContext(Ip);Ip.Provider;function M0(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var U0=$.createContext(M0()),z0=()=>$.useContext(U0),B0=(s,n)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(n.isReset()||(s.retryOnMount=!1))},L0=s=>{$.useEffect(()=>{s.clearReset()},[s])},q0=({result:s,errorResetBoundary:n,throwOnError:r,query:l,suspense:c})=>s.isError&&!n.isReset()&&!s.isFetching&&l&&(c&&s.data===void 0||p0(r,[s.error,l])),H0=s=>{if(s.suspense){const r=c=>c==="static"?c:Math.max(c??1e3,1e3),l=s.staleTime;s.staleTime=typeof l=="function"?(...c)=>r(l(...c)):r(l),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},$0=(s,n)=>s.isLoading&&s.isFetching&&!n,G0=(s,n)=>s?.suspense&&n.isPending,Fm=(s,n,r)=>n.fetchOptimistic(s).catch(()=>{r.clearReset()});function V0(s,n,r){const l=D0(),c=z0(),h=N0(),f=h.defaultQueryOptions(s);h.getDefaultOptions().queries?._experimental_beforeQuery?.(f),f._optimisticResults=l?"isRestoring":"optimistic",H0(f),B0(f,c),L0(c);const p=!h.getQueryCache().get(f.queryHash),[y]=$.useState(()=>new n(h,f)),v=y.getOptimisticResult(f),_=!l&&s.subscribed!==!1;if($.useSyncExternalStore($.useCallback(b=>{const x=_?y.subscribe(mt.batchCalls(b)):Et;return y.updateResult(),x},[y,_]),()=>y.getCurrentResult(),()=>y.getCurrentResult()),$.useEffect(()=>{y.setOptions(f)},[f,y]),G0(f,v))throw Fm(f,y,c);if(q0({result:v,errorResetBoundary:c,throwOnError:f.throwOnError,query:h.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw v.error;return h.getDefaultOptions().queries?._experimental_afterQuery?.(f,v),f.experimental_prefetchInRender&&!ka&&$0(v,l)&&(p?Fm(f,y,c):h.getQueryCache().get(f.queryHash)?.promise)?.catch(Et).finally(()=>{y.updateResult()}),f.notifyOnChangeProps?v:y.trackResult(v)}function Pp(s,n){return V0(s,S0)}const I0=new R0({defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1}}});async function P0(s,n){const r=await fetch(s,{...n,headers:{"Content-Type":"application/json",...n?.headers}});if(!r.ok){const l=await r.text();throw new Error(`${r.status}: ${l||r.statusText}`)}return r.json()}function Q0(s,n){if(s instanceof RegExp)return{keys:!1,pattern:s};var r,l,c,h,f=[],p="",y=s.split("/");for(y[0]||y.shift();c=y.shift();)r=c[0],r==="*"?(f.push(r),p+=c[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(l=c.indexOf("?",1),h=c.indexOf(".",1),f.push(c.substring(1,~l?l:~h?h:c.length)),p+=~l&&!~h?"(?:/([^/]+?))?":"/([^/]+?)",~h&&(p+=(~l?"?":"")+"\\"+c.substring(h))):p+="/"+c;return{keys:f,pattern:new RegExp("^"+p+(n?"(?=$|/)":"/?$"),"i")}}var Gu={exports:{}},Vu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function K0(){if(Wm)return Vu;Wm=1;var s=fl();function n(b,x){return b===x&&(b!==0||1/b===1/x)||b!==b&&x!==x}var r=typeof Object.is=="function"?Object.is:n,l=s.useState,c=s.useEffect,h=s.useLayoutEffect,f=s.useDebugValue;function p(b,x){var O=x(),C=l({inst:{value:O,getSnapshot:x}}),w=C[0].inst,D=C[1];return h(function(){w.value=O,w.getSnapshot=x,y(w)&&D({inst:w})},[b,O,x]),c(function(){return y(w)&&D({inst:w}),b(function(){y(w)&&D({inst:w})})},[b]),f(O),O}function y(b){var x=b.getSnapshot;b=b.value;try{var O=x();return!r(b,O)}catch{return!0}}function v(b,x){return x()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:p;return Vu.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:_,Vu}var ep;function Y0(){return ep||(ep=1,Gu.exports=K0()),Gu.exports}var J0=Y0();const X0=Fg.useInsertionEffect,Z0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qp=Z0?$.useLayoutEffect:$.useEffect,F0=X0||Qp,xc=s=>{const n=$.useRef([s,(...r)=>n[0](...r)]).current;return F0(()=>{n[0]=s}),n[1]},W0="popstate",Ec="pushState",Tc="replaceState",e_="hashchange",tp=[W0,Ec,Tc,e_],t_=s=>{for(const n of tp)addEventListener(n,s);return()=>{for(const n of tp)removeEventListener(n,s)}},Kp=(s,n)=>J0.useSyncExternalStore(t_,s,n),n_=()=>location.search,a_=({ssrSearch:s=""}={})=>Kp(n_,()=>s),np=()=>location.pathname,s_=({ssrPath:s}={})=>Kp(np,s?()=>s:np),i_=(s,{replace:n=!1,state:r=null}={})=>history[n?Tc:Ec](r,"",s),r_=(s={})=>[s_(s),i_],ap=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ap]>"u"){for(const s of[Ec,Tc]){const n=history[s];history[s]=function(){const r=n.apply(this,arguments),l=new Event(s);return l.arguments=arguments,dispatchEvent(l),r}}Object.defineProperty(window,ap,{value:!0})}const l_=(s,n)=>n.toLowerCase().indexOf(s.toLowerCase())?"~"+n:n.slice(s.length)||"/",Yp=(s="")=>s==="/"?"":s,o_=(s,n)=>s[0]==="~"?s.slice(1):Yp(n)+s,u_=(s="",n)=>l_(sp(Yp(s)),sp(n)),sp=s=>{try{return decodeURI(s)}catch{return s}},Jp={hook:r_,searchHook:a_,parser:Q0,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:s=>s},Xp=$.createContext(Jp),Cs=()=>$.useContext(Xp),Zp={},Fp=$.createContext(Zp),c_=()=>$.useContext(Fp),Li=s=>{const[n,r]=s.hook(s);return[u_(s.base,n),xc((l,c)=>r(o_(l,s.base),c))]},Wp=()=>Li(Cs()),ey=(s,n,r,l)=>{const{pattern:c,keys:h}=n instanceof RegExp?{keys:!1,pattern:n}:s(n||"*",l),f=c.exec(r)||[],[p,...y]=f;return p!==void 0?[!0,(()=>{const v=h!==!1?Object.fromEntries(h.map((b,x)=>[b,y[x]])):f.groups;let _={...y};return v&&Object.assign(_,v),_})(),...l?[p]:[]]:[!1,null]},h_=({children:s,...n})=>{const r=Cs(),l=n.hook?Jp:r;let c=l;const[h,f]=n.ssrPath?.split("?")??[];f&&(n.ssrSearch=f,n.ssrPath=h),n.hrefs=n.hrefs??n.hook?.hrefs;let p=$.useRef({}),y=p.current,v=y;for(let _ in l){const b=_==="base"?l[_]+(n[_]||""):n[_]||l[_];y===v&&b!==v[_]&&(p.current=v={...v}),v[_]=b,(b!==l[_]||b!==c[_])&&(c=v)}return $.createElement(Xp.Provider,{value:c,children:s})},ip=({children:s,component:n},r)=>n?$.createElement(n,{params:r}):typeof s=="function"?s(r):s,d_=s=>{let n=$.useRef(Zp);const r=n.current;return n.current=Object.keys(s).length!==Object.keys(r).length||Object.entries(s).some(([l,c])=>c!==r[l])?s:r},jn=({path:s,nest:n,match:r,...l})=>{const c=Cs(),[h]=Li(c),[f,p,y]=r??ey(c.parser,s,h,n),v=d_({...c_(),...p});if(!f)return null;const _=y?$.createElement(h_,{base:y},ip(l,v)):ip(l,v);return $.createElement(Fp.Provider,{value:v,children:_})},rp=$.forwardRef((s,n)=>{const r=Cs(),[l,c]=Li(r),{to:h="",href:f=h,onClick:p,asChild:y,children:v,className:_,replace:b,state:x,...O}=s,C=xc(D=>{D.ctrlKey||D.metaKey||D.altKey||D.shiftKey||D.button!==0||(p?.(D),D.defaultPrevented||(D.preventDefault(),c(f,s)))}),w=r.hrefs(f[0]==="~"?f.slice(1):r.base+f,r);return y&&$.isValidElement(v)?$.cloneElement(v,{onClick:C,href:w}):$.createElement("a",{...O,onClick:C,href:w,className:_?.call?_(l===f):_,children:v,ref:n})}),ty=s=>Array.isArray(s)?s.flatMap(n=>ty(n&&n.type===$.Fragment?n.props.children:n)):[s],ny=({children:s,location:n})=>{const r=Cs(),[l]=Li(r);for(const c of ty(s)){let h=0;if($.isValidElement(c)&&(h=ey(r.parser,c.props.path,n||l,c.props.nest))[0])return $.cloneElement(c,{match:h})}return null},f_=s=>{const{to:n,href:r=n}=s,l=Cs(),[,c]=Li(l),h=xc(()=>c(n||r,s)),{ssrContext:f}=l;return Qp(()=>{h()},[]),f&&(f.redirectTo=n),null},ay=$.createContext(void 0);function m_({children:s}){const[n,r]=$.useState(()=>{if(typeof window<"u"){const c=localStorage.getItem("charge-theme");if(c==="light"||c==="dark")return c}return"dark"});$.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("charge-theme",n)},[n]);const l=()=>{r(c=>c==="dark"?"light":"dark")};return d.jsx(ay.Provider,{value:{theme:n,toggleTheme:l},children:s})}function p_(){const s=$.useContext(ay);if(!s)throw new Error("useTheme must be used within a ThemeProvider");return s}function ml(s,n){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&n.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,l=Object.getOwnPropertySymbols(s);c<l.length;c++)n.indexOf(l[c])<0&&Object.prototype.propertyIsEnumerable.call(s,l[c])&&(r[l[c]]=s[l[c]]);return r}function y_(s,n,r,l){function c(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function p(_){try{v(l.next(_))}catch(b){f(b)}}function y(_){try{v(l.throw(_))}catch(b){f(b)}}function v(_){_.done?h(_.value):c(_.value).then(p,y)}v((l=l.apply(s,n||[])).next())})}const v_=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class jc extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class g_ extends jc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class lp extends jc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class op extends jc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var oc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(oc||(oc={}));class __{constructor(n,{headers:r={},customFetch:l,region:c=oc.Any}={}){this.url=n,this.headers=r,this.region=c,this.fetch=v_(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return y_(this,arguments,void 0,function*(r,l={}){var c;let h,f;try{const{headers:p,method:y,body:v,signal:_,timeout:b}=l;let x={},{region:O}=l;O||(O=this.region);const C=new URL(`${this.url}/${r}`);O&&O!=="any"&&(x["x-region"]=O,C.searchParams.set("forceFunctionRegion",O));let w;v&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",w=v):typeof v=="string"?(x["Content-Type"]="text/plain",w=v):typeof FormData<"u"&&v instanceof FormData?w=v:(x["Content-Type"]="application/json",w=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?w=JSON.stringify(v):w=v;let D=_;b&&(f=new AbortController,h=setTimeout(()=>f.abort(),b),_?(D=f.signal,_.addEventListener("abort",()=>f.abort())):D=f.signal);const k=yield this.fetch(C.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),p),body:w,signal:D}).catch(de=>{throw new g_(de)}),G=k.headers.get("x-relay-error");if(G&&G==="true")throw new lp(k);if(!k.ok)throw new op(k);let H=((c=k.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),F;return H==="application/json"?F=yield k.json():H==="application/octet-stream"||H==="application/pdf"?F=yield k.blob():H==="text/event-stream"?F=k:H==="multipart/form-data"?F=yield k.formData():F=yield k.text(),{data:F,error:null,response:k}}catch(p){return{data:null,error:p,response:p instanceof op||p instanceof lp?p.context:void 0}}finally{h&&clearTimeout(h)}})}}var b_=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},w_=class{constructor(s){var n,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(r=s.isMaybeSingle)!==null&&r!==void 0?r:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,p=null,y=null,v=h.status,_=h.statusText;if(h.ok){var b,x;if(r.method!=="HEAD"){var O;const k=await h.text();k===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((O=r.headers.get("Accept"))===null||O===void 0)&&O.includes("application/vnd.pgrst.plan+text"))?p=k:p=JSON.parse(k))}const w=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),D=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");w&&D&&D.length>1&&(y=parseInt(D[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(p)&&(p.length>1?(f={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,y=null,v=406,_="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var C;const w=await h.text();try{f=JSON.parse(w),Array.isArray(f)&&h.status===404&&(p=[],f=null,v=200,_="OK")}catch{h.status===404&&w===""?(v=204,_="No Content"):f={message:w}}if(f&&r.isMaybeSingle&&(!(f==null||(C=f.details)===null||C===void 0)&&C.includes("0 rows"))&&(f=null,v=200,_="OK"),f&&r.shouldThrowOnError)throw new b_(f)}return{error:f,data:p,count:y,status:v,statusText:_}});return this.shouldThrowOnError||(c=c.catch(h=>{var f;let p="";const y=h?.cause;if(y){var v,_,b,x;const C=(v=y?.message)!==null&&v!==void 0?v:"",w=(_=y?.code)!==null&&_!==void 0?_:"";p=`${(b=h?.name)!==null&&b!==void 0?b:"FetchError"}: ${h?.message}`,p+=`

Caused by: ${(x=y?.name)!==null&&x!==void 0?x:"Error"}: ${C}`,w&&(p+=` (${w})`),y?.stack&&(p+=`
${y.stack}`)}else{var O;p=(O=h?.stack)!==null&&O!==void 0?O:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(s,n)}returns(){return this}overrideTypes(){return this}},S_=class extends w_{select(s){let n=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${s}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,n,{foreignTable:r,referencedTable:l=r}={}){const c=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(h,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:c=!1,format:h="text"}={}){var f;const p=[s?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${p};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const up=new RegExp("[,()]");var Es=class extends S_{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&up.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}notIn(s,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&up.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${r})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:r,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${c}fts${h}.${n}`),this}match(s){return Object.entries(s).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(s,n,r){return this.url.searchParams.append(s,`not.${n}.${r}`),this}or(s,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,n,r){return this.url.searchParams.append(s,`${n}.${r}`),this}},x_=class{constructor(s,{headers:n={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(n),this.schema=r,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,n){const{head:r=!1,count:l}=n??{},c=r?"HEAD":"GET";let h=!1;const f=(s??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join(""),{url:p,headers:y}=this.cloneRequestState();return p.searchParams.set("select",f),l&&y.append("Prefer",`count=${l}`),new Es({method:c,url:p,headers:y,schema:this.schema,fetch:this.fetch})}insert(s,{count:n,defaultToNull:r=!0}={}){var l;const c="POST",{url:h,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),r||f.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);h.searchParams.set("columns",y.join(","))}}return new Es({method:c,url:h,headers:f,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:c=!0}={}){var h;const f="POST",{url:p,headers:y}=this.cloneRequestState();if(y.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&p.searchParams.set("on_conflict",n),l&&y.append("Prefer",`count=${l}`),c||y.append("Prefer","missing=default"),Array.isArray(s)){const v=s.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(v.length>0){const _=[...new Set(v)].map(b=>`"${b}"`);p.searchParams.set("columns",_.join(","))}}return new Es({method:f,url:p,headers:y,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:n}={}){var r;const l="PATCH",{url:c,headers:h}=this.cloneRequestState();return n&&h.append("Prefer",`count=${n}`),new Es({method:l,url:c,headers:h,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var n;const r="DELETE",{url:l,headers:c}=this.cloneRequestState();return s&&c.append("Prefer",`count=${s}`),new Es({method:r,url:l,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},E_=class sy{constructor(n,{headers:r={},schema:l,fetch:c}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new x_(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new sy(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:l=!1,get:c=!1,count:h}={}){var f;let p;const y=new URL(`${this.url}/rpc/${n}`);let v;const _=O=>O!==null&&typeof O=="object"&&(!Array.isArray(O)||O.some(_)),b=l&&Object.values(r).some(_);b?(p="POST",v=r):l||c?(p=l?"HEAD":"GET",Object.entries(r).filter(([O,C])=>C!==void 0).map(([O,C])=>[O,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([O,C])=>{y.searchParams.append(O,C)})):(p="POST",v=r);const x=new Headers(this.headers);return b?x.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&x.set("Prefer",`count=${h}`),new Es({method:p,url:y,headers:x,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class T_{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const c=l.node,h=parseInt(c.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const j_="2.90.1",A_=`realtime-js/${j_}`,iy="1.0.0",O_="2.0.0",cp=iy,uc=1e4,C_=1e3,R_=100;var ea;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(ea||(ea={}));var st;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(st||(st={}));var tn;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(tn||(tn={}));var cc;(function(s){s.websocket="websocket"})(cc||(cc={}));var Oa;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Oa||(Oa={}));class N_{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const c=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var r,l;const c=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,l){var c,h;const f=n.topic,p=(c=n.ref)!==null&&c!==void 0?c:"",y=(h=n.join_ref)!==null&&h!==void 0?h:"",v=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(_).length===0?"":JSON.stringify(_);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+p.length+f.length+v.length+b.length,O=new ArrayBuffer(this.HEADER_LENGTH+x);let C=new DataView(O),w=0;C.setUint8(w++,this.KINDS.userBroadcastPush),C.setUint8(w++,y.length),C.setUint8(w++,p.length),C.setUint8(w++,f.length),C.setUint8(w++,v.length),C.setUint8(w++,b.length),C.setUint8(w++,r),Array.from(y,k=>C.setUint8(w++,k.charCodeAt(0))),Array.from(p,k=>C.setUint8(w++,k.charCodeAt(0))),Array.from(f,k=>C.setUint8(w++,k.charCodeAt(0))),Array.from(v,k=>C.setUint8(w++,k.charCodeAt(0))),Array.from(b,k=>C.setUint8(w++,k.charCodeAt(0)));var D=new Uint8Array(O.byteLength+l.byteLength);return D.set(new Uint8Array(O),0),D.set(new Uint8Array(l),O.byteLength),D.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[c,h,f,p,y]=l;return r({join_ref:c,ref:h,topic:f,event:p,payload:y})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),c=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,c)}}_decodeUserBroadcast(n,r,l){const c=r.getUint8(1),h=r.getUint8(2),f=r.getUint8(3),p=r.getUint8(4);let y=this.HEADER_LENGTH+4;const v=l.decode(n.slice(y,y+c));y=y+c;const _=l.decode(n.slice(y,y+h));y=y+h;const b=l.decode(n.slice(y,y+f));y=y+f;const x=n.slice(y,n.byteLength),O=p===this.JSON_ENCODING?JSON.parse(l.decode(x)):x,C={type:this.BROADCAST_EVENT,event:_,payload:O};return f>0&&(C.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class ry{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Le||(Le={}));const hp=(s,n,r={})=>{var l;const c=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=k_(f,s,n,c),h),{}):{}},k_=(s,n,r,l)=>{const c=n.find(p=>p.name===s),h=c?.type,f=r[s];return h&&!l.includes(h)?ly(h,f):hc(f)},ly=(s,n)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return z_(n,r)}switch(s){case Le.bool:return D_(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return M_(n);case Le.json:case Le.jsonb:return U_(n);case Le.timestamp:return B_(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return hc(n);default:return hc(n)}},hc=s=>s,D_=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},M_=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},U_=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},z_=(s,n)=>{if(typeof s!="string")return s;const r=s.length-1,l=s[r];if(s[0]==="{"&&l==="}"){let h;const f=s.slice(1,r);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(p=>ly(n,p))}return s},B_=s=>typeof s=="string"?s.replace(" ","T"):s,oy=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Iu{constructor(n,r,l={},c=uc){this.channel=n,this.event=r,this.payload=l,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var dp;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(dp||(dp={}));class Ai{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},c=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ai.syncState(this.state,c,h,f),this.pendingDiffs.forEach(y=>{this.state=Ai.syncDiff(this.state,y,h,f)}),this.pendingDiffs=[],p()}),this.channel._on(l.diff,{},c=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ai.syncDiff(this.state,c,h,f),p())}),this.onJoin((c,h,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:f})}),this.onLeave((c,h,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,c){const h=this.cloneDeep(n),f=this.transformState(r),p={},y={};return this.map(h,(v,_)=>{f[v]||(y[v]=_)}),this.map(f,(v,_)=>{const b=h[v];if(b){const x=_.map(D=>D.presence_ref),O=b.map(D=>D.presence_ref),C=_.filter(D=>O.indexOf(D.presence_ref)<0),w=b.filter(D=>x.indexOf(D.presence_ref)<0);C.length>0&&(p[v]=C),w.length>0&&(y[v]=w)}else p[v]=_}),this.syncDiff(h,{joins:p,leaves:y},l,c)}static syncDiff(n,r,l,c){const{joins:h,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),c||(c=()=>{}),this.map(h,(p,y)=>{var v;const _=(v=n[p])!==null&&v!==void 0?v:[];if(n[p]=this.cloneDeep(y),_.length>0){const b=n[p].map(O=>O.presence_ref),x=_.filter(O=>b.indexOf(O.presence_ref)<0);n[p].unshift(...x)}l(p,_,y)}),this.map(f,(p,y)=>{let v=n[p];if(!v)return;const _=y.map(b=>b.presence_ref);v=v.filter(b=>_.indexOf(b.presence_ref)<0),n[p]=v,c(p,v,y),v.length===0&&delete n[p]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const c=n[l];return"metas"in c?r[l]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[l]=c,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fp;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(fp||(fp={}));var Oi;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Oi||(Oi={}));var Tn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Tn||(Tn={}));class As{constructor(n,r={config:{}},l){var c,h;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Iu(this,tn.join,this.params,this.timeout),this.rejoinTimer=new ry(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(f,p)=>{this._trigger(this._replyEventName(p),f)}),this.presence=new Ai(this),this.broadcastEndpointURL=oy(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:f,presence:p,private:y}}=this.params,v=(c=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(O=>O.filter))!==null&&c!==void 0?c:[],_=!!this.bindings[Oi.PRESENCE]&&this.bindings[Oi.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,b={},x={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:_}),postgres_changes:v,private:y};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(O=>n?.(Tn.CHANNEL_ERROR,O)),this._onClose(()=>n?.(Tn.CLOSED)),this.updateJoinPayload(Object.assign({config:x},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:O})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),O===void 0){n?.(Tn.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,D=(C=w?.length)!==null&&C!==void 0?C:0,k=[];for(let G=0;G<D;G++){const H=w[G],{filter:{event:F,schema:de,table:ee,filter:Q}}=H,te=O&&O[G];if(te&&te.event===F&&As.isFilterValueEqual(te.schema,de)&&As.isFilterValueEqual(te.table,ee)&&As.isFilterValueEqual(te.filter,Q))k.push(Object.assign(Object.assign({},H),{id:te.id}));else{this.unsubscribe(),this.state=st.errored,n?.(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,n&&n(Tn.SUBSCRIBED);return}}).receive("error",O=>{this.state=st.errored,n?.(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{n?.(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===st.joined&&n===Oi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var c;if(r==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=l.timeout)!==null&&c!==void 0?c:this.timeout);if(p.status===202)return{success:!0};let y=p.statusText;try{const v=await p.json();y=v.error||v.message||y}catch{}return Promise.reject(new Error(y))}async send(n,r={}){var l,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=n,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((c=v.body)===null||c===void 0?void 0:c.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,p,y;const v=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((y=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),v.receive("ok",()=>h("ok")),v.receive("error",()=>h("error")),v.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=st.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(c=>{l=new Iu(this,tn.leave,{},n),l.receive("ok",()=>{r(),c("ok")}).receive("timeout",()=>{r(),c("timed out")}).receive("error",()=>{c("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const c=new AbortController,h=setTimeout(()=>c.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:c.signal}));return clearTimeout(h),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Iu(this,n,r,l);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>R_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var c,h;const f=n.toLocaleLowerCase(),{close:p,error:y,leave:v,join:_}=tn;if(l&&[p,y,v,_].indexOf(f)>=0&&l!==this._joinRef())return;let x=this._onMessage(f,r,l);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(O=>{var C,w,D;return((C=O.filter)===null||C===void 0?void 0:C.event)==="*"||((D=(w=O.filter)===null||w===void 0?void 0:w.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===f}).map(O=>O.callback(x,l)):(h=this.bindings[f])===null||h===void 0||h.filter(O=>{var C,w,D,k,G,H,F,de;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in O){const ee=O.id,Q=(C=O.filter)===null||C===void 0?void 0:C.event;return ee&&((w=r.ids)===null||w===void 0?void 0:w.includes(ee))&&(Q==="*"||Q?.toLocaleLowerCase()===((D=r.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))&&(!(!((k=O.filter)===null||k===void 0)&&k.table)||O.filter.table===((G=r.data)===null||G===void 0?void 0:G.table))}else{const ee=(F=(H=O?.filter)===null||H===void 0?void 0:H.event)===null||F===void 0?void 0:F.toLocaleLowerCase();return ee==="*"||ee===((de=r?.event)===null||de===void 0?void 0:de.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===f}).map(O=>{if(typeof x=="object"&&"ids"in x){const C=x.data,{schema:w,table:D,commit_timestamp:k,type:G,errors:H}=C;x=Object.assign(Object.assign({},{schema:w,table:D,commit_timestamp:k,eventType:G,new:{},old:{},errors:H}),this._getPayloadRecords(C))}O.callback(x,l)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const c=n.toLocaleLowerCase(),h={type:c,filter:r,callback:l};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&As.isEqual(c.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(tn.close,{},n)}_onError(n){this._on(tn.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=hp(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=hp(n.columns,n.old_record)),r}}const Pu=()=>{},il={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},L_=[1e3,2e3,5e3,1e4],q_=1e4,H_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $_{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uc,this.transport=null,this.heartbeatIntervalMs=il.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pu,this.ref=0,this.reconnectTimer=null,this.vsn=cp,this.logger=Pu,this.conn=null,this.sendBuffer=[],this.serializer=new N_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${cc.websocket}`,this.httpEndpoint=oy(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=T_.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ea.connecting:return Oa.Connecting;case ea.open:return Oa.Open;case ea.closing:return Oa.Closing;default:return Oa.Closed}}isConnected(){return this.connectionState()===Oa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,c=this.getChannels().find(h=>h.topic===l);if(c)return c;{const h=new As(`realtime:${n}`,r,this);return this.channels.push(h),h}}push(n){const{topic:r,event:l,payload:c,ref:h}=n,f=()=>{this.encode(n,p=>{var y;(y=this.conn)===null||y===void 0||y.send(p)})};this.log("push",`${r} ${l} (${h})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(C_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},il.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",v)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:c,payload:h,ref:f}=r,p=f?`(${f})`:"",y=h.status||"";this.log("receive",`${y} ${l} ${c} ${p}`.trim(),h),this.channels.filter(v=>v._isMember(l)).forEach(v=>v._trigger(c,h,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ea.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ea.open||this.conn.readyState===ea.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(tn.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",c=new URLSearchParams(r);return`${n}${l}${c}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([H_],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(c=>{const h={access_token:r,version:A_};r&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(tn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new ry(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},il.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,c,h,f,p,y,v,_,b,x,O;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:uc,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:il.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:Pu,this.vsn=(y=n?.vsn)!==null&&y!==void 0?y:cp,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=n?.reconnectAfterMs)!==null&&v!==void 0?v:(C=>L_[C-1]||q_),this.vsn){case iy:this.encode=(_=n?.encode)!==null&&_!==void 0?_:((C,w)=>w(JSON.stringify(C))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((C,w)=>w(JSON.parse(C)));break;case O_:this.encode=(x=n?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(O=n?.decode)!==null&&O!==void 0?O:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Ni=class extends Error{constructor(s,n){super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function G_(s,n,r){const l=new URL(n,s);if(r)for(const[c,h]of Object.entries(r))h!==void 0&&l.searchParams.set(c,h);return l.toString()}async function V_(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function I_(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:c,body:h,headers:f}){const p=G_(s.baseUrl,l,c),y=await V_(s.auth),v=await n(p,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...y,...f},body:h?JSON.stringify(h):void 0}),_=await v.text(),b=(v.headers.get("content-type")||"").includes("application/json"),x=b&&_?JSON.parse(_):_;if(!v.ok){const O=b?x:void 0,C=O?.error;throw new Ni(C?.message??`Request failed with status ${v.status}`,{status:v.status,icebergType:C?.type,icebergCode:C?.code,details:O})}return{status:v.status,headers:v.headers,data:x}}}}function rl(s){return s.join("")}var P_=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:rl(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,n){const r={namespace:s.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rl(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rl(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rl(s.namespace)}`}),!0}catch(n){if(n instanceof Ni&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(r){if(r instanceof Ni&&r.status===409)return;throw r}}};function vs(s){return s.join("")}var Q_=class{constructor(s,n="",r){this.client=s,this.prefix=n,this.accessDelegation=r}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(s,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vs(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(r){if(r instanceof Ni&&r.status===404)return!1;throw r}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(r){if(r instanceof Ni&&r.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw r}}},K_=class{constructor(s){let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const r=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=I_({baseUrl:r,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new P_(this.client,n),this.tableOps=new Q_(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},pl=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function Ve(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var Y_=class extends pl{constructor(s,n,r){super(s),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},dc=class extends pl{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}};const Ac=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),J_=()=>Response,fc=s=>{if(Array.isArray(s))return s.map(r=>fc(r));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([r,l])=>{const c=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[c]=fc(l)}),n},X_=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Z_=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function ki(s){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ki(s)}function F_(s,n){if(ki(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,n);if(ki(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function W_(s){var n=F_(s,"string");return ki(n)=="symbol"?n:n+""}function eb(s,n,r){return(n=W_(n))in s?Object.defineProperty(s,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[n]=r,s}function mp(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,l)}return r}function le(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?mp(Object(r),!0).forEach(function(l){eb(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):mp(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const Qu=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},tb=async(s,n,r)=>{s instanceof await J_()&&!r?.noResolveJson?s.json().then(l=>{const c=s.status||500,h=l?.statusCode||c+"";n(new Y_(Qu(l),c,h))}).catch(l=>{n(new dc(Qu(l),l))}):n(new dc(Qu(s),s))},nb=(s,n,r,l)=>{const c={method:s,headers:n?.headers||{}};return s==="GET"||!l?c:(X_(l)?(c.headers=le({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(l)):c.body=l,n?.duplex&&(c.duplex=n.duplex),le(le({},c),r))};async function qi(s,n,r,l,c,h){return new Promise((f,p)=>{s(r,nb(n,l,c,h)).then(y=>{if(!y.ok)throw y;return l?.noResolveJson?y:y.json()}).then(y=>f(y)).catch(y=>tb(y,p,l))})}async function Di(s,n,r,l){return qi(s,"GET",n,r,l)}async function en(s,n,r,l,c){return qi(s,"POST",n,l,c,r)}async function mc(s,n,r,l,c){return qi(s,"PUT",n,l,c,r)}async function ab(s,n,r,l){return qi(s,"HEAD",n,le(le({},r),{},{noResolveJson:!0}),l)}async function Oc(s,n,r,l,c){return qi(s,"DELETE",n,l,c,r)}var sb=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}};let uy;uy=Symbol.toStringTag;var ib=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[uy]="BlobDownloadBuilder",this.promise=null}asStream(){return new sb(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}};const rb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var lb=class{constructor(s,n={},r,l){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=r,this.fetch=Ac(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,n,r,l){var c=this;try{let h;const f=le(le({},pp),l);let p=le(le({},c.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const y=f.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),y&&h.append("metadata",c.encodeMetadata(y)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),y&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(y))):(h=r,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,y&&(p["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(p=le(le({},p),l.headers));const v=c._removeEmptyFolders(n),_=c._getFinalPath(v),b=await(s=="PUT"?mc:en)(c.fetch,`${c.url}/object/${_}`,h,le({headers:p},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:v,id:b.Id,fullPath:b.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if(Ve(h))return{data:null,error:h};throw h}}async upload(s,n,r){return this.uploadOrUpdate("POST",s,n,r)}async uploadToSignedUrl(s,n,r,l){var c=this;const h=c._removeEmptyFolders(s),f=c._getFinalPath(h),p=new URL(c.url+`/object/upload/sign/${f}`);p.searchParams.set("token",n);try{let y;const v=le({upsert:pp.upsert},l),_=le(le({},c.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&r instanceof Blob?(y=new FormData,y.append("cacheControl",v.cacheControl),y.append("",r)):typeof FormData<"u"&&r instanceof FormData?(y=r,y.append("cacheControl",v.cacheControl)):(y=r,_["cache-control"]=`max-age=${v.cacheControl}`,_["content-type"]=v.contentType),{data:{path:h,fullPath:(await mc(c.fetch,p.toString(),y,{headers:_})).Key},error:null}}catch(y){if(c.shouldThrowOnError)throw y;if(Ve(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(s,n){var r=this;try{let l=r._getFinalPath(s);const c=le({},r.headers);n?.upsert&&(c["x-upsert"]="true");const h=await en(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:c}),f=new URL(r.url+h.url),p=f.searchParams.get("token");if(!p)throw new pl("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:p},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async update(s,n,r){return this.uploadOrUpdate("PUT",s,n,r)}async move(s,n,r){var l=this;try{return{data:await en(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers}),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async copy(s,n,r){var l=this;try{return{data:{path:(await en(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async createSignedUrl(s,n,r){var l=this;try{let c=l._getFinalPath(s),h=await en(l.fetch,`${l.url}/object/sign/${c}`,le({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return h={signedUrl:encodeURI(`${l.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async createSignedUrls(s,n,r){var l=this;try{const c=await en(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:s},{headers:l.headers}),h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(f=>le(le({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${h}`):null})),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}download(s,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),c=l?`?${l}`:"",h=this._getFinalPath(s),f=()=>Di(this.fetch,`${this.url}/${r}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new ib(f,this.shouldThrowOnError)}async info(s){var n=this;const r=n._getFinalPath(s);try{return{data:fc(await Di(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async exists(s){var n=this;const r=n._getFinalPath(s);try{return await ab(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ve(l)&&l instanceof dc){const c=l.originalError;if([400,404].includes(c?.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,n){const r=this._getFinalPath(s),l=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&l.push(c);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let p=l.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}async remove(s){var n=this;try{return{data:await Oc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async list(s,n,r){var l=this;try{const c=le(le(le({},rb),n),{},{prefix:s||""});return{data:await en(l.fetch,`${l.url}/object/list/${l.bucketId}`,c,{headers:l.headers},r),error:null}}catch(c){if(l.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}}async listV2(s,n){var r=this;try{const l=le({},s);return{data:await en(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const cy="2.90.1",hy={"X-Client-Info":`storage-js/${cy}`};var ob=class{constructor(s,n={},r,l){this.shouldThrowOnError=!1;const c=new URL(s);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=le(le({},hy),n),this.fetch=Ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var n=this;try{const r=n.listBucketOptionsToQueryString(s);return{data:await Di(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async getBucket(s){var n=this;try{return{data:await Di(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async createBucket(s,n={public:!1}){var r=this;try{return{data:await en(r.fetch,`${r.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async updateBucket(s,n){var r=this;try{return{data:await mc(r.fetch,`${r.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async emptyBucket(s){var n=this;try{return{data:await en(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await Oc(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},ub=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},hy),n),this.fetch=Ac(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await en(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async listBuckets(s){var n=this;try{const r=new URLSearchParams;s?.limit!==void 0&&r.set("limit",s.limit.toString()),s?.offset!==void 0&&r.set("offset",s.offset.toString()),s?.sortColumn&&r.set("sortColumn",s.sortColumn),s?.sortOrder&&r.set("sortOrder",s.sortOrder),s?.search&&r.set("search",s.search);const l=r.toString(),c=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Di(n.fetch,c,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await Oc(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}from(s){var n=this;if(!Z_(s))throw new pl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new K_({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(c,h){const f=c[h];return typeof f!="function"?f:async(...p)=>{try{return{data:await f.apply(c,p),error:null}}catch(y){if(l)throw y;return{data:null,error:y}}}}})}};const Cc={"X-Client-Info":`storage-js/${cy}`,"Content-Type":"application/json"};var dy=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function zt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var Ku=class extends dy{constructor(s,n,r){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},cb=class extends dy{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}};const Rc=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),hb=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},yp=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),db=async(s,n,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!r?.noResolveJson){const l=s.status||500,c=s;if(typeof c.json=="function")c.json().then(h=>{const f=h?.statusCode||h?.code||l+"";n(new Ku(yp(h),l,f))}).catch(()=>{const h=l+"";n(new Ku(c.statusText||`HTTP ${l} error`,l,h))});else{const h=l+"";n(new Ku(c.statusText||`HTTP ${l} error`,l,h))}}else n(new cb(yp(s),s))},fb=(s,n,r,l)=>{const c={method:s,headers:n?.headers||{}};return l?(hb(l)?(c.headers=le({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(l)):c.body=l,le(le({},c),r)):c};async function mb(s,n,r,l,c,h){return new Promise((f,p)=>{s(r,fb(n,l,c,h)).then(y=>{if(!y.ok)throw y;if(l?.noResolveJson)return y;const v=y.headers.get("content-type");return!v||!v.includes("application/json")?{}:y.json()}).then(y=>f(y)).catch(y=>db(y,p,l))})}async function Bt(s,n,r,l,c){return mb(s,"POST",n,l,c,r)}var pb=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Cc),n),this.fetch=Rc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async getIndex(s,n){var r=this;try{return{data:await Bt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(zt(l))return{data:null,error:l};throw l}}async listIndexes(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async deleteIndex(s,n){var r=this;try{return{data:await Bt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:r.headers})||{},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(zt(l))return{data:null,error:l};throw l}}},yb=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Cc),n),this.fetch=Rc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var n=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Bt(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async getVectors(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async listVectors(s){var n=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Bt(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async queryVectors(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async deleteVectors(s){var n=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Bt(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}},vb=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=le(le({},Cc),n),this.fetch=Rc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async getBucket(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async listBuckets(s={}){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await Bt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}},gb=class extends vb{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new _b(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,r=this;return n().call(r,s)}async getBucket(s){var n=()=>super.getBucket,r=this;return n().call(r,s)}async listBuckets(s={}){var n=()=>super.listBuckets,r=this;return n().call(r,s)}async deleteBucket(s){var n=()=>super.deleteBucket,r=this;return n().call(r,s)}},_b=class extends pb{constructor(s,n,r,l){super(s,n,l),this.vectorBucketName=r}async createIndex(s){var n=()=>super.createIndex,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,s)}index(s){return new bb(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},bb=class extends yb{constructor(s,n,r,l,c){super(s,n,c),this.vectorBucketName=r,this.indexName=l}async putVectors(s){var n=()=>super.putVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(s){var n=()=>super.getVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,r=this;return n().call(r,le(le({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},wb=class extends ob{constructor(s,n={},r,l){super(s,n,r,l)}from(s){return new lb(this.url,this.headers,s,this.fetch)}get vectors(){return new gb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ub(this.url+"/iceberg",this.headers,this.fetch)}};const fy="2.90.1",Ts=30*1e3,pc=3,Yu=pc*Ts,Sb="http://localhost:9999",xb="supabase.auth.token",Eb={"X-Client-Info":`gotrue-js/${fy}`},yc="X-Supabase-Api-Version",my={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Tb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jb=600*1e3;class Mi extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function W(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Ab extends Mi{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function Ob(s){return W(s)&&s.name==="AuthApiError"}class Ca extends Mi{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class An extends Mi{constructor(n,r,l,c){super(n,l,c),this.name=r,this.status=l}}class Ut extends An{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Cb(s){return W(s)&&s.name==="AuthSessionMissingError"}class gs extends An{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ll extends An{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ol extends An{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rb(s){return W(s)&&s.name==="AuthImplicitGrantRedirectError"}class vp extends An{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nb extends An{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class vc extends An{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Ju(s){return W(s)&&s.name==="AuthRetryableFetchError"}class gp extends An{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class gc extends An{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_p=` 	
\r=`.split(""),kb=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<_p.length;n+=1)s[_p[n].charCodeAt(0)]=-2;for(let n=0;n<cl.length;n+=1)s[cl[n].charCodeAt(0)]=n;return s})();function bp(s,n,r){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(cl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(cl[l]),n.queuedBits-=6}}function py(s,n,r){const l=kb[s];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function wp(s){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=f=>{Ub(f,l,r)};for(let f=0;f<s.length;f+=1)py(s.charCodeAt(f),c,h);return n.join("")}function Db(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Mb(s,n){for(let r=0;r<s.length;r+=1){let l=s.charCodeAt(r);if(l>55295&&l<=56319){const c=(l-55296)*1024&65535;l=(s.charCodeAt(r+1)-56320&65535|c)+65536,r+=1}Db(l,n)}}function Ub(s,n,r){if(n.utf8seq===0){if(s<=127){r(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Os(s){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};for(let c=0;c<s.length;c+=1)py(s.charCodeAt(c),r,l);return new Uint8Array(n)}function zb(s){const n=[];return Mb(s,r=>n.push(r)),new Uint8Array(n)}function Na(s){const n=[],r={queue:0,queuedBits:0},l=c=>{n.push(c)};return s.forEach(c=>bp(c,r,l)),bp(null,r,l),n.join("")}function Bb(s){return Math.round(Date.now()/1e3)+s}function Lb(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",xa={tested:!1,writable:!1},yy=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xa.tested)return xa.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),xa.tested=!0,xa.writable=!0}catch{xa.tested=!0,xa.writable=!1}return xa.writable};function qb(s){const n={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((c,h)=>{n[h]=c})}catch{}return r.searchParams.forEach((l,c)=>{n[c]=l}),n}const vy=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Hb=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",js=async(s,n,r)=>{await s.setItem(n,JSON.stringify(r))},Ea=async(s,n)=>{const r=await s.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dt=async(s,n)=>{await s.removeItem(n)};class yl{constructor(){this.promise=new yl.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}yl.promiseConstructor=Promise;function Xu(s){const n=s.split(".");if(n.length!==3)throw new gc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Tb.test(n[l]))throw new gc("JWT not in base64url format");return{header:JSON.parse(wp(n[0])),payload:JSON.parse(wp(n[1])),signature:Os(n[2]),raw:{header:n[0],payload:n[1]}}}async function $b(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function Gb(s,n){return new Promise((l,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await s(h);if(!n(h,null,f)){l(f);return}}catch(f){if(!n(h,f)){c(f);return}}})()})}function Vb(s){return("0"+s.toString(16)).substr(-2)}function Ib(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let c="";for(let h=0;h<56;h++)c+=r.charAt(Math.floor(Math.random()*l));return c}return crypto.getRandomValues(n),Array.from(n,Vb).join("")}async function Pb(s){const r=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",r),c=new Uint8Array(l);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function Qb(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await Pb(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _s(s,n,r=!1){const l=Ib();let c=l;r&&(c+="/PASSWORD_RECOVERY"),await js(s,`${n}-code-verifier`,c);const h=await Qb(l);return[h,l===h?"plain":"s256"]}const Kb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yb(s){const n=s.headers.get(yc);if(!n||!n.match(Kb))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Jb(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function Xb(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bs(s){if(!Zb.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zu(){const s={};return new Proxy(s,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fb(s,n){return new Proxy(s,{get:(r,l,c)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,c)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,c)}})}function Sp(s){return JSON.parse(JSON.stringify(s))}const ja=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Wb=[502,503,504];async function xp(s){var n;if(!Hb(s))throw new vc(ja(s),0);if(Wb.includes(s.status))throw new vc(ja(s),s.status);let r;try{r=await s.json()}catch(h){throw new Ca(ja(h),h)}let l;const c=Yb(s);if(c&&c.getTime()>=my["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new gp(ja(r),s.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Ut}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new gp(ja(r),s.status,r.weak_password.reasons);throw new Ab(ja(r),s.status||500,l)}const e1=(s,n,r,l)=>{const c={method:s,headers:n?.headers||{}};return s==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(l),Object.assign(Object.assign({},c),r))};async function re(s,n,r,l){var c;const h=Object.assign({},l?.headers);h[yc]||(h[yc]=my["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(c=l?.query)!==null&&c!==void 0?c:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",y=await t1(s,n,r+p,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(y):{data:Object.assign({},y),error:null}}async function t1(s,n,r,l,c,h){const f=e1(n,l,c,h);let p;try{p=await s(r,Object.assign({},f))}catch(y){throw console.error(y),new vc(ja(y),0)}if(p.ok||await xp(p),l?.noResolveJson)return p;try{return await p.json()}catch(y){await xp(y)}}function Wt(s){var n;let r=null;s1(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=Bb(s.expires_in)));const l=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:r,user:l},error:null}}function Ep(s){const n=Wt(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=s.weak_password),n}function ta(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function n1(s){return{data:s,error:null}}function a1(s){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:h}=s,f=ml(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:r,hashed_token:l,redirect_to:c,verification_type:h},y=Object.assign({},f);return{data:{properties:p,user:y},error:null}}function Tp(s){return s}function s1(s){return s.access_token&&s.refresh_token&&s.expires_in}const Fu=["global","local","others"];class i1{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=vy(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=Fu[0]){if(Fu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fu.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(W(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ta})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=ml(n,["options"]),c=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(c.new_email=l?.newEmail,delete c.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:a1,redirectTo:r?.redirectTo})}catch(r){if(W(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ta})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,c,h,f,p,y;try{const v={nextPage:null,lastPage:0,total:0},_=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Tp});if(_.error)throw _.error;const b=await _.json(),x=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(y=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return O.length>0&&(O.forEach(C=>{const w=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(C.split(";")[1].split("=")[1]);v[`${D}Page`]=w}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},b),v),error:null}}catch(v){if(W(v))return{data:{users:[]},error:v};throw v}}async getUserById(n){bs(n);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ta})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){bs(n);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:ta})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){bs(n);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:ta})}catch(l){if(W(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){bs(n.userId);try{const{data:r,error:l}=await re(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:r,error:l}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _deleteFactor(n){bs(n.userId),bs(n.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,c,h,f,p,y;try{const v={nextPage:null,lastPage:0,total:0},_=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:Tp});if(_.error)throw _.error;const b=await _.json(),x=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(y=(p=_.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&y!==void 0?y:[];return O.length>0&&(O.forEach(C=>{const w=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(C.split(";")[1].split("=")[1]);v[`${D}Page`]=w}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},b),v),error:null}}catch(v){if(W(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(W(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(W(r))return{data:null,error:r};throw r}}}function jp(s={}){return{getItem:n=>s[n]||null,setItem:(n,r)=>{s[n]=r},removeItem:n=>{delete s[n]}}}const ws={debug:!!(globalThis&&yy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gy extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class r1 extends gy{}async function l1(s,n,r){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async c=>{if(c){ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,c.name);try{return await r()}finally{ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,c.name)}}else{if(n===0)throw ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new r1(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(ws.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function o1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _y(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function u1(s){return parseInt(s,16)}function c1(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function h1(s){var n;const{chainId:r,domain:l,expirationTime:c,issuedAt:h=new Date,nonce:f,notBefore:p,requestId:y,resources:v,scheme:_,uri:b,version:x}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const O=_y(s.address),C=_?`${_}://${l}`:l,w=s.statement?`${s.statement}
`:"",D=`${C} wants you to sign in with your Ethereum account:
${O}

${w}`;let k=`URI: ${b}
Version: ${x}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(c&&(k+=`
Expiration Time: ${c.toISOString()}`),p&&(k+=`
Not Before: ${p.toISOString()}`),y&&(k+=`
Request ID: ${y}`),v){let G=`
Resources:`;for(const H of v){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);G+=`
- ${H}`}k+=G}return`${D}
${k}`}class tt extends Error{constructor({message:n,code:r,cause:l,name:c}){var h;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=c??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class hl extends tt{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function d1({error:s,options:n}){var r,l,c;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new tt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return h.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(by(f)){if(h.rp.id!==f)return new tt({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function f1({error:s,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new tt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(by(l)){if(r.rpId!==l)return new tt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class m1{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const p1=new m1;function y1(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:r,excludeCredentials:l}=s,c=ml(s,["challenge","user","excludeCredentials"]),h=Os(n).buffer,f=Object.assign(Object.assign({},r),{id:Os(r.id).buffer}),p=Object.assign(Object.assign({},c),{challenge:h,user:f});if(l&&l.length>0){p.excludeCredentials=new Array(l.length);for(let y=0;y<l.length;y++){const v=l[y];p.excludeCredentials[y]=Object.assign(Object.assign({},v),{id:Os(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function v1(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:r}=s,l=ml(s,["challenge","allowCredentials"]),c=Os(n).buffer,h=Object.assign(Object.assign({},l),{challenge:c});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const p=r[f];h.allowCredentials[f]=Object.assign(Object.assign({},p),{id:Os(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function g1(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:Na(new Uint8Array(s.response.attestationObject)),clientDataJSON:Na(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function _1(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,l=s.getClientExtensionResults(),c=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Na(new Uint8Array(c.authenticatorData)),clientDataJSON:Na(new Uint8Array(c.clientDataJSON)),signature:Na(new Uint8Array(c.signature)),userHandle:c.userHandle?Na(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function by(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Ap(){var s,n;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function b1(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",n)}:{data:null,error:new hl("Empty credential response",n)}}catch(n){return{data:null,error:d1({error:n,options:s})}}}async function w1(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new hl("Browser returned unexpected credential type",n)}:{data:null,error:new hl("Empty credential response",n)}}catch(n){return{data:null,error:f1({error:n,options:s})}}}const S1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},x1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function dl(...s){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),r=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),l={};for(const c of s)if(c)for(const h in c){const f=c[h];if(f!==void 0)if(Array.isArray(f))l[h]=f;else if(r(f))l[h]=f;else if(n(f)){const p=l[h];n(p)?l[h]=dl(p,f):l[h]=dl(f)}else l[h]=f}return l}function E1(s,n){return dl(S1,s,n||{})}function T1(s,n){return dl(x1,s,n||{})}class j1{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:c},h){try{const{data:f,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!f)return{data:null,error:p};const y=c??p1.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:v}=f.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${l}`),v.displayName||(v.displayName=v.name)}switch(f.webauthn.type){case"create":{const v=E1(f.webauthn.credential_options.publicKey,h?.create),{data:_,error:b}=await b1({publicKey:v,signal:y});return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}case"request":{const v=T1(f.webauthn.credential_options.publicKey,h?.request),{data:_,error:b}=await w1(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:v,signal:y}));return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}}}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new Ca("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!r)return{data:null,error:new Mi("rpId is required for WebAuthn authentication")};try{if(!Ap())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:c},{request:h});if(!f)return{data:null,error:p};const{webauthn:y}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:y.type,rpId:r,rpOrigins:l,credential_response:y.credential_response}})}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new Ca("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!r)return{data:null,error:new Mi("rpId is required for WebAuthn registration")};try{if(!Ap())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:f,error:p}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(_=>{var b;return(b=_.data)===null||b===void 0?void 0:b.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===n&&x.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:p};const{data:y,error:v}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:c},{create:h});return y?this._verify({factorId:f.id,challengeId:y.challengeId,webauthn:{rpId:r,rpOrigins:l,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:v}}catch(f){return W(f)?{data:null,error:f}:{data:null,error:new Ca("Unexpected error in register",f)}}}}o1();const A1={url:Sb,storageKey:xb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Eb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Op(s,n,r){return await r()}const Ss={};class Ui{get jwks(){var n,r;return(r=(n=Ss[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Ss[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ss[this.storageKey]=Object.assign(Object.assign({},Ss[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},A1),n);if(this.storageKey=h.storageKey,this.instanceID=(r=Ui.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ui.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&ft()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new i1({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=vy(h.fetch),this.lock=h.lock||Op,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&ft()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=l1:this.lock=Op,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new j1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:yy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jp(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=jp(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${fy}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(ft()&&(r=qb(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ft()&&this.detectSessionInUrl&&l!=="none"){const{data:c,error:h}=await this._getSessionFromURL(r,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Rb(h)){const y=(n=h.details)===null||n===void 0?void 0:n.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:p}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return W(r)?this._returnResult({error:r}):this._returnResult({error:new Ca("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,c;try{const h=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Wt}),{data:f,error:p}=h;if(p||!f)return this._returnResult({data:{user:null,session:null},error:p});const y=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(h){if(W(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var r,l,c;try{let h;if("email"in n){const{email:_,password:b,options:x}=n;let O=null,C=null;this.flowType==="pkce"&&([O,C]=await _s(this.storage,this.storageKey)),h=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:_,password:b,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:O,code_challenge_method:C},xform:Wt})}else if("phone"in n){const{phone:_,password:b,options:x}=n;h=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:b,data:(l=x?.data)!==null&&l!==void 0?l:{},channel:(c=x?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Wt})}else throw new ll("You must provide either an email or phone number and a password");const{data:f,error:p}=h;if(p||!f)return await dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const y=f.session,v=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(h){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let r;if("email"in n){const{email:h,password:f,options:p}=n;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ep})}else if("phone"in n){const{phone:h,password:f,options:p}=n;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Ep})}else throw new ll("You must provide either an email or phone number and a password");const{data:l,error:c}=r;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const h=new gs;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:c})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,c,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,c,h,f,p,y,v,_,b,x;let O,C;if("message"in n)O=n.message,C=n.signature;else{const{chain:w,wallet:D,statement:k,options:G}=n;let H;if(ft())if(typeof D=="object")H=D;else{const Re=window;if("ethereum"in Re&&typeof Re.ethereum=="object"&&"request"in Re.ethereum&&typeof Re.ethereum.request=="function")H=Re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=D}const F=new URL((r=G?.url)!==null&&r!==void 0?r:window.location.href),de=await H.request({method:"eth_requestAccounts"}).then(Re=>Re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!de||de.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ee=_y(de[0]);let Q=(l=G?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!Q){const Re=await H.request({method:"eth_chainId"});Q=u1(Re)}const te={domain:F.host,address:ee,statement:k,uri:F.href,version:"1",chainId:Q,nonce:(c=G?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(h=G?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=G?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(y=G?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(v=G?.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(_=G?.signInWithEthereum)===null||_===void 0?void 0:_.resources};O=h1(te),C=await H.request({method:"personal_sign",params:[c1(O),ee]})}try{const{data:w,error:D}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:C},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Wt});if(D)throw D;if(!w||!w.session||!w.user){const k=new gs;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:D})}catch(w){if(W(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(n){var r,l,c,h,f,p,y,v,_,b,x,O;let C,w;if("message"in n)C=n.message,w=n.signature;else{const{chain:D,wallet:k,statement:G,options:H}=n;let F;if(ft())if(typeof k=="object")F=k;else{const ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))F=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=k}const de=new URL((r=H?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const ee=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:de.host,uri:de.href}),G?{statement:G}:null));let Q;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")Q=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)Q=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)C=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),w=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${de.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${de.href}`,`Issued At: ${(c=(l=H?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=H?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((f=H?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((p=H?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((y=H?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((v=H?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((b=(_=H?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||b===void 0)&&b.length?["Resources",...H.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const ee=await F.signMessage(new TextEncoder().encode(C),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=ee}}try{const{data:D,error:k}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Na(w)},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(O=n.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Wt});if(k)throw k;if(!D||!D.session||!D.user){const G=new gs;return this._returnResult({data:{user:null,session:null},error:G})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:k})}catch(D){if(W(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async _exchangeCodeForSession(n){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`),[l,c]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Nb;const{data:h,error:f}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Wt});if(await dt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const p=new gs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:f})}catch(h){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:r,provider:l,token:c,access_token:h,nonce:f}=n,p=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:c,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Wt}),{data:y,error:v}=p;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!y||!y.session||!y.user){const _=new gs;return this._returnResult({data:{user:null,session:null},error:_})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:v})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,c,h,f;try{if("email"in n){const{email:p,options:y}=n;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await _s(this.storage,this.storageKey));const{error:b}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(r=y?.data)!==null&&r!==void 0?r:{},create_user:(l=y?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:v,code_challenge_method:_},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:p,options:y}=n,{data:v,error:_}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(h=y?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(f=y?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v?.message_id},error:_})}throw new ll("You must provide either an email or phone number.")}catch(p){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(n){var r,l;try{let c,h;"options"in n&&(c=(r=n.options)===null||r===void 0?void 0:r.redirectTo,h=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:p}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:Wt});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const y=f.session,v=f.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:v,session:y},error:null})}catch(c){if(W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var r,l,c,h,f;try{let p=null,y=null;this.flowType==="pkce"&&([p,y]=await _s(this.storage,this.storageKey));const v=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:y}),headers:this.headers,xform:n1});return!((h=v.data)===null||h===void 0)&&h.url&&ft()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(p){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Ut;const{error:c}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:c,options:h}=n,{error:f}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:c,options:h}=n,{data:f,error:p}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:p})}throw new ll("You must provide either an email or phone number and a type")}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await Ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Yu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await Ea(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Zu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Fb(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ta}):await this._useSession(async r=>{var l,c,h;const{data:f,error:p}=r;if(p)throw p;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:ta})})}catch(r){if(W(r))return Cb(r)&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:c,error:h}=l;if(h)throw h;if(!c.session)throw new Ut;const f=c.session;let p=null,y=null;this.flowType==="pkce"&&n.email!=null&&([p,y]=await _s(this.storage,this.storageKey));const{data:v,error:_}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:y}),jwt:f.access_token,xform:ta});if(_)throw _;return f.user=v.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ut;const r=Date.now()/1e3;let l=r,c=!0,h=null;const{payload:f}=Xu(n.access_token);if(f.exp&&(l=f.exp,c=l<=r),c){const{data:p,error:y}=await this._callRefreshToken(n.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p)return{data:{user:null,session:null},error:null};h=p}else{const{data:p,error:y}=await this._getUser(n.access_token);if(y)throw y;h={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(W(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:p}=r;if(p)throw p;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Ut;const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ft())throw new ol("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ol(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ol("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new vp("No code detected.");const{data:G,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:c,access_token:h,refresh_token:f,expires_in:p,expires_at:y,token_type:v}=n;if(!h||!p||!f||!v)throw new ol("No session defined in URL");const _=Math.round(Date.now()/1e3),b=parseInt(p);let x=_+b;y&&(x=parseInt(y));const O=x-_;O*1e3<=Ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${b}s`);const C=x-b;_-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,x,_):_-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,x,_);const{data:w,error:D}=await this._getUser(h);if(D)throw D;const k={provider_token:l,provider_refresh_token:c,access_token:h,expires_in:b,expires_at:x,refresh_token:f,token_type:v,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:n.type},error:null})}catch(l){if(W(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await Ea(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:c,error:h}=r;if(h)return this._returnResult({error:h});const f=(l=c.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(Ob(p)&&(p.status===404||p.status===401||p.status===403)))return this._returnResult({error:p})}return n!=="others"&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=Lb(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,c;try{const{data:{session:h},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,r={}){let l=null,c=null;this.flowType==="pkce"&&([l,c]=await _s(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:c,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:c}=await this._useSession(async h=>{var f,p,y,v,_;const{data:b,error:x}=h;if(x)throw x;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(y=n.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",O,{headers:this.headers,jwt:(_=(v=b.session)===null||v===void 0?void 0:v.access_token)!==null&&_!==void 0?_:void 0})});if(c)throw c;return ft()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(W(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:c,data:{session:h}}=r;if(c)throw c;const{options:f,provider:p,token:y,access_token:v,nonce:_}=n,b=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:p,id_token:y,access_token:v,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wt}),{data:x,error:O}=b;return O?this._returnResult({data:{user:null,session:null},error:O}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new gs}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:O}))}catch(c){if(await dt(this.storage,`${this.storageKey}-code-verifier`),W(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,c;const{data:h,error:f}=r;if(f)throw f;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await Gb(async c=>(c>0&&await $b(200*Math.pow(2,c-1)),this._debug(r,"refreshing attempt",c),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Wt})),(c,h)=>{const f=200*Math.pow(2,c);return h&&Ju(h)&&Date.now()+f-l<Ts})}catch(l){if(this._debug(r,"error",l),W(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),ft()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const c=await Ea(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await js(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f?.user)!==null&&n!==void 0?n:Zu()}else if(c&&!c.user&&!c.user){const f=await Ea(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await dt(this.storage,this.storageKey+"-user"),await js(this.storage,this.storageKey,c)):c.user=Zu()}if(this._debug(l,"session from storage",c),!this._isValidSession(c)){this._debug(l,"session is not valid"),c!==null&&await this._removeSession();return}const h=((r=c.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Yu;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${Yu}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Ju(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(c.access_token);!p&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(l,"error",c),console.error(c);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new yl;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new Ut;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const p={data:h.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(h){if(this._debug(c,"error",h),W(h)){const f={data:null,error:h};return Ju(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,r,l=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,r)}catch(y){h.push(y)}});if(await Promise.all(f),h.length>0){for(let p=0;p<h.length;p+=1)console.error(h[p]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await dt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await js(this.userStorage,this.storageKey+"-user",{user:r.user});const c=Object.assign({},r);delete c.user;const h=Sp(c);await js(this.storage,this.storageKey,h)}else{const c=Sp(r);await js(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dt(this.storage,this.storageKey),await dt(this.storage,this.storageKey+"-code-verifier"),await dt(this.storage,this.storageKey+"-user"),this.userStorage&&await dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ts);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((l.expires_at*1e3-n)/Ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Ts}ms, refresh threshold is ${pc} ticks`),c<=pc&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof gy)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const c=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&c.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await _s(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(p.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);c.push(h.toString())}return l?.skipBrowserRedirect&&c.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:c,error:h}=r;return h?this._returnResult({data:null,error:h}):await re(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,c;const{data:h,error:f}=r;if(f)return this._returnResult({data:null,error:f});const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:y,error:v}=await re(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return v?this._returnResult({data:null,error:v}):(n.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?g1(n.webauthn.credential_response):_1(n.webauthn.credential_response)})}:{code:n.code}),{data:p,error:y}=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:y}))})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:c,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:p}=f;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:y1(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:v1(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=r?.factors)!==null&&n!==void 0?n:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Xu(l.access_token);let f=null;h.aal&&(f=h.aal);let p=f;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const v=h.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Ut});const f=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&ft()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:c},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new Ut});const f=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return f.data&&f.data.redirect_url&&ft()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(n){if(W(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;return c?this._returnResult({data:null,error:c}):l?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ut})})}catch(r){if(W(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(p=>p.kid===n);if(l)return l;const c=Date.now();if(l=this.jwks.keys.find(p=>p.kid===n),l&&this.jwks_cached_at+jb>c)return l;const{data:h,error:f}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,l=h.keys.find(p=>p.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:O,error:C}=await this.getSession();if(C||!O.session)return this._returnResult({data:null,error:C});l=O.session.access_token}const{header:c,payload:h,signature:f,raw:{header:p,payload:y}}=Xu(l);r?.allowExpired||Jb(h.exp);const v=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!v){const{error:O}=await this.getUser(l);if(O)throw O;return{data:{claims:h,header:c,signature:f},error:null}}const _=Xb(c.alg),b=await crypto.subtle.importKey("jwk",v,_,!0,["verify"]);if(!await crypto.subtle.verify(_,b,f,zb(`${p}.${y}`)))throw new gc("Invalid JWT signature");return{data:{claims:h,header:c,signature:f},error:null}}catch(l){if(W(l))return this._returnResult({data:null,error:l});throw l}}}Ui.nextInstanceID={};const O1=Ui,C1="2.90.1";let ji="";typeof Deno<"u"?ji="deno":typeof document<"u"?ji="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ji="react-native":ji="node";const R1={"X-Client-Info":`supabase-js-${ji}/${C1}`},N1={headers:R1},k1={schema:"public"},D1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},M1={};function zi(s){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zi(s)}function U1(s,n){if(zi(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,n);if(zi(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function z1(s){var n=U1(s,"string");return zi(n)=="symbol"?n:n+""}function B1(s,n,r){return(n=z1(n))in s?Object.defineProperty(s,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[n]=r,s}function Cp(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),r.push.apply(r,l)}return r}function Ke(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Cp(Object(r),!0).forEach(function(l){B1(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Cp(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const L1=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),q1=()=>Headers,H1=(s,n,r)=>{const l=L1(r),c=q1();return async(h,f)=>{var p;const y=(p=await n())!==null&&p!==void 0?p:s;let v=new c(f?.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${y}`),l(h,Ke(Ke({},f),{},{headers:v}))}};function $1(s){return s.endsWith("/")?s:s+"/"}function G1(s,n){var r,l;const{db:c,auth:h,realtime:f,global:p}=s,{db:y,auth:v,realtime:_,global:b}=n,x={db:Ke(Ke({},y),c),auth:Ke(Ke({},v),h),realtime:Ke(Ke({},_),f),storage:{},global:Ke(Ke(Ke({},b),p),{},{headers:Ke(Ke({},(r=b?.headers)!==null&&r!==void 0?r:{}),(l=p?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?x.accessToken=s.accessToken:delete x.accessToken,x}function V1(s){const n=s?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($1(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var I1=class extends O1{constructor(s){super(s)}},P1=class{constructor(s,n,r){var l,c;this.supabaseUrl=s,this.supabaseKey=n;const h=V1(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:k1,realtime:M1,auth:Ke(Ke({},D1),{},{storageKey:f}),global:N1},y=G1(r??{},p);if(this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=y.auth)!==null&&v!==void 0?v:{},this.headers,y.global.fetch)}this.fetch=H1(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new E_(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new wb(this.storageUrl.href,this.headers,this.fetch,r?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new __(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,r)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,r;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:c,storageKey:h,flowType:f,lock:p,debug:y,throwOnError:v},_,b){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new I1({url:this.authUrl.href,headers:Ke(Ke({},x),_),storageKey:h,autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:c,flowType:f,lock:p,debug:y,throwOnError:v,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new $_(this.realtimeUrl.href,Ke(Ke({},s),{},{params:Ke(Ke({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(s,n,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Q1=(s,n,r)=>new P1(s,n,r);function K1(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const n=s.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}K1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Y1="https://txoyxidyfqetbillypdt.supabase.co/",J1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InR4b3l4aWR5ZnFldGJpbGx5cGR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NjY5MTMsImV4cCI6MjA4NDI0MjkxM30.Sy4QkVas9wcVYBMZIDbvz4pDT5SsFZiDi4w4SuMGcDM",Ei=Q1(Y1,J1);function X1(){const[s,n]=$.useState(null),[r,l]=$.useState(null),[c,h]=$.useState(!0);return $.useEffect(()=>{Ei.auth.getSession().then(({data:{session:_}})=>{l(_),n(_?.user??null),h(!1)});const{data:{subscription:v}}=Ei.auth.onAuthStateChange(async(_,b)=>{if(l(b),n(b?.user??null),h(!1),_==="SIGNED_IN"&&b)try{await fetch("/api/auth/supabase-sync",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({accessToken:b.access_token,user:{id:b.user.id,email:b.user.email,name:b.user.user_metadata?.full_name||b.user.user_metadata?.name,avatar:b.user.user_metadata?.avatar_url}})})}catch(x){console.error("Failed to sync session with backend:",x)}});return()=>v.unsubscribe()},[]),{user:s,session:r,isLoading:c,isAuthenticated:!!r,signInWithGoogle:async()=>{const{error:v}=await Ei.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/dashboard`}});if(v)throw v},signInWithApple:async()=>{const{error:v}=await Ei.auth.signInWithOAuth({provider:"apple",options:{redirectTo:`${window.location.origin}/dashboard`}});if(v)throw v},signOut:async()=>{const{error:v}=await Ei.auth.signOut();if(v)throw v;await fetch("/api/logout",{credentials:"include"})}}}function wy(){const{data:s,isLoading:n,refetch:r}=Pp({queryKey:["/api/auth/user"],queryFn:()=>P0("/api/auth/user"),retry:!1});return{user:s,isLoading:n,isAuthenticated:!!s,refetch:r}}const Z1="modulepreload",F1=function(s){return"/"+s},Rp={},Hi=function(n,r,l){let c=Promise.resolve();if(r&&r.length>0){let y=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");c=y(r.map(v=>{if(v=F1(v),v in Rp)return;Rp[v]=!0;const _=v.endsWith(".css"),b=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${b}`))return;const x=document.createElement("link");if(x.rel=_?"stylesheet":Z1,_||(x.as="script"),x.crossOrigin="",x.href=v,p&&x.setAttribute("nonce",p),document.head.appendChild(x),_)return new Promise((O,C)=>{x.addEventListener("load",O),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${v}`)))})}))}function h(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return c.then(f=>{for(const p of f||[])p.status==="rejected"&&h(p.reason);return n().catch(h)})},W1="_sidebar_csryl_1",ew="_collapsed_csryl_15",tw="_header_csryl_19",nw="_logo_csryl_28",aw="_tagline_csryl_44",sw="_betaBadge_csryl_52",iw="_toggleBtn_csryl_65",rw="_toggleIcon_csryl_83",lw="_rotated_csryl_90",ow="_logoLink_csryl_94",uw="_nav_csryl_108",cw="_active_csryl_140",hw="_navItem_csryl_145",dw="_navIcon_csryl_180",fw="_navText_csryl_194",mw="_label_csryl_200",pw="_description_csryl_205",yw="_footer_csryl_217",vw="_labelRow_csryl_266",gw="_badge_csryl_272",_w="_hasBadge_csryl_283",bw="_locked_csryl_287",ww="_lockIcon_csryl_301",Sw="_lockedBadge_csryl_320",xw="_scorePreview_csryl_331",Ew="_scoreMini_csryl_337",Tw="_scoreValue_csryl_344",jw="_scoreLabel_csryl_350",Aw="_scoreBar_csryl_357",Ow="_scoreProgress_csryl_364",Cw="_hamburgerButton_csryl_513",Rw="_mobileOverlay_csryl_535",Nw="_closeBtn_csryl_540",kw="_mobileOpen_csryl_566",Ee={sidebar:W1,collapsed:ew,header:tw,logo:nw,tagline:aw,betaBadge:sw,toggleBtn:iw,toggleIcon:rw,rotated:lw,logoLink:ow,nav:uw,active:cw,navItem:hw,navIcon:dw,navText:fw,label:mw,description:pw,footer:yw,labelRow:vw,badge:gw,hasBadge:_w,locked:bw,lockIcon:ww,lockedBadge:Sw,scorePreview:xw,scoreMini:Ew,scoreValue:Tw,scoreLabel:jw,scoreBar:Aw,scoreProgress:Ow,hamburgerButton:Cw,mobileOverlay:Rw,closeBtn:Nw,mobileOpen:kw},Dw=[{id:"command-center",label:"Command Center",path:"/dashboard",description:"Your Wealth Readiness",lockedDescription:"Your Wealth Readiness",requiredScore:0,icon:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})},{id:"ai-advisor",label:"AI Advisor",path:"/dashboard/ai",description:"Your Private CFO",lockedDescription:"Your Private CFO",badge:"Start Here",requiredScore:0,icon:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"}),d.jsx("circle",{cx:"8",cy:"14",r:"1.5"}),d.jsx("circle",{cx:"16",cy:"14",r:"1.5"})]})},{id:"tax-intel",label:"Tax Advisor",path:"/dashboard/tax-intel",description:"Tax Optimization Engine",lockedDescription:"Unlock Tax Savings",requiredScore:0,icon:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]})},{id:"allocation",label:"Portfolio Engine",path:"/dashboard/allocation",description:"CFA-Level Analysis",lockedDescription:"Reveal Hidden Risk",requiredScore:0,icon:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M12 2a10 10 0 1 0 10 10"}),d.jsx("path",{d:"M12 2v10l6.5-3.5"}),d.jsx("path",{d:"M12 12l6.5 3.5"})]})},{id:"playbooks",label:"Playbooks",path:"/dashboard/playbooks",description:"Action Plans",lockedDescription:"Step-by-Step Actions",requiredScore:20,icon:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),d.jsx("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),d.jsx("path",{d:"M9 12l2 2 4-4"})]})},{id:"referrals",label:"Referrals",path:"/dashboard/referrals",description:"Earn $50 Per Friend",lockedDescription:"Share & Earn",requiredScore:0,icon:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.75",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 00-3-3.87"}),d.jsx("path",{d:"M16 3.13a4 4 0 010 7.75"})]})}];function Mw({onCollapse:s,wealthScore:n=0}){const[r,l]=$.useState(!1),[c,h]=$.useState(!1),[f,p]=$.useState(!1),[y]=Wp();$.useEffect(()=>{const w=()=>{p(window.innerWidth<=768),window.innerWidth>768&&h(!1)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),$.useEffect(()=>{h(!1)},[y]);const v=()=>{const w=!r;l(w),s?.(w)},_=()=>{h(!c)},b=w=>y===w,x=w=>n<w.requiredScore,O=(w,D)=>{x(D)&&w.preventDefault()},C=(w,D)=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),x(D)||(window.location.href=D.path))};return d.jsxs(d.Fragment,{children:[f&&d.jsx("button",{className:Ee.hamburgerButton,onClick:_,"aria-label":"Toggle menu",children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[d.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),d.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),d.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),c&&d.jsx("div",{className:Ee.mobileOverlay,onClick:()=>h(!1)}),d.jsxs("aside",{className:`${Ee.sidebar} ${r?Ee.collapsed:""} ${c?Ee.mobileOpen:""}`,children:[d.jsxs("div",{className:Ee.header,children:[!r&&d.jsx(rp,{href:"/dashboard",children:d.jsxs("a",{className:Ee.logoLink,children:[d.jsx("h1",{className:Ee.logo,children:"Charge"}),d.jsx("span",{className:Ee.tagline,children:"Wealth"}),d.jsx("span",{className:Ee.betaBadge,children:"Beta"})]})}),f?d.jsx("button",{className:Ee.closeBtn,onClick:()=>h(!1),"aria-label":"Close menu",children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",width:"24",height:"24",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}):d.jsx("button",{className:Ee.toggleBtn,onClick:v,"aria-label":r?"Expand navigation sidebar":"Collapse navigation sidebar","aria-expanded":!r,children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:`${Ee.toggleIcon} ${r?Ee.rotated:""}`,children:d.jsx("path",{d:"M15 18l-6-6 6-6"})})})]}),d.jsx("nav",{className:Ee.nav,role:"navigation","aria-label":"Main navigation",children:Dw.map(w=>{const D=x(w);return d.jsx(rp,{href:D?"#":w.path,children:d.jsxs("a",{className:`${Ee.navItem} ${b(w.path)?Ee.active:""} ${w.badge?Ee.hasBadge:""} ${D?Ee.locked:""}`,onClick:k=>O(k,w),onKeyDown:k=>C(k,w),tabIndex:0,role:"menuitem","aria-label":`${w.label}: ${w.description}`,"aria-current":b(w.path)?"page":void 0,"aria-disabled":D,children:[d.jsxs("div",{className:Ee.navIcon,children:[w.icon,D&&d.jsx("div",{className:Ee.lockIcon,children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3zm0 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"})})})]}),(!r||f)&&d.jsxs("div",{className:Ee.navText,children:[d.jsxs("div",{className:Ee.labelRow,children:[d.jsx("span",{className:Ee.label,children:w.label}),w.badge&&!D&&d.jsx("span",{className:Ee.badge,children:w.badge}),D&&d.jsx("span",{className:Ee.lockedBadge,children:"Locked"})]}),d.jsx("span",{className:Ee.description,children:D?w.lockedDescription:w.description})]})]})},w.id)})}),(!r||f)&&d.jsx("div",{className:Ee.footer,children:d.jsxs("div",{className:Ee.scorePreview,children:[d.jsxs("div",{className:Ee.scoreMini,children:[d.jsxs("span",{className:Ee.scoreValue,children:[n,"%"]}),d.jsx("span",{className:Ee.scoreLabel,children:"Wealth Readiness"})]}),d.jsx("div",{className:Ee.scoreBar,children:d.jsx("div",{className:Ee.scoreProgress,style:{width:`${n}%`}})})]})})]})]})}const Uw="_container_wm4z2_1",zw="_header_wm4z2_8",Bw="_scoreSection_wm4z2_12",Lw="_scoreRing_wm4z2_18",qw="_scoreValue_wm4z2_30",Hw="_scoreNumber_wm4z2_39",$w="_scorePercent_wm4z2_45",Gw="_scoreInfo_wm4z2_51",Vw="_title_wm4z2_55",Iw="_scoreLabel_wm4z2_62",Pw="_nextAction_wm4z2_76",Qw="_nextLabel_wm4z2_80",Kw="_nextCard_wm4z2_89",Yw="_nextContent_wm4z2_106",Jw="_nextTitle_wm4z2_113",Xw="_nextDesc_wm4z2_119",Zw="_nextReward_wm4z2_124",Fw="_points_wm4z2_138",Ww="_nextArrow_wm4z2_144",eS="_stepsGrid_wm4z2_151",tS="_stepCard_wm4z2_157",nS="_completed_wm4z2_185",aS="_stepCheck_wm4z2_193",sS="_stepPoints_wm4z2_214",iS="_stepContent_wm4z2_220",rS="_stepLabel_wm4z2_228",lS="_stepUnlocks_wm4z2_237",me={container:Uw,header:zw,scoreSection:Bw,scoreRing:Lw,scoreValue:qw,scoreNumber:Hw,scorePercent:$w,scoreInfo:Gw,title:Vw,scoreLabel:Iw,nextAction:Pw,nextLabel:Qw,nextCard:Kw,nextContent:Yw,nextTitle:Jw,nextDesc:Xw,nextReward:Zw,points:Fw,nextArrow:Ww,stepsGrid:eS,stepCard:tS,completed:nS,stepCheck:aS,stepPoints:sS,stepContent:iS,stepLabel:rS,stepUnlocks:lS};function oS({hasTaxData:s,hasPositions:n,hasProfile:r,hasCashFlow:l,onStepClick:c}){const[h,f]=$.useState(0),p=[{id:"profile",label:"Complete Financial Profile",description:"Income, goals, and risk tolerance",unlocks:"Personalized analysis",points:20,completed:r,path:"#profile"},{id:"tax",label:"Upload Tax Return",description:"Your 1040 reveals opportunities",unlocks:"Tax Advisor unlocked",points:30,completed:s,path:"/dashboard/tax-intel"},{id:"portfolio",label:"Add Portfolio Positions",description:"Import your holdings",unlocks:"Portfolio Engine unlocked",points:30,completed:n,path:"/dashboard/allocation"},{id:"cashflow",label:"Add Cash Flow Data",description:"Monthly income and expenses",unlocks:"Cash optimization",points:20,completed:l,path:"#cashflow"}],y=p.filter(w=>w.completed).reduce((w,D)=>w+D.points,0),v=p.reduce((w,D)=>w+D.points,0),_=Math.round(y/v*100);$.useEffect(()=>{const w=setTimeout(()=>{f(_)},100);return()=>clearTimeout(w)},[_]);const b=()=>_===0?"Getting Started":_<30?"Building Foundation":_<60?"Gaining Clarity":_<100?"Nearly Complete":"Fully Optimized",x=()=>_<30?"#E74C3C":_<60?"#F39C12":_<100?"#3498DB":"#C9A962",C=p.filter(w=>!w.completed)[0];return d.jsxs("div",{className:me.container,children:[d.jsx("div",{className:me.header,children:d.jsxs("div",{className:me.scoreSection,children:[d.jsxs("div",{className:me.scoreRing,children:[d.jsxs("svg",{viewBox:"0 0 100 100",children:[d.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8"}),d.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:x(),strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${h*2.83} 283`,transform:"rotate(-90 50 50)",style:{transition:"stroke-dasharray 1s ease-out"}})]}),d.jsxs("div",{className:me.scoreValue,children:[d.jsx("span",{className:me.scoreNumber,children:h}),d.jsx("span",{className:me.scorePercent,children:"%"})]})]}),d.jsxs("div",{className:me.scoreInfo,children:[d.jsx("h2",{className:me.title,children:"Wealth Readiness"}),d.jsx("span",{className:me.scoreLabel,style:{color:x()},children:b()})]})]})}),C&&d.jsxs("div",{className:me.nextAction,children:[d.jsx("div",{className:me.nextLabel,children:"Next Step"}),C.path.startsWith("#")?d.jsxs("button",{className:me.nextCard,onClick:w=>{w.preventDefault(),c?.(C.id)},children:[d.jsxs("div",{className:me.nextContent,children:[d.jsx("span",{className:me.nextTitle,children:C.label}),d.jsx("span",{className:me.nextDesc,children:C.description})]}),d.jsx("div",{className:me.nextReward,children:d.jsxs("span",{className:me.points,children:["+",C.points,"%"]})}),d.jsx("svg",{className:me.nextArrow,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M9 5l7 7-7 7"})})]}):d.jsxs("a",{href:C.path,className:me.nextCard,onClick:()=>c?.(C.id),children:[d.jsxs("div",{className:me.nextContent,children:[d.jsx("span",{className:me.nextTitle,children:C.label}),d.jsx("span",{className:me.nextDesc,children:C.description})]}),d.jsx("div",{className:me.nextReward,children:d.jsxs("span",{className:me.points,children:["+",C.points,"%"]})}),d.jsx("svg",{className:me.nextArrow,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M9 5l7 7-7 7"})})]})]}),d.jsx("div",{className:me.stepsGrid,children:p.map(w=>w.path.startsWith("#")?d.jsxs("button",{className:`${me.stepCard} ${w.completed?me.completed:""}`,onClick:D=>{D.preventDefault(),c?.(w.id)},children:[d.jsx("div",{className:me.stepCheck,children:w.completed?d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M20 6L9 17l-5-5"})}):d.jsxs("span",{className:me.stepPoints,children:["+",w.points,"%"]})}),d.jsxs("div",{className:me.stepContent,children:[d.jsx("span",{className:me.stepLabel,children:w.label}),d.jsx("span",{className:me.stepUnlocks,children:w.completed?"Completed":w.unlocks})]})]},w.id):d.jsxs("a",{href:w.path,className:`${me.stepCard} ${w.completed?me.completed:""}`,onClick:()=>c?.(w.id),children:[d.jsx("div",{className:me.stepCheck,children:w.completed?d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:d.jsx("path",{d:"M20 6L9 17l-5-5"})}):d.jsxs("span",{className:me.stepPoints,children:["+",w.points,"%"]})}),d.jsxs("div",{className:me.stepContent,children:[d.jsx("span",{className:me.stepLabel,children:w.label}),d.jsx("span",{className:me.stepUnlocks,children:w.completed?"Completed":w.unlocks})]})]},w.id))})]})}const uS="_container_1gmy6_1",cS="_header_1gmy6_8",hS="_headerLeft_1gmy6_15",dS="_title_1gmy6_19",fS="_subtitle_1gmy6_35",mS="_pointsBadge_1gmy6_41",pS="_pointsValue_1gmy6_51",yS="_pointsLabel_1gmy6_58",vS="_progressSection_1gmy6_66",gS="_levelInfo_1gmy6_73",_S="_levelBadge_1gmy6_80",bS="_levelProgress_1gmy6_89",wS="_progressBar_1gmy6_94",SS="_progressFill_1gmy6_102",xS="_statsRow_1gmy6_109",ES="_stat_1gmy6_109",TS="_statValue_1gmy6_119",jS="_statLabel_1gmy6_125",AS="_loading_1gmy6_132",OS="_emptyState_1gmy6_138",CS="_generateButton_1gmy6_162",RS="_section_1gmy6_184",NS="_sectionTitle_1gmy6_188",kS="_recList_1gmy6_206",DS="_recCard_1gmy6_212",MS="_expanded_1gmy6_224",US="_recHeader_1gmy6_228",zS="_recIcon_1gmy6_236",BS="_recInfo_1gmy6_252",LS="_recTitle_1gmy6_257",qS="_recMeta_1gmy6_265",HS="_recPriority_1gmy6_272",$S="_recSavings_1gmy6_281",GS="_recPoints_1gmy6_287",VS="_expandIcon_1gmy6_293",IS="_recDetails_1gmy6_305",PS="_recDescription_1gmy6_310",QS="_cfpNote_1gmy6_317",KS="_recActions_1gmy6_333",YS="_completeButton_1gmy6_338",JS="_dismissButton_1gmy6_362",XS="_completedList_1gmy6_378",ZS="_completedItem_1gmy6_384",FS="_completedTitle_1gmy6_393",WS="_completedPoints_1gmy6_399",e2="_refreshButton_1gmy6_405",se={container:uS,header:cS,headerLeft:hS,title:dS,subtitle:fS,pointsBadge:mS,pointsValue:pS,pointsLabel:yS,progressSection:vS,levelInfo:gS,levelBadge:_S,levelProgress:bS,progressBar:wS,progressFill:SS,statsRow:xS,stat:ES,statValue:TS,statLabel:jS,loading:AS,emptyState:OS,generateButton:CS,section:RS,sectionTitle:NS,recList:kS,recCard:DS,expanded:MS,recHeader:US,recIcon:zS,recInfo:BS,recTitle:LS,recMeta:qS,recPriority:HS,recSavings:$S,recPoints:GS,expandIcon:VS,recDetails:IS,recDescription:PS,cfpNote:QS,recActions:KS,completeButton:YS,dismissButton:JS,completedList:XS,completedItem:ZS,completedTitle:FS,completedPoints:WS,refreshButton:e2};function t2(){const[s,n]=$.useState([]),[r,l]=$.useState(null),[c,h]=$.useState(!0),[f,p]=$.useState(!1),[y,v]=$.useState(null);$.useEffect(()=>{_()},[]);const _=async()=>{try{const[k,G]=await Promise.all([fetch("/api/cfo/recommendations",{credentials:"include"}),fetch("/api/cfo/stats",{credentials:"include"})]);if(k.ok){const H=await k.json();n(H.recommendations||[])}if(G.ok){const H=await G.json();l(H)}}catch(k){console.error("Failed to fetch recommendations:",k)}finally{h(!1)}},b=async()=>{p(!0);try{(await fetch("/api/cfo/generate-recommendations",{method:"POST",credentials:"include"})).ok&&await _()}catch(k){console.error("Failed to generate recommendations:",k)}finally{p(!1)}},x=async(k,G)=>{try{(await fetch(`/api/cfo/recommendations/${k}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:G})})).ok&&await _()}catch(H){console.error("Failed to update recommendation:",H)}},O=k=>{switch(k){case"tax":return d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]});case"investment":return d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M3 3v18h18"}),d.jsx("path",{d:"M18 9l-5 5-4-4-4 4"})]});case"savings":return d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("circle",{cx:"12",cy:"12",r:"8"}),d.jsx("path",{d:"M12 8v4l2 2"})]});case"insurance":return d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M12 2l8 4v6c0 5.55-3.84 10.74-8 12-4.16-1.26-8-6.45-8-12V6l8-4z"})});default:return d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M12 16v-4M12 8h.01"})]})}},C=k=>{switch(k){case"urgent":return"#ef4444";case"high":return"#f59e0b";case"medium":return"#3b82f6";default:return"#6b7280"}},w=s.filter(k=>k.status==="pending"||k.status==="in_progress"),D=s.filter(k=>k.status==="completed");return c?d.jsx("div",{className:se.container,children:d.jsx("div",{className:se.loading,children:"Loading your CFO recommendations..."})}):d.jsxs("div",{className:se.container,children:[d.jsxs("div",{className:se.header,children:[d.jsxs("div",{className:se.headerLeft,children:[d.jsxs("h3",{className:se.title,children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M9 12l2 2 4-4"}),d.jsx("path",{d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),"CFO Action Items"]}),d.jsx("p",{className:se.subtitle,children:"CFP-vetted strategies personalized for you"})]}),r&&d.jsxs("div",{className:se.pointsBadge,children:[d.jsx("span",{className:se.pointsValue,children:r.points}),d.jsx("span",{className:se.pointsLabel,children:"points"})]})]}),r&&d.jsxs("div",{className:se.progressSection,children:[d.jsxs("div",{className:se.levelInfo,children:[d.jsxs("span",{className:se.levelBadge,children:["Level ",r.level]}),d.jsxs("span",{className:se.levelProgress,children:[r.points%100," / 100 to next level"]})]}),d.jsx("div",{className:se.progressBar,children:d.jsx("div",{className:se.progressFill,style:{width:`${r.progressToNextLevel}%`}})}),d.jsxs("div",{className:se.statsRow,children:[d.jsxs("div",{className:se.stat,children:[d.jsx("span",{className:se.statValue,children:r.recommendations.completed}),d.jsx("span",{className:se.statLabel,children:"Completed"})]}),d.jsxs("div",{className:se.stat,children:[d.jsx("span",{className:se.statValue,children:r.recommendations.pending}),d.jsx("span",{className:se.statLabel,children:"Pending"})]})]})]}),w.length===0&&D.length===0?d.jsxs("div",{className:se.emptyState,children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),d.jsx("h4",{children:"Get Personalized Recommendations"}),d.jsx("p",{children:"Generate CFP-vetted action items based on your financial profile"}),d.jsx("button",{className:se.generateButton,onClick:b,disabled:f,children:f?"Analyzing your profile...":"Generate Recommendations"})]}):d.jsxs(d.Fragment,{children:[w.length>0&&d.jsxs("div",{className:se.section,children:[d.jsx("h4",{className:se.sectionTitle,children:"Action Items"}),d.jsx("div",{className:se.recList,children:w.map(k=>d.jsxs("div",{className:`${se.recCard} ${y===k.id?se.expanded:""}`,children:[d.jsxs("div",{className:se.recHeader,onClick:()=>v(y===k.id?null:k.id),children:[d.jsx("div",{className:se.recIcon,style:{color:C(k.priority)},children:O(k.category)}),d.jsxs("div",{className:se.recInfo,children:[d.jsx("h5",{className:se.recTitle,children:k.title}),d.jsxs("div",{className:se.recMeta,children:[d.jsx("span",{className:se.recPriority,style:{backgroundColor:C(k.priority)},children:k.priority}),k.estimatedSavings&&d.jsxs("span",{className:se.recSavings,children:["Save $",parseFloat(k.estimatedSavings).toLocaleString()]}),d.jsxs("span",{className:se.recPoints,children:["+",k.pointValue," pts"]})]})]}),d.jsx("svg",{className:se.expandIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M19 9l-7 7-7-7"})})]}),y===k.id&&d.jsxs("div",{className:se.recDetails,children:[d.jsx("p",{className:se.recDescription,children:k.description}),k.cfpRationale&&d.jsxs("div",{className:se.cfpNote,children:[d.jsx("strong",{children:"Why a CFP recommends this:"})," ",k.cfpRationale]}),d.jsxs("div",{className:se.recActions,children:[d.jsxs("button",{className:se.completeButton,onClick:()=>x(k.id,"completed"),children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 13l4 4L19 7"})}),"Mark Complete"]}),d.jsx("button",{className:se.dismissButton,onClick:()=>x(k.id,"dismissed"),children:"Not for me"})]})]})]},k.id))})]}),D.length>0&&d.jsxs("div",{className:se.section,children:[d.jsxs("h4",{className:se.sectionTitle,children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 13l4 4L19 7"})}),"Completed (",D.length,")"]}),d.jsx("div",{className:se.completedList,children:D.slice(0,3).map(k=>d.jsxs("div",{className:se.completedItem,children:[d.jsx("span",{className:se.completedTitle,children:k.title}),d.jsxs("span",{className:se.completedPoints,children:["+",k.pointValue]})]},k.id))})]}),d.jsx("button",{className:se.refreshButton,onClick:b,disabled:f,children:f?"Generating...":"Get More Recommendations"})]})]})}const n2="_overlay_11p5v_1",a2="_wizard_11p5v_13",s2="_progressBar_11p5v_24",i2="_progressFill_11p5v_31",r2="_progressText_11p5v_37",l2="_stepContent_11p5v_46",o2="_stepHeader_11p5v_50",u2="_stepNumber_11p5v_57",c2="_stepTime_11p5v_80",h2="_inputGroup_11p5v_86",d2="_sliderValue_11p5v_97",f2="_slider_11p5v_97",m2="_select_11p5v_133",p2="_input_11p5v_86",y2="_inputRow_11p5v_157",v2="_primaryButton_11p5v_163",g2="_skipButton_11p5v_188",_2="_resultCard_11p5v_204",b2="_resultHighlight_11p5v_213",w2="_savingsHighlight_11p5v_227",S2="_thesisHighlight_11p5v_234",x2="_dropzone_11p5v_241",E2="_dragging_11p5v_251",T2="_fileButton_11p5v_274",j2="_fileInfo_11p5v_290",A2="_processing_11p5v_307",O2="_spinner_11p5v_318",C2="_chatPreview_11p5v_332",R2="_userMessage_11p5v_339",N2="_aiMessage_11p5v_340",k2="_messageLabel_11p5v_349",D2="_completedIcon_11p5v_387",M2="_completionSummary_11p5v_400",U2="_summaryItem_11p5v_408",z2="_checkIcon_11p5v_417",B2="_documentOptions_11p5v_422",L2="_optionsLabel_11p5v_428",q2="_documentOption_11p5v_422",H2="_backButton_11p5v_474",V={overlay:n2,wizard:a2,progressBar:s2,progressFill:i2,progressText:r2,stepContent:l2,stepHeader:o2,stepNumber:u2,stepTime:c2,inputGroup:h2,sliderValue:d2,slider:f2,select:m2,input:p2,inputRow:y2,primaryButton:v2,skipButton:g2,resultCard:_2,resultHighlight:b2,savingsHighlight:w2,thesisHighlight:S2,dropzone:x2,dragging:E2,fileButton:T2,fileInfo:j2,processing:A2,spinner:O2,chatPreview:C2,userMessage:R2,aiMessage:N2,messageLabel:k2,completedIcon:D2,completionSummary:M2,summaryItem:U2,checkIcon:z2,documentOptions:B2,optionsLabel:L2,documentOption:q2,backButton:H2},$2="_toastContainer_15ojs_1",G2="_toast_15ojs_1",V2="_slideIn_15ojs_1",I2="_error_15ojs_37",P2="_success_15ojs_42",Q2="_warning_15ojs_47",K2="_info_15ojs_52",Y2="_toastIcon_15ojs_57",J2="_toastMessage_15ojs_84",X2="_toastAction_15ojs_91",Z2="_toastClose_15ojs_108",Ta={toastContainer:$2,toast:G2,slideIn:V2,error:I2,success:P2,warning:Q2,info:K2,toastIcon:Y2,toastMessage:J2,toastAction:X2,toastClose:Z2},Sy=$.createContext(null);function xy(){const s=$.useContext(Sy);if(!s)throw new Error("useToast must be used within a ToastProvider");return s}function F2({children:s}){const[n,r]=$.useState([]),l=$.useCallback(p=>{r(y=>y.filter(v=>v.id!==p))},[]),c=$.useCallback(p=>{const y=Math.random().toString(36).substr(2,9),v={...p,id:y};r(b=>[...b,v]);const _=p.duration??(p.type==="error"?6e3:4e3);setTimeout(()=>l(y),_)},[l]),h=$.useCallback((p,y)=>{c({message:p,type:"error",action:y})},[c]),f=$.useCallback(p=>{c({message:p,type:"success"})},[c]);return d.jsxs(Sy.Provider,{value:{showToast:c,showError:h,showSuccess:f,hideToast:l},children:[s,d.jsx("div",{className:Ta.toastContainer,children:n.map(p=>d.jsxs("div",{className:`${Ta.toast} ${Ta[p.type]}`,children:[d.jsxs("div",{className:Ta.toastIcon,children:[p.type==="error"&&d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),d.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),p.type==="success"&&d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("polyline",{points:"9 12 11 14 15 10"})]}),p.type==="warning"&&d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),d.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),d.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),p.type==="info"&&d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]})]}),d.jsx("span",{className:Ta.toastMessage,children:p.message}),p.action&&d.jsx("button",{className:Ta.toastAction,onClick:()=>{p.action?.onClick(),l(p.id)},children:p.action.label}),d.jsx("button",{className:Ta.toastClose,onClick:()=>l(p.id),"aria-label":"Dismiss",children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},p.id))})]})}const W2={CA:13.3,NY:10.9,NJ:10.75,TX:0,FL:0,WA:0,NV:0,IL:4.95,CO:4.4,MA:5,OTHER:5},Np={single:[{limit:11600,rate:10},{limit:47150,rate:12},{limit:100525,rate:22},{limit:191950,rate:24},{limit:243725,rate:32},{limit:609350,rate:35},{limit:1/0,rate:37}],married:[{limit:23200,rate:10},{limit:94300,rate:12},{limit:201050,rate:22},{limit:383900,rate:24},{limit:487450,rate:32},{limit:731200,rate:35},{limit:1/0,rate:37}]};function kp(s,n){const r=Np[n]||Np.single;for(const l of r)if(s<=l.limit)return l.rate;return 37}function Ey({onComplete:s}){const{showSuccess:n,showError:r}=xy(),[l,c]=$.useState(1),[h,f]=$.useState(!1),[p,y]=$.useState([]),[v,_]=$.useState(null),[b,x]=$.useState(null),[O,C]=$.useState(null),[w,D]=$.useState(null),[k,G]=$.useState(25e4),[H,F]=$.useState("married"),[de,ee]=$.useState("TX"),[Q,te]=$.useState(null),[Re,nt]=$.useState(!1),[Ge,oe]=$.useState(null),[ve,Ie]=$.useState({symbol:"",shares:0,purchaseDate:""}),Xe=5,U=l/Xe*100,I=async()=>{f(!0);const X=kp(k,H),xe=W2[de]||5,De=X+xe;let Lt="";k>=5e5?Lt="You're in the highest tax brackets. Strategic tax planning is essential.":k>=2e5?Lt="You're in the upper brackets where deductions have maximum impact.":Lt="You have room to optimize through standard strategies.";try{await fetch("/api/financial-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({annualIncome:k,filingStatus:H==="married"?"married_joint":"single",stateOfResidence:de,primaryGoal:"tax_optimization"})})}catch(aa){console.error("Failed to save financial profile:",aa)}_({income:k,filingStatus:H,state:de,marginalRate:De,bracketInfo:Lt}),f(!1),setTimeout(()=>c(2),1500)},ae=async X=>{X.preventDefault(),nt(!1);const xe=X.dataTransfer.files[0];xe&&xe.type==="application/pdf"&&(te(xe),await je(xe))},Te=async X=>{const xe=X.target.files?.[0];xe&&(te(xe),await je(xe))},je=async X=>{f(!0);try{const xe=new FormData;xe.append("taxReturn",X);const De=await fetch("/api/tax-intel/analyze",{method:"POST",body:xe});if(De.ok){const Lt=await De.json();x(Lt.potentialSavings||Math.floor(Math.random()*5e3)+2e3),n("Tax return uploaded and analyzed!"),setTimeout(()=>c(3),1500)}else r("Could not analyze document. Continuing with estimate."),x(Math.floor(k*.03)),setTimeout(()=>c(3),1500)}catch{r("Failed to upload document. Continuing with estimate."),x(Math.floor(k*.03)),setTimeout(()=>c(3),1500)}finally{f(!1)}},T=async()=>{if(ve.symbol){f(!0);try{(await fetch("/api/portfolio-positions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({symbol:ve.symbol.toUpperCase(),shares:ve.shares,acquisitionDate:ve.purchaseDate,accountType:"taxable"})})).ok?C(`${ve.symbol.toUpperCase()} has been added to your portfolio. Visit the Portfolio Engine for detailed analysis including risk score, sector exposure, and investment thesis.`):C(`${ve.symbol.toUpperCase()} position saved. Full analysis will be available in the Portfolio Engine.`),setTimeout(()=>c(4),1500)}catch{C(`${ve.symbol.toUpperCase()} position added. Full analysis will be available in the Portfolio Engine.`),setTimeout(()=>c(4),1500)}finally{f(!1)}}},L=async()=>{f(!0);const X="Should I max out my 401k this year?";try{const xe=await fetch("/api/charge-ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:X})});if(xe.ok){const De=await xe.json();D(De.response||P())}else D(P());setTimeout(()=>c(5),2e3)}catch{D(P()),setTimeout(()=>c(5),2e3)}finally{f(!1)}},P=()=>{const X=kp(k,H);return`Based on your ${X}% federal marginal rate, maxing out your 401(k) at $23,000 could save you approximately $${Math.round(23e3*(X/100)).toLocaleString()} in taxes this year. Given your income level, this is typically one of the highest-impact moves you can make.`},J=async()=>{f(!0);try{await fetch("/api/user/onboarding-complete",{method:"POST",headers:{"Content-Type":"application/json"}}),s()}catch{s()}},ue=()=>{y([...p,l]),l<Xe?c(l+1):J()},pe=()=>{switch(l){case 1:return d.jsxs("div",{className:V.stepContent,children:[d.jsxs("div",{className:V.stepHeader,children:[d.jsx("div",{className:V.stepNumber,children:"1"}),d.jsxs("div",{children:[d.jsx("h2",{children:"Let's See Where You Stand"}),d.jsx("p",{className:V.stepTime,children:"30 seconds"})]})]}),d.jsxs("div",{className:V.inputGroup,children:[d.jsx("label",{children:"Annual Income"}),d.jsxs("div",{className:V.sliderValue,children:["$",k.toLocaleString()]}),d.jsx("input",{type:"range",min:"100000",max:"750000",step:"10000",value:k,onChange:X=>G(parseInt(X.target.value)),className:V.slider})]}),d.jsxs("div",{className:V.inputGroup,children:[d.jsx("label",{children:"Filing Status"}),d.jsxs("select",{value:H,onChange:X=>F(X.target.value),className:V.select,children:[d.jsx("option",{value:"single",children:"Single"}),d.jsx("option",{value:"married",children:"Married Filing Jointly"})]})]}),d.jsxs("div",{className:V.inputGroup,children:[d.jsx("label",{children:"State"}),d.jsxs("select",{value:de,onChange:X=>ee(X.target.value),className:V.select,children:[d.jsx("option",{value:"CA",children:"California (13.3%)"}),d.jsx("option",{value:"NY",children:"New York (10.9%)"}),d.jsx("option",{value:"NJ",children:"New Jersey (10.75%)"}),d.jsx("option",{value:"TX",children:"Texas (0%)"}),d.jsx("option",{value:"FL",children:"Florida (0%)"}),d.jsx("option",{value:"WA",children:"Washington (0%)"}),d.jsx("option",{value:"NV",children:"Nevada (0%)"}),d.jsx("option",{value:"IL",children:"Illinois (4.95%)"}),d.jsx("option",{value:"CO",children:"Colorado (4.4%)"}),d.jsx("option",{value:"MA",children:"Massachusetts (5%)"}),d.jsx("option",{value:"OTHER",children:"Other State (~5%)"})]})]}),v?d.jsxs("div",{className:V.resultCard,children:[d.jsxs("div",{className:V.resultHighlight,children:["You're in the ",v.marginalRate,"% combined bracket"]}),d.jsx("p",{children:v.bracketInfo})]}):d.jsx("button",{onClick:I,className:V.primaryButton,children:"Calculate My Tax Profile"})]});case 2:return d.jsxs("div",{className:V.stepContent,children:[d.jsxs("div",{className:V.stepHeader,children:[d.jsx("div",{className:V.stepNumber,children:"2"}),d.jsxs("div",{children:[d.jsx("h2",{children:"Upload a Financial Document"}),d.jsx("p",{className:V.stepTime,children:"60 seconds"})]})]}),Ge?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:V.backButton,onClick:()=>{oe(null),te(null)},children:" Choose different document"}),d.jsx("div",{className:`${V.dropzone} ${Re?V.dragging:""}`,onDragOver:X=>{X.preventDefault(),nt(!0)},onDragLeave:()=>nt(!1),onDrop:ae,children:h?d.jsxs("div",{className:V.processing,children:[d.jsx("div",{className:V.spinner}),d.jsxs("p",{children:["Analyzing your ",Ge==="1040"?"tax return":Ge==="w2"?"W-2":"paystub","..."]})]}):Q?d.jsxs("div",{className:V.fileInfo,children:[d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),d.jsx("p",{children:Q.name})]}):d.jsxs(d.Fragment,{children:[d.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:d.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),d.jsxs("p",{children:["Drag & drop your ",Ge==="1040"?"1040":Ge==="w2"?"W-2":"paystub"," PDF here"]}),d.jsx("span",{children:"or"}),d.jsxs("label",{className:V.fileButton,children:["Browse Files",d.jsx("input",{type:"file",accept:".pdf,image/*",onChange:Te,style:{display:"none"}})]})]})})]}):d.jsxs("div",{className:V.documentOptions,children:[d.jsx("p",{className:V.optionsLabel,children:"Choose a document to upload:"}),d.jsxs("button",{className:V.documentOption,onClick:()=>oe("1040"),children:[d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),d.jsxs("div",{children:[d.jsx("strong",{children:"1040 Tax Return"}),d.jsx("span",{children:"Most comprehensive analysis"})]})]}),d.jsxs("button",{className:V.documentOption,onClick:()=>oe("w2"),children:[d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),d.jsxs("div",{children:[d.jsx("strong",{children:"W-2 Form"}),d.jsx("span",{children:"Quick income verification"})]})]}),d.jsxs("button",{className:V.documentOption,onClick:()=>oe("paystub"),children:[d.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),d.jsxs("div",{children:[d.jsx("strong",{children:"Recent Paystub"}),d.jsx("span",{children:"Current earnings snapshot"})]})]})]}),b&&d.jsxs("div",{className:V.resultCard,children:[d.jsxs("div",{className:V.savingsHighlight,children:["Found $",b.toLocaleString()," in potential savings!"]}),d.jsx("p",{children:"We'll show you exactly how to capture these savings in your Tax Advisor."})]})]});case 3:return d.jsxs("div",{className:V.stepContent,children:[d.jsxs("div",{className:V.stepHeader,children:[d.jsx("div",{className:V.stepNumber,children:"3"}),d.jsxs("div",{children:[d.jsx("h2",{children:"Add One Portfolio Position"}),d.jsx("p",{className:V.stepTime,children:"45 seconds"})]})]}),d.jsxs("div",{className:V.inputGroup,children:[d.jsx("label",{children:"Stock Symbol"}),d.jsx("input",{type:"text",placeholder:"e.g., AAPL, NVDA, VTI",value:ve.symbol,onChange:X=>Ie({...ve,symbol:X.target.value.toUpperCase()}),className:V.input})]}),d.jsxs("div",{className:V.inputRow,children:[d.jsxs("div",{className:V.inputGroup,children:[d.jsx("label",{children:"Shares"}),d.jsx("input",{type:"number",placeholder:"100",value:ve.shares||"",onChange:X=>Ie({...ve,shares:parseFloat(X.target.value)||0}),className:V.input})]}),d.jsxs("div",{className:V.inputGroup,children:[d.jsx("label",{children:"Purchase Date"}),d.jsx("input",{type:"date",value:ve.purchaseDate,onChange:X=>Ie({...ve,purchaseDate:X.target.value}),className:V.input})]})]}),h?d.jsxs("div",{className:V.processing,children:[d.jsx("div",{className:V.spinner}),d.jsxs("p",{children:["Analyzing ",ve.symbol,"..."]})]}):O?d.jsxs("div",{className:V.resultCard,children:[d.jsx("div",{className:V.thesisHighlight,children:"Position Added"}),d.jsx("p",{children:O})]}):d.jsx("button",{onClick:T,className:V.primaryButton,disabled:!ve.symbol,children:"Generate Instant Analysis"})]});case 4:return d.jsxs("div",{className:V.stepContent,children:[d.jsxs("div",{className:V.stepHeader,children:[d.jsx("div",{className:V.stepNumber,children:"4"}),d.jsxs("div",{children:[d.jsx("h2",{children:"Ask Your First Question"}),d.jsx("p",{className:V.stepTime,children:"45 seconds"})]})]}),d.jsxs("div",{className:V.chatPreview,children:[d.jsxs("div",{className:V.userMessage,children:[d.jsx("span",{className:V.messageLabel,children:"You"}),d.jsx("p",{children:'"Should I max out my 401k this year?"'})]}),h?d.jsxs("div",{className:V.processing,children:[d.jsx("div",{className:V.spinner}),d.jsx("p",{children:"Your AI Advisor is thinking..."})]}):w?d.jsxs("div",{className:V.aiMessage,children:[d.jsx("span",{className:V.messageLabel,children:"Charge AI"}),d.jsx("p",{children:w})]}):d.jsx("button",{onClick:L,className:V.primaryButton,children:"Get My Answer"})]})]});case 5:return d.jsxs("div",{className:V.stepContent,children:[d.jsxs("div",{className:V.stepHeader,children:[d.jsx("div",{className:V.completedIcon,children:d.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),d.jsx("path",{d:"M22 4L12 14.01l-3-3"})]})}),d.jsxs("div",{children:[d.jsx("h2",{children:"Your Dashboard Is Ready!"}),d.jsx("p",{className:V.stepTime,children:"Wealth Readiness: 65%+"})]})]}),d.jsxs("div",{className:V.completionSummary,children:[d.jsxs("div",{className:V.summaryItem,children:[d.jsx("span",{className:V.checkIcon,children:""}),d.jsx("span",{children:"Tax profile calculated"})]}),!p.includes(2)&&d.jsxs("div",{className:V.summaryItem,children:[d.jsx("span",{className:V.checkIcon,children:""}),d.jsx("span",{children:"Tax return analyzed"})]}),!p.includes(3)&&ve.symbol&&d.jsxs("div",{className:V.summaryItem,children:[d.jsx("span",{className:V.checkIcon,children:""}),d.jsxs("span",{children:[ve.symbol," position added"]})]}),d.jsxs("div",{className:V.summaryItem,children:[d.jsx("span",{className:V.checkIcon,children:""}),d.jsx("span",{children:"AI Advisor ready"})]})]}),d.jsxs("button",{className:V.primaryButton,onClick:async()=>{f(!0);try{await fetch("/api/user/onboarding-complete",{method:"POST",headers:{"Content-Type":"application/json"}})}catch(X){console.error("Failed to save onboarding status:",X)}window.location.href="/dashboard/ai"},disabled:h,children:[h?"Loading...":"Go to AI Advisor",!h&&d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{width:"20px",height:"20px",marginLeft:"8px"},children:d.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]});default:return null}};return d.jsx("div",{className:V.overlay,children:d.jsxs("div",{className:V.wizard,children:[d.jsx("div",{className:V.progressBar,children:d.jsx("div",{className:V.progressFill,style:{width:`${U}%`}})}),d.jsxs("div",{className:V.progressText,children:["Step ",l," of ",Xe]}),pe(),l<5&&d.jsx("button",{onClick:ue,className:V.skipButton,children:"Skip for now"})]})})}const ex="_container_trcu8_1",tx="_spinner_trcu8_9",nx="_small_trcu8_16",ax="_medium_trcu8_21",sx="_large_trcu8_26",ix="_ring_trcu8_31",rx="_dot_trcu8_64",lx="_text_trcu8_97",Wn={container:ex,spinner:tx,small:nx,medium:ax,large:sx,ring:ix,"pulse-spin":"_pulse-spin_trcu8_1",dot:rx,"pulse-glow":"_pulse-glow_trcu8_1",text:lx,"text-pulse":"_text-pulse_trcu8_1"};function ox({size:s="medium",text:n}){return d.jsxs("div",{className:`${Wn.container} ${Wn[s]}`,children:[d.jsxs("div",{className:Wn.spinner,children:[d.jsx("div",{className:Wn.ring}),d.jsx("div",{className:Wn.ring}),d.jsx("div",{className:Wn.ring}),d.jsx("div",{className:Wn.dot})]}),n&&d.jsx("p",{className:Wn.text,children:n})]})}const ux="_errorContainer_1abxk_1",cx="_errorContent_1abxk_9",hx="_errorIcon_1abxk_17",dx="_errorTitle_1abxk_30",fx="_errorSubtitle_1abxk_37",mx="_retryButton_1abxk_44",xs={errorContainer:ux,errorContent:cx,errorIcon:hx,errorTitle:dx,errorSubtitle:fx,retryButton:mx},Wu={portfolio:"Couldn't load your portfolio.",tax:"Couldn't load your tax data.",ai:"Couldn't connect to your AI Advisor.",referrals:"Couldn't load your referral stats.",default:"Something went wrong."};class Aa extends $.Component{constructor(n){super(n),this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Error caught by boundary:",n?.message,n?.stack),console.error("Component stack:",r?.componentStack)}handleRetry=()=>{this.setState({hasError:!1,error:void 0}),this.props.onRetry?.()};getFriendlyMessage(){const{moduleName:n}=this.props;return n&&Wu[n]?Wu[n]:Wu.default}render(){return this.state.hasError?d.jsx("div",{className:xs.errorContainer,children:d.jsxs("div",{className:xs.errorContent,children:[d.jsx("div",{className:xs.errorIcon,children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M12 8v4"}),d.jsx("path",{d:"M12 16h.01"})]})}),d.jsx("h3",{className:xs.errorTitle,children:this.getFriendlyMessage()}),d.jsx("p",{className:xs.errorSubtitle,children:"Our team has been notified. Please try again."}),!1,d.jsxs("button",{className:xs.retryButton,onClick:this.handleRetry,children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("polyline",{points:"23 4 23 10 17 10"}),d.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]}),"Try Again"]})]})}):this.props.children}}const px="_overlay_1xvy1_1",yx="_modal_1xvy1_12",vx="_header_1xvy1_24",gx="_closeButton_1xvy1_39",_x="_tabs_1xvy1_63",bx="_tab_1xvy1_63",wx="_active_1xvy1_87",Sx="_loading_1xvy1_92",xx="_content_1xvy1_98",Ex="_formSection_1xvy1_104",Tx="_formGroup_1xvy1_110",jx="_inputWithPrefix_1xvy1_143",Ax="_hint_1xvy1_177",Ox="_cashFlowSummary_1xvy1_182",Cx="_summaryItem_1xvy1_193",Rx="_summaryLabel_1xvy1_199",Nx="_summaryValue_1xvy1_204",kx="_summaryAlert_1xvy1_210",Dx="_footer_1xvy1_227",Mx="_cancelButton_1xvy1_234",Ux="_saveButton_1xvy1_252",ye={overlay:px,modal:yx,header:vx,closeButton:gx,tabs:_x,tab:bx,active:wx,loading:Sx,content:xx,formSection:Ex,formGroup:Tx,inputWithPrefix:jx,hint:Ax,cashFlowSummary:Ox,summaryItem:Cx,summaryLabel:Rx,summaryValue:Nx,summaryAlert:kx,footer:Dx,cancelButton:Mx,saveButton:Ux},zx={CA:{name:"California",rate:13.3},NY:{name:"New York",rate:10.9},NJ:{name:"New Jersey",rate:10.75},TX:{name:"Texas",rate:0},FL:{name:"Florida",rate:0},WA:{name:"Washington",rate:0},NV:{name:"Nevada",rate:0},IL:{name:"Illinois",rate:4.95},CO:{name:"Colorado",rate:4.4},MA:{name:"Massachusetts",rate:5},PA:{name:"Pennsylvania",rate:3.07},OH:{name:"Ohio",rate:3.99},GA:{name:"Georgia",rate:5.49},NC:{name:"North Carolina",rate:4.75},AZ:{name:"Arizona",rate:2.5},OTHER:{name:"Other State",rate:5}};function Bx({isOpen:s,onClose:n,onSave:r}){const{showSuccess:l,showError:c}=xy(),[h,f]=$.useState(!0),[p,y]=$.useState(!1),[v,_]=$.useState("income"),[b,x]=$.useState({annualIncome:0,filingStatus:"single",stateOfResidence:"TX",primaryGoal:"tax_optimization",monthlyExpenses:0,currentCash:0,targetReserveMonths:6});$.useEffect(()=>{s&&O()},[s]);const O=async()=>{f(!0);try{const w=await fetch("/api/charge-ai/context",{credentials:"include"});if(w.ok){const D=await w.json();D.profile&&x({annualIncome:D.profile.annualIncome||0,filingStatus:D.profile.filingStatus||"single",stateOfResidence:D.profile.stateOfResidence||"TX",primaryGoal:D.profile.primaryGoal||"tax_optimization",monthlyExpenses:D.profile.monthlyExpenses||0,currentCash:D.profile.currentCash||0,targetReserveMonths:D.profile.targetReserveMonths||6})}}catch(w){console.error("Failed to load profile:",w)}finally{f(!1)}},C=async()=>{y(!0);try{const w=await fetch("/api/financial-profile",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({annualIncome:b.annualIncome,filingStatus:b.filingStatus,stateOfResidence:b.stateOfResidence,primaryGoal:b.primaryGoal})});b.monthlyExpenses&&b.monthlyExpenses>0&&await fetch("/api/cash-flow",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({monthlyEssentialExpenses:b.monthlyExpenses,currentCash:b.currentCash||0,targetReserveMonths:b.targetReserveMonths||6})}),w.ok?(l("Financial profile updated successfully"),r(),n()):c("Failed to save profile")}catch(w){console.error("Failed to save profile:",w),c("Failed to save profile")}finally{y(!1)}};return s?d.jsx("div",{className:ye.overlay,onClick:n,children:d.jsxs("div",{className:ye.modal,onClick:w=>w.stopPropagation(),children:[d.jsxs("div",{className:ye.header,children:[d.jsx("h2",{children:"Edit Financial Profile"}),d.jsx("button",{className:ye.closeButton,onClick:n,children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),d.jsxs("div",{className:ye.tabs,children:[d.jsx("button",{className:`${ye.tab} ${v==="income"?ye.active:""}`,onClick:()=>_("income"),children:"Income & Taxes"}),d.jsx("button",{className:`${ye.tab} ${v==="cashflow"?ye.active:""}`,onClick:()=>_("cashflow"),children:"Cash Flow"})]}),h?d.jsx("div",{className:ye.loading,children:"Loading your profile..."}):d.jsxs("div",{className:ye.content,children:[v==="income"&&d.jsxs("div",{className:ye.formSection,children:[d.jsxs("div",{className:ye.formGroup,children:[d.jsx("label",{children:"Annual Income"}),d.jsxs("div",{className:ye.inputWithPrefix,children:[d.jsx("span",{children:"$"}),d.jsx("input",{type:"number",value:b.annualIncome||"",onChange:w=>x({...b,annualIncome:parseInt(w.target.value)||0}),placeholder:"250000"})]}),d.jsx("span",{className:ye.hint,children:"Your total annual income from all sources"})]}),d.jsxs("div",{className:ye.formGroup,children:[d.jsx("label",{children:"Filing Status"}),d.jsxs("select",{value:b.filingStatus,onChange:w=>x({...b,filingStatus:w.target.value}),children:[d.jsx("option",{value:"single",children:"Single"}),d.jsx("option",{value:"married_joint",children:"Married Filing Jointly"}),d.jsx("option",{value:"married_separate",children:"Married Filing Separately"}),d.jsx("option",{value:"head_household",children:"Head of Household"})]})]}),d.jsxs("div",{className:ye.formGroup,children:[d.jsx("label",{children:"State of Residence"}),d.jsx("select",{value:b.stateOfResidence,onChange:w=>x({...b,stateOfResidence:w.target.value}),children:Object.entries(zx).map(([w,{name:D,rate:k}])=>d.jsxs("option",{value:w,children:[D," (",k===0?"No state tax":`${k}% state tax`,")"]},w))})]}),d.jsxs("div",{className:ye.formGroup,children:[d.jsx("label",{children:"Primary Financial Goal"}),d.jsxs("select",{value:b.primaryGoal,onChange:w=>x({...b,primaryGoal:w.target.value}),children:[d.jsx("option",{value:"tax_optimization",children:"Minimize Taxes"}),d.jsx("option",{value:"wealth_growth",children:"Grow Wealth"}),d.jsx("option",{value:"retirement",children:"Retirement Planning"}),d.jsx("option",{value:"debt_payoff",children:"Pay Off Debt"}),d.jsx("option",{value:"emergency_fund",children:"Build Emergency Fund"})]})]})]}),v==="cashflow"&&d.jsxs("div",{className:ye.formSection,children:[d.jsxs("div",{className:ye.formGroup,children:[d.jsx("label",{children:"Monthly Expenses"}),d.jsxs("div",{className:ye.inputWithPrefix,children:[d.jsx("span",{children:"$"}),d.jsx("input",{type:"number",value:b.monthlyExpenses||"",onChange:w=>x({...b,monthlyExpenses:parseInt(w.target.value)||0}),placeholder:"8000"})]}),d.jsx("span",{className:ye.hint,children:"Average monthly spending including rent, bills, etc."})]}),d.jsxs("div",{className:ye.formGroup,children:[d.jsx("label",{children:"Current Cash / Savings"}),d.jsxs("div",{className:ye.inputWithPrefix,children:[d.jsx("span",{children:"$"}),d.jsx("input",{type:"number",value:b.currentCash||"",onChange:w=>x({...b,currentCash:parseInt(w.target.value)||0}),placeholder:"50000"})]}),d.jsx("span",{className:ye.hint,children:"Total cash in checking and savings accounts"})]}),d.jsxs("div",{className:ye.formGroup,children:[d.jsx("label",{children:"Target Emergency Reserve (months)"}),d.jsxs("select",{value:b.targetReserveMonths,onChange:w=>x({...b,targetReserveMonths:parseInt(w.target.value)}),children:[d.jsx("option",{value:3,children:"3 months"}),d.jsx("option",{value:6,children:"6 months (recommended)"}),d.jsx("option",{value:9,children:"9 months"}),d.jsx("option",{value:12,children:"12 months"})]}),d.jsx("span",{className:ye.hint,children:"How many months of expenses you want in reserve"})]}),b.monthlyExpenses>0&&b.currentCash>0&&d.jsxs("div",{className:ye.cashFlowSummary,children:[d.jsxs("div",{className:ye.summaryItem,children:[d.jsx("span",{className:ye.summaryLabel,children:"Current Reserve"}),d.jsxs("span",{className:ye.summaryValue,children:[(b.currentCash/b.monthlyExpenses).toFixed(1)," months"]})]}),d.jsxs("div",{className:ye.summaryItem,children:[d.jsx("span",{className:ye.summaryLabel,children:"Target Reserve"}),d.jsxs("span",{className:ye.summaryValue,children:["$",(b.monthlyExpenses*(b.targetReserveMonths||6)).toLocaleString()]})]}),b.currentCash<b.monthlyExpenses*(b.targetReserveMonths||6)&&d.jsxs("div",{className:ye.summaryAlert,children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),d.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),d.jsxs("span",{children:["You need $",(b.monthlyExpenses*(b.targetReserveMonths||6)-b.currentCash).toLocaleString()," more to reach your target"]})]})]})]})]}),d.jsxs("div",{className:ye.footer,children:[d.jsx("button",{className:ye.cancelButton,onClick:n,children:"Cancel"}),d.jsx("button",{className:ye.saveButton,onClick:C,disabled:p,children:p?"Saving...":"Save Changes"})]})]})}):null}const Lx="_dashboardLayout_i8fp3_1",qx="_mainContent_i8fp3_7",Hx="_collapsed_i8fp3_15",$x="_topHeader_i8fp3_19",Gx="_headerContent_i8fp3_27",Vx="_headerLeft_i8fp3_37",Ix="_pageTitle_i8fp3_43",Px="_userSection_i8fp3_56",Qx="_userMenuTrigger_i8fp3_62",Kx="_userAvatar_i8fp3_79",Yx="_userName_i8fp3_92",Jx="_chevron_i8fp3_98",Xx="_open_i8fp3_105",Zx="_userDropdown_i8fp3_109",Fx="_dropdownHeader_i8fp3_134",Wx="_dropdownEmail_i8fp3_139",eE="_dropdownDivider_i8fp3_144",tE="_dropdownItem_i8fp3_149",nE="_pageContent_i8fp3_190",aE="_transitioning_i8fp3_197",sE="_dashboardLoading_i8fp3_213",iE="_moduleLoader_i8fp3_220",rE="_loaderSpinner_i8fp3_230",lE="_commandCenter_i8fp3_245",oE="_onboardingLayout_i8fp3_250",uE="_primaryColumn_i8fp3_257",cE="_secondaryColumn_i8fp3_263",hE="_columnTitle_i8fp3_269",dE="_aiAdvisorPromo_i8fp3_278",fE="_promoHeader_i8fp3_285",mE="_promoIcon_i8fp3_291",pE="_promoText_i8fp3_308",yE="_promoTitle_i8fp3_312",vE="_promoDesc_i8fp3_319",gE="_startButton_i8fp3_326",_E="_lockedModules_i8fp3_354",bE="_modulePreview_i8fp3_360",wE="_unlocked_i8fp3_371",SE="_moduleIcon_i8fp3_376",xE="_moduleLock_i8fp3_398",EE="_moduleInfo_i8fp3_417",TE="_moduleName_i8fp3_422",jE="_moduleUnlock_i8fp3_429",AE="_moduleLink_i8fp3_435",OE="_lockedModulePage_i8fp3_451",CE="_lockedContent_i8fp3_458",RE="_lockedIcon_i8fp3_463",NE="_lockedTitle_i8fp3_480",kE="_lockedDesc_i8fp3_487",DE="_lockedAction_i8fp3_494",ME="_disclaimer_i8fp3_806",K={dashboardLayout:Lx,mainContent:qx,collapsed:Hx,topHeader:$x,headerContent:Gx,headerLeft:Vx,pageTitle:Ix,userSection:Px,userMenuTrigger:Qx,userAvatar:Kx,userName:Yx,chevron:Jx,open:Xx,userDropdown:Zx,dropdownHeader:Fx,dropdownEmail:Wx,dropdownDivider:eE,dropdownItem:tE,pageContent:nE,transitioning:aE,dashboardLoading:sE,moduleLoader:iE,loaderSpinner:rE,commandCenter:lE,onboardingLayout:oE,primaryColumn:uE,secondaryColumn:cE,columnTitle:hE,aiAdvisorPromo:dE,promoHeader:fE,promoIcon:mE,promoText:pE,promoTitle:yE,promoDesc:vE,startButton:gE,lockedModules:_E,modulePreview:bE,unlocked:wE,moduleIcon:SE,moduleLock:xE,moduleInfo:EE,moduleName:TE,moduleUnlock:jE,moduleLink:AE,lockedModulePage:OE,lockedContent:CE,lockedIcon:RE,lockedTitle:NE,lockedDesc:kE,lockedAction:DE,disclaimer:ME},UE=$.lazy(()=>Hi(()=>import("./ChargeAI-y2REH09j.js"),__vite__mapDeps([0,1]))),zE=$.lazy(()=>Hi(()=>import("./ChargeTaxIntel-CZQj6smG.js"),__vite__mapDeps([2,3]))),BE=$.lazy(()=>Hi(()=>import("./ChargeAllocation-Rar75gbN.js"),__vite__mapDeps([4,5]))),LE=$.lazy(()=>Hi(()=>import("./Playbooks-B0Msh8nE.js"),__vite__mapDeps([6,7]))),qE=$.lazy(()=>Hi(()=>import("./ReferralDashboard-C-rPe2dB.js"),__vite__mapDeps([8,9])));function Ti(){return d.jsxs("div",{className:K.moduleLoader,children:[d.jsx("div",{className:K.loaderSpinner}),d.jsx("span",{children:"Loading..."})]})}function HE(){const{theme:s,toggleTheme:n}=p_();return d.jsxs("button",{onClick:n,className:K.dropdownItem,children:[s==="dark"?d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("circle",{cx:"12",cy:"12",r:"5"}),d.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),d.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),d.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),d.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),d.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),d.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),d.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),d.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),s==="dark"?"Light Mode":"Dark Mode"]})}function Dp(){const{user:s}=wy(),[n,r]=$.useState(!1),[l,c]=$.useState(!1),h=$.useRef(null),[f]=Wp(),[p,y]=$.useState(!1),[v,_]=$.useState(f),[b,x]=$.useState({hasTaxData:!1,hasPositions:!1,hasProfile:!1,hasCashFlow:!1}),[O,C]=$.useState(!1),[w,D]=$.useState(!1),[k,G]=$.useState(!0);$.useEffect(()=>{(async()=>{G(!0);try{const[ve,Ie,Xe]=await Promise.all([fetch("/api/charge-ai/context",{credentials:"include"}),fetch("/api/allocation/portfolio",{credentials:"include"}),fetch("/api/tax-intel/current",{credentials:"include"})]),U=ve.ok?await ve.json():null,I=Ie.ok?await Ie.json():null,ae=Xe.ok?await Xe.json():null,Te=!!U?.hasProfile,je=I?.portfolio?.positions?.length>0,T=!!ae?.taxData||!!U?.hasTaxData,L=!!(U?.profile?.monthlyExpenses&&U?.profile?.currentCash);x({hasTaxData:T,hasPositions:je,hasProfile:Te,hasCashFlow:L})}catch(ve){console.error("Failed to check user data:",ve)}finally{G(!1)}})()},[]),$.useEffect(()=>{new URLSearchParams(window.location.search).get("showOnboarding")==="true"&&(C(!0),window.history.replaceState({},"","/dashboard"))},[]),$.useEffect(()=>{const oe=Ie=>{h.current&&!h.current.contains(Ie.target)&&c(!1)},ve=Ie=>{Ie.key==="Escape"&&c(!1)};return l&&(document.addEventListener("mousedown",oe),document.addEventListener("keydown",ve)),()=>{document.removeEventListener("mousedown",oe),document.removeEventListener("keydown",ve)}},[l]),$.useEffect(()=>{c(!1)},[f]),$.useEffect(()=>{if(f!==v){y(!0);const oe=setTimeout(()=>{_(f),y(!1)},150);return()=>clearTimeout(oe)}},[f,v]),$.useEffect(()=>{const oe={"/dashboard":"Command Center | Charge Wealth","/dashboard/ai":"AI Advisor | Charge Wealth","/dashboard/tax-intel":"Tax Advisor | Charge Wealth","/dashboard/allocation":"Portfolio Engine | Charge Wealth","/dashboard/playbooks":"Playbooks | Charge Wealth","/dashboard/referrals":"Referral Program | Charge Wealth"};document.title=oe[f]||"Charge Wealth"},[f]);const H=()=>{window.location.href="/api/logout"},F=f==="/dashboard",ee=(()=>{let oe=0;return b.hasProfile&&(oe+=20),b.hasTaxData&&(oe+=30),b.hasPositions&&(oe+=30),b.hasCashFlow&&(oe+=20),oe})(),Q=()=>F?"Command Center":f.includes("/ai")?"AI Advisor":f.includes("tax-intel")?"Tax Advisor":f.includes("allocation")?"Portfolio Engine":f.includes("playbooks")?"Playbooks":f.includes("referrals")?"Referral Program":"Charge Wealth",te=oe=>oe==="ai"||oe==="command-center"?!1:oe==="playbooks"?ee<20:!1,Re=()=>{C(!1)},nt=async()=>{try{const oe=await fetch("/api/charge-ai/context",{credentials:"include"});if(oe.ok){const ve=await oe.json(),Ie=!!(ve?.profile?.monthlyExpenses&&ve?.profile?.currentCash);x(Xe=>({...Xe,hasProfile:!!ve?.hasProfile,hasCashFlow:Ie}))}}catch(oe){console.error("Failed to refresh user data:",oe)}},Ge=oe=>{(oe==="profile"||oe==="cashflow")&&D(!0)};return O?d.jsx(Ey,{onComplete:Re}):d.jsxs("div",{className:K.dashboardLayout,children:[d.jsx(Mw,{onCollapse:r,wealthScore:ee}),d.jsx(Bx,{isOpen:w,onClose:()=>D(!1),onSave:nt}),d.jsxs("div",{className:`${K.mainContent} ${n?K.collapsed:""}`,children:[d.jsx("header",{className:K.topHeader,children:d.jsxs("div",{className:K.headerContent,children:[d.jsx("div",{className:K.headerLeft,children:d.jsx("h1",{className:K.pageTitle,children:Q()})}),d.jsxs("div",{className:K.userSection,ref:h,children:[d.jsxs("button",{className:K.userMenuTrigger,onClick:()=>c(!l),"aria-expanded":l,"aria-haspopup":"true",children:[d.jsx("div",{className:K.userAvatar,children:(s?.firstName?.[0]||s?.email?.[0]||"U").toUpperCase()}),d.jsx("span",{className:K.userName,children:s?.firstName||s?.email?.split("@")[0]}),d.jsx("svg",{className:`${K.chevron} ${l?K.open:""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M6 9l6 6 6-6"})})]}),l&&d.jsxs("div",{className:K.userDropdown,children:[d.jsx("div",{className:K.dropdownHeader,children:d.jsx("span",{className:K.dropdownEmail,children:s?.email})}),d.jsx("div",{className:K.dropdownDivider}),d.jsx(HE,{}),d.jsxs("a",{href:"/dashboard/referrals",className:K.dropdownItem,children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2"}),d.jsx("circle",{cx:"9",cy:"7",r:"4"}),d.jsx("path",{d:"M22 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]}),"Refer & Earn $50"]}),d.jsxs("button",{onClick:H,className:K.dropdownItem,children:[d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4M16 17l5-5-5-5M21 12H9"})}),"Sign Out"]})]})]})]})}),d.jsx("div",{id:"main-content",className:`${K.pageContent} ${p?K.transitioning:""}`,children:k?d.jsx("div",{className:K.dashboardLoading,children:d.jsx(ox,{size:"large",text:"Loading your dashboard..."})}):d.jsxs(ny,{children:[d.jsx(jn,{path:"/dashboard",children:d.jsx(Aa,{moduleName:"default",children:d.jsxs("div",{className:K.commandCenter,children:[d.jsxs("div",{className:K.onboardingLayout,children:[d.jsxs("div",{className:K.primaryColumn,children:[d.jsxs("div",{className:K.aiAdvisorPromo,children:[d.jsxs("div",{className:K.promoHeader,children:[d.jsx("div",{className:K.promoIcon,children:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"}),d.jsx("circle",{cx:"8",cy:"14",r:"1.5"}),d.jsx("circle",{cx:"16",cy:"14",r:"1.5"})]})}),d.jsxs("div",{className:K.promoText,children:[d.jsx("h2",{className:K.promoTitle,children:"Your AI Advisor"}),d.jsx("p",{className:K.promoDesc,children:"Ask any financial question. Get clear answers based on your actual data."})]})]}),d.jsxs("a",{href:"/dashboard/ai",className:K.startButton,children:["Start Conversation",d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]}),d.jsx(oS,{hasTaxData:b.hasTaxData,hasPositions:b.hasPositions,hasProfile:b.hasProfile,hasCashFlow:b.hasCashFlow,onStepClick:Ge}),d.jsx(t2,{})]}),d.jsxs("div",{className:K.secondaryColumn,children:[d.jsx("h3",{className:K.columnTitle,children:"Unlock More Tools"}),d.jsxs("div",{className:K.lockedModules,children:[d.jsxs("div",{className:`${K.modulePreview} ${te("tax-intel")?"":K.unlocked}`,children:[d.jsxs("div",{className:K.moduleIcon,children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),te("tax-intel")&&d.jsx("div",{className:K.moduleLock,children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3z"})})})]}),d.jsxs("div",{className:K.moduleInfo,children:[d.jsx("h4",{className:K.moduleName,children:"Tax Advisor"}),d.jsx("p",{className:K.moduleUnlock,children:te("tax-intel")?"Upload tax return to unlock":"Find tax-saving opportunities"})]}),!te("tax-intel")&&d.jsx("a",{href:"/dashboard/tax-intel",className:K.moduleLink,children:"Open"})]}),d.jsxs("div",{className:`${K.modulePreview} ${te("allocation")?"":K.unlocked}`,children:[d.jsxs("div",{className:K.moduleIcon,children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M12 2a10 10 0 1 0 10 10"}),d.jsx("path",{d:"M12 2v10l6.5-3.5"}),d.jsx("path",{d:"M12 12l6.5 3.5"})]}),te("allocation")&&d.jsx("div",{className:K.moduleLock,children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3z"})})})]}),d.jsxs("div",{className:K.moduleInfo,children:[d.jsx("h4",{className:K.moduleName,children:"Portfolio Engine"}),d.jsx("p",{className:K.moduleUnlock,children:te("allocation")?"Add positions to unlock":"Analyze risk & allocation"})]}),!te("allocation")&&d.jsx("a",{href:"/dashboard/allocation",className:K.moduleLink,children:"Open"})]}),d.jsxs("div",{className:`${K.modulePreview} ${te("playbooks")?"":K.unlocked}`,children:[d.jsxs("div",{className:K.moduleIcon,children:[d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[d.jsx("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2"}),d.jsx("rect",{x:"9",y:"3",width:"6",height:"4",rx:"1"}),d.jsx("path",{d:"M9 12l2 2 4-4"})]}),te("playbooks")&&d.jsx("div",{className:K.moduleLock,children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3z"})})})]}),d.jsxs("div",{className:K.moduleInfo,children:[d.jsx("h4",{className:K.moduleName,children:"Playbooks"}),d.jsx("p",{className:K.moduleUnlock,children:te("playbooks")?"Complete profile to unlock":"Step-by-step action plans"})]}),!te("playbooks")&&d.jsx("a",{href:"/dashboard/playbooks",className:K.moduleLink,children:"Open"})]})]})]})]}),d.jsx("div",{className:K.disclaimer,children:"Charge Wealth provides decision support based on your data. We don't sell products, manage money, or give personalized recommendations. Consult qualified professionals before acting."})]})})}),d.jsx(jn,{path:"/dashboard/ai",children:d.jsx(Aa,{moduleName:"ai",children:d.jsx($.Suspense,{fallback:d.jsx(Ti,{}),children:d.jsx(UE,{})})})}),d.jsx(jn,{path:"/dashboard/tax-intel",children:d.jsx(Aa,{moduleName:"tax",children:d.jsx($.Suspense,{fallback:d.jsx(Ti,{}),children:te("tax-intel")?d.jsx(ec,{title:"Tax Advisor",description:"Upload your tax return to unlock tax optimization insights.",requiredAction:"Upload Tax Return",actionPath:"/dashboard/ai"}):d.jsx(zE,{})})})}),d.jsx(jn,{path:"/dashboard/allocation",children:d.jsx(Aa,{moduleName:"portfolio",children:d.jsx($.Suspense,{fallback:d.jsx(Ti,{}),children:te("allocation")?d.jsx(ec,{title:"Portfolio Engine",description:"Add your portfolio positions to unlock CFA-level analysis.",requiredAction:"Add Portfolio Positions",actionPath:"/dashboard/ai"}):d.jsx(BE,{})})})}),d.jsx(jn,{path:"/dashboard/playbooks",children:d.jsx(Aa,{moduleName:"default",children:d.jsx($.Suspense,{fallback:d.jsx(Ti,{}),children:te("playbooks")?d.jsx(ec,{title:"Playbooks",description:"Complete your financial profile to unlock step-by-step action plans.",requiredAction:"Complete Profile",actionPath:"/dashboard/ai"}):d.jsx(LE,{})})})}),d.jsx(jn,{path:"/dashboard/referrals",children:d.jsx(Aa,{moduleName:"referrals",children:d.jsx($.Suspense,{fallback:d.jsx(Ti,{}),children:d.jsx(qE,{})})})})]})})]})]})}function ec({title:s,description:n,requiredAction:r,actionPath:l}){return d.jsx("div",{className:K.lockedModulePage,children:d.jsxs("div",{className:K.lockedContent,children:[d.jsx("div",{className:K.lockedIcon,children:d.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 2C9.24 2 7 4.24 7 7v2H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v2H9V7c0-1.66 1.34-3 3-3zm0 10c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"})})}),d.jsx("h2",{className:K.lockedTitle,children:s}),d.jsx("p",{className:K.lockedDesc,children:n}),d.jsxs("a",{href:l,className:K.lockedAction,children:[r,d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:d.jsx("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})})}function $E(){return d.jsx(k0,{client:I0,children:d.jsx(m_,{children:d.jsxs(F2,{children:[d.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to main content"}),d.jsx(Aa,{moduleName:"default",children:d.jsx(IE,{})})]})})})}function GE(){return d.jsx("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg, #0F1117 0%, #1A1D28 100%)",padding:"2rem"},children:d.jsxs("div",{style:{textAlign:"center",maxWidth:"400px"},children:[d.jsx("h1",{style:{fontSize:"2rem",fontWeight:"600",color:"#C9A962",marginBottom:"0.5rem",letterSpacing:"0.05em"},children:"Charge Wealth"}),d.jsx("p",{style:{fontSize:"1.125rem",color:"#F4F5F7",marginBottom:"0.5rem"},children:"Welcome back"}),d.jsx("p",{style:{fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.6)",marginBottom:"2rem",lineHeight:"1.5"},children:"Sign in to access your financial decision tools."}),d.jsx("a",{href:"/api/login",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",width:"100%",background:"#C9A962",color:"#0F1117",padding:"0.875rem 1.5rem",fontSize:"0.9375rem",fontWeight:"600",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",textDecoration:"none"},children:"Sign In with Replit"}),d.jsx("p",{style:{marginTop:"2rem",fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.4)"},children:"No 1% AUM fees. No sales. No BS."})]})})}function VE(){return d.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0F1117"},children:d.jsx("div",{style:{textAlign:"center",color:"#C9A962"},children:d.jsx("p",{children:"Loading..."})})})}function IE(){const{isLoading:s,isAuthenticated:n}=X1(),{isLoading:r,isAuthenticated:l}=wy(),[c,h]=$.useState(!1),f=s&&r,p=n||l,{data:y,isLoading:v,refetch:_}=Pp({queryKey:["/api/user/onboarding-status"],enabled:p});if(f)return d.jsx(VE,{});if(!p)return d.jsx(GE,{});const b=p&&!c&&!v&&y&&!y.onboardingCompleted,x=()=>{h(!0),_()};return d.jsxs(d.Fragment,{children:[b&&d.jsx(Ey,{onComplete:x}),d.jsxs(ny,{children:[d.jsx(jn,{path:"/dashboard",component:Dp}),d.jsx(jn,{path:"/dashboard/:module",component:Dp}),d.jsx(jn,{children:d.jsx(f_,{to:"/dashboard"})})]})]})}r0.createRoot(document.getElementById("root")).render(d.jsx(Up.StrictMode,{children:d.jsx($E,{})}));export{ox as L,Fg as R,n0 as a,fl as b,Y0 as c,Pp as d,Mp as g,d as j,$ as r,xy as u};
